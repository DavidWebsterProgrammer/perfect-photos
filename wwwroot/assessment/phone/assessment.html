<HTML><HEAD>
<TITLE charset=iso-8859-1>Assessment</TITLE>
<META HTTP-EQUIV="imagetoolbar" CONTENT="no">
<META HTTP-EQUIV='Content-Type' CONTENT='text/html; charset=iso-8859-1' />
<META NAME="Creator" CONTENT="KnowledgePresenter XII">
<META NAME="Date" CONTENT="17/01/2017 2:54:21 PM">
<META NAME="Format" CONTENT="text/html || 50000 bytes">
<META NAME="Identifier" scheme="URI" CONTENT="">
<META charset=iso-8859-1 NAME="Title" CONTENT="Assessment">
<META NAME="Type" CONTENT="Interactive Resource">
<META NAME="apple-mobile-web-app-title" Content="Assessment">
<meta name="application-name" content="Assessment"/>
<meta name="msapplication-tooltip" content="Assessment"/>
<meta name="HandheldFriendly" content="true"/>
<meta name="MobileOptimized" content="540"/>
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7,IE=EmulateIE8,IE=EmulateIE9,IE=EmulateIE10"/>
<meta name='msapplication-square70x70logo' content='w8_7070.png'/>
<meta name='msapplication-square150x150logo' content='w8_150150.png'/>
<meta name='msapplication-wide310x150logo' content='w8_310150.png'/>
<meta name='msapplication-square310x310logo' content='w8_310310.png'/>
<meta name="msapplication-window" content="width=540;height=852"/>
<meta name="viewport" content="width=540, target-densitydpi=device-dpi, user-scalable=yes, minimal-ui"/>
<SCRIPT>
var showcontextmenu=false
function enablecontextmenu(){showcontextmenu=true
if(isiphone==1||isitouch==1||isblackberry||ishoney==1){document.body.style.webkitTouchCallout='default'}}
function disablecontextmenu(){showcontextmenu=false
if(isiphone==1||isitouch==1||isblackberry||ishoney==1){document.body.style.webkitTouchCallout='none'}}
</SCRIPT>
<SCRIPT>
var ishoney=0
if(navigator.userAgent.indexOf('Android')>-1){tmp=navigator.userAgent.split('Android')
vers=parseInt(tmp[1])
if(vers>=3){ishoney=1}}
metatags = document.getElementsByTagName("meta");
for (cnt = 0; cnt < metatags.length; cnt++){if(metatags[cnt].getAttribute("name")=="viewport"){if(ishoney==1||navigator.userAgent.indexOf('iPad')>-1||navigator.userAgent.indexOf('iPhone')>-1||navigator.userAgent.indexOf('iPod')>-1){metatags[cnt].setAttribute("content", "width=540, user-scalable=no, minimal-ui");}}}
</SCRIPT>
<META NAME="Publisher" CONTENT="KS">
<script src="ac.js" type="text/javascript"></script>
<link rel="icon" type="image/png" href="suicon.png">
<link rel="icon" sizes="192x192" type="image/png" href="androidicon.png">
<link rel="apple-touch-icon" href="suicon.png">
<meta name="msapplication-TileImage" content="mssuicon.png"/>
<meta name="msapplication-TileColor" content="#336699"/>
<SCRIPT>
var z8=setTimeout,z9=setInterval,y1=clearTimeout,y2=clearInterval
function fixgraph(oix){if(hasstarted==false){return}
if(isfirefox||tbro=='ie'){return};if(f[oix].gtext!=''){nw=parseInt(f[oix].wwidth * zratio), nh=parseInt(f[oix].hheight * zratio)
f[oix].ftext=fur(f[oix].gtext,'width=' + f[oix].wwidth,'width=' + nw),f[oix].ftext=fur(f[oix].ftext,'height=' + f[oix].hheight,'height=' + nh)
if(nw>f[oix].wwidth){f[oix].ftext=fur(f[oix].ftext,'width:' + f[oix].wwidth,'width:' + nw),f[oix].ftext=fur(f[oix].ftext,'height:' + f[oix].hheight,'height:' + nh)}
if(f[oix].object.style.visibility=='visible'){fixFlash(oix,0);fixFlash(oix,1)}}}
function pfocus(){}
function pblur(){}
function pshow(){}
function phide(){}
</SCRIPT>
<STYLE TYPE='text/css'>
@-moz-keyframes fadeIn {0%{opacity: 0;}100%{opacity: 1;}}
@keyframes fadeIn {from {opacity: 0;}to{opacity: 1;}}
@-webkit-keyframes akpcs18 {0% {left:540px;top:574px;opacity:0;}
100% {left:142px;top:574px;opacity:1;}}
@-webkit-keyframes akpcs17 {0% {left:540px;top:466px;opacity:0;}
100% {left:142px;top:466px;opacity:1;}}
@-webkit-keyframes akpcs16 {0% {left:540px;top:358px;opacity:0;}
100% {left:142px;top:358px;opacity:1;}}
@-webkit-keyframes akpcs15 {0% {left:540px;top:251px;opacity:0;}
100% {left:142px;top:251px;opacity:1;}}
.opac90 {filter:alpha(opacity=90);-moz-opacity:0.90;opacity:0.90;}
body {-ms-touch-action:none;-webkit-tap-highlight-color: rgba(0,0,0,0);-webkit-user-select:none;}
html {width:540px; height:852px;}
.resopac99 {filter:alpha(opacity=99.9);}
A {text-decoration:none;}
P {margin-left:0;margin-bottom:0;margin-right:0;margin-top:0;font-family:Segoe UI,Thornburi,Droid Sans,Arial;font-size:8pt;color:#000000;font-weight:normal;font-style:normal;}
.loading {margin-top:0;font-family:Arial;font-size:14pt;color:#FFFFFF;font-weight:bold;font-style:normal;text-align:center;}
.flash {margin-left:0px;margin-right:0px;margin-top:0px;margin-bottom:0px;}
.listview {cursor:pointer;margin-left:0px;margin-top:0px;margin-bottom:0px;margin-right:0px;padding-bottom:5px;padding-top:5px;padding-right:5px;padding-left:5px;height:45px;border-bottom:1px solid #e0e0e0;}
.listview2 {cursor:pointer;margin-left:0px;margin-top:0px;margin-bottom:0px;margin-right:0px;padding-bottom:5px;padding-top:5px;padding-right:5px;padding-left:5px;background:-webkit-gradient(linear, left top, left bottom, from(#e5e5e5), to(#c0c0c0));background-color:#c0c0c0;height:45px;border-bottom:1px solid #e0e0e0;}
.listviewx {cursor:pointer;margin-left:0px;margin-top:0px;margin-bottom:0px;margin-right:0px;padding-bottom:5px;padding-top:5px;padding-right:5px;padding-left:5px;height:45px;border-bottom:1px solid #e0e0e0;}
.listview2x {cursor:pointer;margin-left:0px;margin-top:0px;margin-bottom:0px;margin-right:0px;padding-bottom:5px;padding-top:5px;padding-right:5px;padding-left:5px;background:-webkit-gradient(linear, left top, left bottom, from(#e5e5e5), to(#c0c0c0));height:37px;border-bottom:1px solid #e0e0e0;}
.indexbackhead {margin-left:0px;margin-top:0px;margin-bottom:0px;margin-right:0px;overflow:visible;position:absolute;left:0px;top:0px;background:-webkit-gradient(linear, left top, left bottom, from(#c6c7f6), to(#003366));border-top:0px solid #a5b2ba; border-bottom:0px solid #a9b0b7;}
.indexbackheadgs {margin-left:0px;margin-top:0px;margin-bottom:0px;margin-right:0px;overflow:visible;position:absolute;left:0px;top:0px;background:-webkit-gradient(linear, left top, left bottom, from(#c0c0c0), to(#404040));}
.subindextext {margin-left:0px;margin-top:0px;margin-bottom:0px;margin-right:0px;font-size:16pt;color:#0d6597;}
.subindextextx {margin-left:10px;margin-top:0px;margin-bottom:0px;margin-right:10px;font-size:16pt;color:#0d6597;}
.KPMessage{margin-bottom:0px;margin-top:0px;font-family:Arial;font-size:18pt;color:#FFFFFF;font-weight:bold;font-style:normal;text-align:center;}
.KPMessage{margin-left:0px;margin-right:0px;margin-bottom:0px;margin-top:0px;font-family:Arial;font-size:18pt;color:#FFFFFF;font-weight:bold;font-style:normal;text-align:center;}
.layer47{margin-bottom:0px;margin-top:0px;font-family:Arial;font-size:16pt;color:#000000;font-weight:normal;font-style:normal;}
.KPMessage{margin-bottom:0px;margin-top:0px;font-family:Arial;font-size:16pt;color:#828282;font-weight:normal;font-style:normal;text-align:center;}
.layer25{margin-bottom:0px;margin-top:0px;font-family:Arial;font-size:16pt;color:#323232;font-weight:normal;font-style:normal;}
.layer19{margin-bottom:0px;margin-top:0px;font-family:Arial;font-size:16pt;color:#FFFFFF;font-weight:bold;font-style:normal;text-align:center;}
.layer15{margin-bottom:0px;margin-top:0px;font-family:Arial;font-size:16pt;color:#6B6B6B;font-weight:normal;font-style:normal;}
.layer14{margin-bottom:0px;margin-top:0px;font-family:Arial;font-size:16pt;color:#6B6B6B;font-weight:bold;font-style:normal;text-align:center;}
.layer5{margin-bottom:0px;margin-top:0px;font-family:Segoe UI;font-size:14.25pt;color:#000000;font-weight:normal;font-style:normal;text-align:center;}
.layer2{margin-bottom:0px;margin-top:0px;font-family:Segoe UI;font-size:40.5pt;color:#FFFFFF;font-weight:bold;font-style:normal;text-align:center;}
._kpanim61 {-webkit-animation: rotatez 5s infinite linear;animation: rotatez 5s infinite linear;}
._kpanim60 {-webkit-animation: rotatez 5s infinite linear;animation: rotatez 5s infinite linear;}
._kpanim51 {-webkit-animation: rotatez 5s infinite linear;animation: rotatez 5s infinite linear;}
._kpanim22 {-webkit-animation: rotatez 5s infinite linear;animation: rotatez 5s infinite linear;}
._kpanim21 {-webkit-animation: rotatez 30s infinite linear;animation: rotatez 30s infinite linear;}
._kpanim13 {-webkit-animation: rotatez 30s infinite linear;animation: rotatez 30s infinite linear;}
._kpanimsgbox {-webkit-animation: msgbox .3s 1 ease-in-out;}
._kpanimsgbox2 {-webkit-animation: msgbox2 .3s 1 ease-in-out;}
._kpanikpcs18 {-webkit-animation: akpcs18 0.5s 1 ease-out;}
._kpanikpcs17 {-webkit-animation: akpcs17 0.5s 1 ease-out;}
._kpanikpcs16 {-webkit-animation: akpcs16 0.5s 1 ease-out;}
._kpanikpcs15 {-webkit-animation: akpcs15 0.5s 1 ease-out;}
@-webkit-keyframes mleft{0%{-webkit-transform:translateX(0%);}
100%{-webkit-transform:translateX(-100%);}}
@-webkit-keyframes mright{0%{-webkit-transform:translateX(-100%);}
100%{-webkit-transform:translateX(0%);}}
@-webkit-keyframes mdown{0%{-webkit-transform:translateY(-50%);}
100%{-webkit-transform:translateY(0%);}}
@-webkit-keyframes mup{0%{-webkit-transform:translateY(0%);}
100%{-webkit-transform:translateY(-50%);}}
@-ms-keyframes mleft{0%{transform:translateX(0%);}
100%{transform:translateX(-100%);}}
@-ms-keyframes mright{0%{transform:translateX(-100%);}
100%{transform:translateX(0%);}}
@-ms-keyframes mdown{0%{transform:translateY(-50%);}
100%{transform:translateY(0%);}}
@-ms-keyframes mup{0%{transform:translateY(0%);}
100%{transform:translateY(-50%);}}
@-moz-keyframes mleft{0%{-moz-transform:translateX(0%);}
100%{-moz-transform:translateX(-100%);}}
@-moz-keyframes mright{0%{-moz-transform:translateX(-100%);}
100%{-moz-transform:translateX(0%);}}
@-moz-keyframes mdown{0%{-moz-transform:translateY(-50%);}
100%{-moz-transform:translateY(0%);}}
@-moz-keyframes mup{0%{-moz-transform:translateY(0%);}
100%{-moz-transform:translateY(-50%);}}
</STYLE>
<!--[if IE]>
<STYLE TYPE='text/css'>
P {margin-top:0;line-height:normal;font-family:Segoe UI,Thornburi,Droid Sans,Arial;font-size:8pt;color:#000000;font-weight:normal;font-style:normal;}
</STYLE>
<![endif]-->
<SCRIPT>
function getArg(arg){if(location.search==''){return ''}
aGs=location.search.substring(1,location.search.length) + '&'
aGspos=aGs.indexOf(arg)
if(aGspos>-1){aGs=aGs.substring(aGspos,aGs.length)
aGspos=aGs.indexOf('&')
aGs=aGs.substring(0,aGspos)
aGspos=aGs.indexOf('=')
aGs=aGs.substring(aGspos+1,aGs.length)
return aGs
}else{return ''}}
function editobjects(){}
if(navigator.userAgent.indexOf('AppleWebKit')>-1&&navigator.userAgent.indexOf('Linux')>-1){document.write("<link rel='stylesheet' href='safaricss.css'>")}else{if(navigator.userAgent.indexOf('Android')>-1||navigator.userAgent.indexOf('Safari')>-1||navigator.userAgent.indexOf('iPhone')>-1||navigator.userAgent.indexOf('iPad')>-1||navigator.userAgent.indexOf('iPod')>-1){document.write("<link rel='stylesheet' href='safaricss.css'>")}}
isie10=false;tmp=navigator.appVersion.split('MSIE');vers=parseFloat(tmp[1]);if(vers>=10){isie10=true}
if(navigator.userAgent.indexOf('Edge/')>-1||isie10||navigator.userAgent.indexOf('Firefox')>-1){document.write("<link rel='stylesheet' href='ie10css.css'>")}else{ua=navigator.userAgent
if(isie10==false&&ua.indexOf('Safari')==-1&&ua.indexOf('CriOS')==-1&&ua.indexOf('Chrome')==-1&&ua.indexOf('Linux')==-1&&ua.indexOf('iPhone')==-1&&ua.indexOf('iPad')==-1&&ua.indexOf('iPod')==-1&&ua.indexOf('Android')==-1&&ua.indexOf('AppleWebKit')==-1&&ua.indexOf('IEMobile')==-1&&ua.indexOf('Opera')==-1&&ua.indexOf('FireFox')==-1){tmp=navigator.appVersion.split('Trident/'),vers=parseFloat(tmp[1])
if(vers>=7){document.write("<link rel='stylesheet' href='ie10css.css'>")}}}
function nosel(){if(typeof(currentfreeform)=='undefined'){currentfreeform=-1}
if(currentfreeform==-1){return false}}
document.onselectstart=nosel
function disabletext(e){return false}
function reEnable(){return true}
if(window.sidebar){document.onmousedown=disabletext
document.onclick=reEnable}
window.offScreenBuffering=true
var acmaxzoom=400, acminzoom=10, forceqtime=false
</SCRIPT>
</HEAD>
<SCRIPT>
var d=document;function fur(rstring,rwith,rwith2){rstring=new String(rstring),rwith=new String(rwith),rwith2=new String(rwith2)
if(rwith2.indexOf(rwith)==-1){do{rstring = rstring.replace(rwith, rwith2)}
while (rstring.indexOf(rwith, 1) > 0)}
return rstring}
var hasstarted=false, emailsent=false, currentfreeform=-1
var intChildren=''
var launchexe=false
var minusvalues=0
function returnScore(){ascore = 0
for(ik=0; ik<theobs.length;ik++){gwrong=0
gright = 0
for(jk=0; jk<f.length;jk++){if(f[jk].ename==theobs[ik]&&f[jk].score==True){if(f[jk].result=='correct'){gright=gright+1}
if(f[jk].result=='wrong'){gwrong=gwrong+1}
if(allowpartial==1){if(isNaN(f[jk].result)==false){gright=gright+(f[jk].result/100)
gwrong=1-gright}}}}
if(gright>0){if(typeof obsds[ik]!='undefined'){fullp=obsds[ik]}else{fullp=1}
if(fullp==100){fullp=1}
scoretemp=(gright/(gright+gwrong)) * getobvalue(theobs[ik])
scoretemp=scoretemp * fullp
ascore=ascore+scoretemp}else{if(minusvalues==1&&gwrong>0){ascore=ascore-getobvalue(theobs[ik])}}}
if(ascore<0){ascore=0}
ascore = (parseInt(ascore * 100) / 100)
score = ascore
return score}
var uctp=false
function stopVideo(parm){if(t_lesson_status=='donenr'){scostatus='completed'}
if(speech!=''){if(speechon==1){speechSynthesis.cancel()}}
for(ik=0; ik<f.length;ik++){if(f[ik].usernote){ro=getObject('mainp'+ik)
xwritedata(f[ik].objectname,ro.value);break}}
if(hasstarted==false){return}
if(thepos==-1){return}
uctp=true
if(possiblescore>0){uctp=false}
if(issurvey==true){totalscore=0}
checkthescore=returnquizscore()
if(checkthescore!=-1){totalscore=checkthescore}
if(totalscore>0){SaveData()}
if((APIOK())&&(bFinishDone==false)){scorechildren=LMSGetValue('cmi.core.score._children')
var finalscore=0
if(issurvey==false){totalscore=possiblescore
checkthescore=returnquizscore()
if(checkthescore!=-1){totalscore=checkthescore}
if(totalscore>0){finalscore=(score/totalscore)*100
if(finalscore>100){finalscore=100}
if(finalscore<0){finalscore=0}
if(scorechildren.indexOf('raw')!=-1){LMSSetValue('cmi.core.score.raw',finalscore)}}
if(scorechildren.indexOf('max')!=-1){if(totalscore==0){LMSSetValue('cmi.core.score.max',0)}else{LMSSetValue('cmi.core.score.max',100)}}}
thefeedback='',jf=-1
for (j=0; j<f.length; j++){if(f[j].feedback){nto=getObject('mainp' + j);
thefeedback=thefeedback + nto.value + ' '
jf=j}}
if(jf>-1){thefeedback = thefeedback.replace(new RegExp('\\r', 'g'), '');
thefeedback = thefeedback.replace(new RegExp('\\n', 'g'), '<BR>');
thefeedback = fur(thefeedback, "'", '&#39;')
thefeedback = fur(thefeedback, '  ', ' ')}
if(signaturedata!=''){thefeedback=thefeedback + ' - SIGNATURE DATA - (' + signaturedata + ')'}
if(thefeedback!=''){LMSSetValue('cmi.comments',escape(thefeedback))}
cmisD = new Date();
cmiet = cmisD.getTime() - cmistarttime
cmiendtime = getTime(cmiet)
if(scostatus=='not attempted'){LMSSetValue('cmi.core.session_time','0000:00:00')}else{LMSSetValue('cmi.core.session_time',cmiendtime)}
if(hasascore==1&&scostatus=='incomplete'){scostatus='failed'}
if(issurvey){scostatus='completed'}
LMSSetValue('cmi.core.lesson_status',scostatus)
if(uctp){LMSSetValue('cmi.suspend_data',thepos)}else{LMSSetValue('cmi.suspend_data',0)}
if(issurvey==false){intChildren = LMSGetValue('cmi.interactions._children')
if(typeof intChildren=='undefined'){intChildren=''}
for (j=0; j<questions.length; j++){if(q_result[j]!=''){qids[q_id[j]-1]=fur(qids[q_id[j]-1],' ','_')
if(intChildren.indexOf('id')!=-1){LMSSetValue('cmi.interactions.' + j + '.id',qids[q_id[j]-1])}
iendtime=getTime(q_time[j])
iendtime=iendtime.substring(2,iendtime.length)
if(intChildren.indexOf('time')!=-1){LMSSetValue('cmi.interactions.' + j + '.time',iendtime)}
if(intChildren.indexOf('type')!=-1){LMSSetValue('cmi.interactions.' + j + '.type','choice')}
if(intChildren.indexOf('correct_responses')!=-1){pcounter=0
if(getcorrect(q_id[j]-1,'A')==1){LMSSetValue('cmi.interactions.' + j + '.correct_responses.0.pattern','A')
pcounter=pcounter+1}
if(getcorrect(q_id[j]-1,'B')==1){LMSSetValue('cmi.interactions.' + j + '.correct_responses.' + pcounter + '.pattern','B')
pcounter=pcounter+1}
if(getcorrect(q_id[j]-1,'C')==1){LMSSetValue('cmi.interactions.' + j + '.correct_responses.' + pcounter + '.pattern','C')
pcounter=pcounter+1}
if(getcorrect(q_id[j]-1,'D')==1){LMSSetValue('cmi.interactions.' + j + '.correct_responses.' + pcounter + '.pattern','D')
pcounter=pcounter+1}
if(getcorrect(q_id[j]-1,'E')==1){LMSSetValue('cmi.interactions.' + j + '.correct_responses.' + pcounter + '.pattern','E')
pcounter=pcounter+1}
if(getcorrect(q_id[j]-1,'F')==1){LMSSetValue('cmi.interactions.' + j + '.correct_responses.' + pcounter + '.pattern','F')
pcounter=pcounter+1}}
studentanswer='F'
if(q_studentresponse[j]=='A'){studentanswer='A'}
if(q_studentresponse[j]=='B'){studentanswer='B'}
if(q_studentresponse[j]=='C'){studentanswer='C'}
if(q_studentresponse[j]=='D'){studentanswer='D'}
if(q_studentresponse[j]=='E'){studentanswer='E'}
if(q_studentresponse[j]=='F'){studentanswer='F'}
if(intChildren.indexOf('weighting')!=-1){LMSSetValue('cmi.interactions.' + j + '.weighting',getweight(j, studentanswer))}
if(intChildren.indexOf('result')!=-1){LMSSetValue('cmi.interactions.' + j + '.result',q_result[j])}
if(intChildren.indexOf('student_response')!=-1){LMSSetValue('cmi.interactions.' + j + '.student_response',studentanswer)}
if(j==0){latency=q_time[j]}else{latency=q_time[j]-q_time[j-1]}
if(intChildren.indexOf('latency')!=-1){LMSSetValue('cmi.interactions.' + j + '.latency',getTime(latency))}}}
if(intChildren.indexOf('summary')!=-1){LMSSetValue('cmi.interactions.summary',showResults(1))}}
bFinishDone = (objAPI.LMSFinish("")=='true')
bFinishDone=true}
finishx()
return (bFinishDone)}
</SCRIPT>
<SCRIPT>
function resizeit(){try{fixstuff()}catch(err){}}
</SCRIPT>
<BODY onblur=pblur() onfocus=pfocus() onpageshow=pshow() onpagehide=phide() onresize=resizeit() onselect='hideselect()' style='margin-left:0px;margin-top:0px;margin-right:0px;margin-bottom:0px;' onbeforeunload='stopVideo()' onUnload='stopVideo()' bgcolor='#336699' onload='preloadfiles(0)'>
<STYLE TYPE='text/css'>
P {font-family:Segoe UI,Thornburi,Droid Sans,Arial;}
H1 {margin-top:0px;margin-bottom:10px;font-family:Arial;font-size:18pt;}
H2 {margin-top:15px;margin-bottom:0px;font-family:Arial;font-size:16pt;}
H3 {margin-top:10px;margin-bottom:0px;font-family:Arial;font-size:14pt;}
.quote {padding-right:10px;padding-left:10px;background-color:rgb(220,220,220);border-top:thin solid #000000;padding-top:10px;border-bottom:thin solid #000000;padding-bottom:10px;text-align:center;font-family:Arial;font-size:13pt;font-weight:normal;font-style:italic;margin-left:30px;margin-right:30px;}
.image {margin-right:0px;margin-left:0px;text-align:center;margin-top:0px;margin-bottom:0px;font-family:Arial;font-size:11pt;font-style:italic;}
.breakout {padding-right:6px;padding-left:6px;font-size:11pt;border-top:thin solid #000000;padding-top:6px;border-bottom:thin solid #000000;padding-bottom:6px;text-align:left;font-weight:normal;margin-left:15px;margin-right:15px;}
.caption {margin-right:10px;margin-left:10px;text-align:center;margin-top:2px;margin-bottom:5px;font-family:Arial;font-size:11pt;font-style:italic;}
a {color:yellow;}
a:hover {color:yellow;}
a:visited {color:yellow;}
TEXTAREA{padding:7px;}
input:focus, textarea:focus {outline: none;}
input {padding:7px;}
.AppCobraMessage {}
.AppCobraMenus {}
.AppCobraMenuImage {}
.AppCobraCaption {font-family:Segoe UI,Thornburi,Droid Sans,Arial;font-size:12pt;color:#FFFFFF;}
.subindextext {}
.subindextextx {}
.subindexhead {}
.indextexthead {}
.KPMessage {font-family:Segoe UI,Thornburi,Droid Sans,Arial;font-size:16pt;color:#000000;}
.KPMenus {}
.KPMenuImage {}
.KPCaption {font-family:Segoe UI,Thornburi,Droid Sans,Arial;font-size:16pt;color:#FFFFFF;}
</STYLE>
<SCRIPT>
var startrecognition=false
</SCRIPT>
<DIV id='fpl'></DIV>
<NOSCRIPT><DIV><TABLE WIDTH=100% height=100% bgcolor=#FFFFFF><TD align=center valign=middle>Scripting is disabled, or your browser has blocked the JavaScript on this page from executing. Please check your security settings, and run this file again.</TD></TABLE></DIV></NOSCRIPT>
<SCRIPT>
function getObject(objectname){if(tbro=='ie'&&isie8==false){return eval(objectname)}else{return document.getElementById(objectname)}}
</SCRIPT>
<SCRIPT>
kpqemail='';
var hfftomethod=1;
var closemethod=1;
var currentfreeform=-1
function setfreeform(){if(isiphone==1||isitouch==1){return}
currentfreeform=-1, attop=cheight, atleft=cwidth, uf=-1
for (jjj=0; jjj<currentobjects.length; jjj++){iii=currentobjects[jjj]
if(typeof(iii)=='undefined'||iii==-1){break}else{if(f[iii].ke=='freeform'){if(f[iii].ke=='freeform'){if(hfftomethod==2){if(f[iii].lleft<atleft){currentfreeform=iii, atleft=f[iii].lleft}
if(f[iii].lleft==atleft){if(f[iii].ttop<attop){currentfreeform=iii, attop=f[iii].ttop}}}else{if(f[iii].ttop<attop){currentfreeform=iii, attop=f[iii].ttop}
if(f[iii].ttop==attop){if(f[iii].lleft<atleft){currentfreeform=iii, atleft=f[iii].lleft}}}}}}}
if(currentfreeform!=-1){setfreeformhilite()}}
function setnextfreeform(){ofreeform=currentfreeform, realcurrentfreeform=currentfreeform
currentfreeform=-1, attop=cheight, atleft=cwidth, uf=-1, realbottom=0, realtop=0, realleft=0, ltop=cheight, lleft=cwidth
if(realcurrentfreeform>-1){realtop=f[realcurrentfreeform].ttop, realleft=f[realcurrentfreeform].lleft}
lowestffo=currentfreeform
for (jjj=0; jjj<currentobjects.length; jjj++){iii=currentobjects[jjj]
if(typeof(iii)=='undefined'||iii==-1){break}else{if(f[iii].ke=='freeform'&&iii!=realcurrentfreeform){if(hfftomethod==2){if(f[iii].lleft==realleft){if(f[iii].ttop>realtop){if(f[iii].ttop<attop){atleft=f[iii].lleft, attop=f[iii].ttop, realcurrentfreeform=iii}}}
if(f[iii].lleft>realleft){if(f[iii].lleft<atleft){atleft=f[iii].lleft, attop=f[iii].ttop, realcurrentfreeform=iii}}
if(f[iii].lleft<lleft){lleft=f[iii].lleft, ltop=f[iii].ttop, lowestffo=iii}
if(f[iii].lleft==lleft){if(f[iii].ttop<ltop){lleft=f[iii].lleft, ltop=f[iii].ttop, lowestffo=iii}}}else{if(f[iii].ttop==realtop){if(f[iii].lleft>realleft){if(f[iii].lleft<atleft){attop=f[iii].ttop, atleft=f[iii].lleft, realcurrentfreeform=iii}}}
if(f[iii].ttop>realtop){if(f[iii].ttop<attop){attop=f[iii].ttop, atleft=f[iii].lleft, realcurrentfreeform=iii}}
if(f[iii].ttop<ltop){ltop=f[iii].ttop, lleft=f[iii].lleft, lowestffo=iii}
if(f[iii].ttop==ltop){if(f[iii].lleft<lleft){ltop=f[iii].ttop, lleft=f[iii].lleft, lowestffo=iii}}}}}}
if(realcurrentfreeform==ofreeform){currentfreeform=lowestffo}else{currentfreeform=realcurrentfreeform}
setfreeformhilite()}
function setfreeformhilite(){for (jjjff=0; jjjff<currentobjects.length; jjjff++){iiiff=currentobjects[jjjff]
if(typeof(iiiff)=='undefined'||iiiff==-1){break}else{if(f[iiiff].ke=='freeform'&&iiiff==currentfreeform){ntox=z8('setf(' + iiiff + ')',1);break}}}}
function setf(iiiff){try{nto=getObject('mainp' + iiiff);nto.focus()}catch(err){}}
function hideselect(){if(showcontextmenu=='false'&&tbro=='ie'&&isopera==false){document.selection.empty()}}
var noerrors=false
</SCRIPT>
<SCRIPT>
function errorlog(sMsg,sUrl,sLine){try{xoErrorLog='Error: '+sMsg+' Line: '+sLine
console.error(xoErrorLog)}catch(err){}
if(noerrors==false){debugmode=(getArg('debug'))
if(debugmode==1){oErrorLog='This message will only appear when a presentation is run in debug mode, and it may indicate that a problem has occurred in this presentation. The error caught was:\n\n';
oErrorLog+='Error: '+sMsg+'\n';
oErrorLog+='Line: '+sLine+'\n';
oErrorLog+='URL: '+sUrl+'\n\n'
oErrorLog+='Write these details down so you can contact KnowledgePresenter XII support.';
if(sMsg.indexOf('Access is denied')==-1){alert (oErrorLog)}}}
return true;}
if((getArg('debug'))==1){alert ('Running in Debug Mode.')}
window.onerror=errorlog;
function getTimeString(cmiet){cmiet=parseInt(cmiet)
iSecs=parseInt((cmiet) % 60)
iMins=parseInt(((cmiet-iSecs)/60) % 60)
iHrs=parseInt((((cmiet-iSecs)/60)-iMins) / 60)
rT=''
if(iHrs>0){rT=iHrs + ' Hour'
if(iHrs>1){rT=rT+'s'}}
if(iMins>0){if(rT!=''){rT=rT + ', '}
rT=rT + iMins + ' Minute'
if(iMins>1){rT=rT+'s'}}
if(iSecs>0){if(rT!=''){rT=rT + ', '}
rT=rT + iSecs + ' Second'
if(iSecs>1){rT=rT+'s'}}
return (rT)}
function getTimeString2(cmiet){iSecs=parseInt((cmiet) % 60)
iMins=parseInt(((cmiet-iSecs)/60) % 60)
iHrs=parseInt((((cmiet-iSecs)/60)-iMins) / 60)
rT=''
if(new String(iHrs).length==1){iHrs='0' + iHrs}
if(new String(iMins).length==1){iMins='0' + iMins}
if(new String(iSecs).length==1){iSecs='0' + iSecs}
rT = iHrs + ':' + iMins + ':' + iSecs
return (rT)}
</SCRIPT>
<SCRIPT>
function getTime(cmiet){cmiet=cmiet/1000
iSec=parseInt((cmiet) % 60)
iMin=((cmiet - iSec)/60) % 60
iHrs=(((cmiet - iSec)/60)-iMin) / 60
iMin=parseInt(iMin)
iHrs=parseInt(iHrs)
aSecs=new String(iSec)
if(aSecs.length==1){aSecs='0' + aSecs}
aMins=new String(iMin)
if(aMins.length==1){aMins='0' + aMins}
aHrs=new String(iHrs)
if(aHrs.length==3){aHrs='0' + aHrs}
if(aHrs.length==2){aHrs='00' + aHrs}
if(aHrs.length==1){aHrs='000' + aHrs}
cmiendtime = aHrs + ':' + aMins + ':' + aSecs
return (cmiendtime)}
iitems=new Array('Summary 002','Summary')
iitemstime=new Array('20','25')
iitemsbt=new Array(0,0)
iitemssc=new Array(0,0,0,0,0,0,0,0,0,0)
function checkWarning(thestring){if(thestring!=''){customalert (thestring,-1,'next|cancel')
return false}else{return true}}
function runWarning(todo){}
function runalert(ts){alert (ts)}
var canvason=false, canvasnum=-1, isios=0, iswin8=false
var tmentos=0,cangofull=false, allowzoom=false, isdesktop=false, isblackberry=false, iswebos=false, isandroid=false, wrongresults=0, isipadapp=false, isie7=false, ie8zoom=false, iswinmobile=false, ietouch=false, isie10=false, isie11=false, isie9=false, isie8=false, ischrome=false, netscapemac=false, mozilla=false, safaripc=false, safarimac=false, safariwk=false, isfirefox=false, issafari=false, iskhtml=false, isopera=false, isitouch=0, isiphone=0, isios7=false, isios6=false, isspartan=false, tbro='nn', tbs='', tbe='', launch_data='', lesson_location=''
if('webkitRequestFullScreen' in document.documentElement){cangofull=true}
if('mozRequestFullScreen' in document.documentElement){cangofull=true}
if('msRequestFullScreen' in document.documentElement){cangofull=true}
if(location.protocol=='file:'){cangofull=false}
if(navigator.userAgent.indexOf('Safari')>-1&&(navigator.userAgent.indexOf('iPhone')>-1||navigator.userAgent.indexOf('iPod')>-1)){isiphone=1}
if(navigator.userAgent.indexOf('Safari')>-1&&navigator.userAgent.indexOf('iPad')>-1){isitouch=1}
if(navigator.userAgent.indexOf('Mobile Safari')>-1){isiphone=1}
if(navigator.userAgent.indexOf('Safari')>-1&&(navigator.userAgent.indexOf('iPad')>-1||navigator.userAgent.indexOf('iPhone')>-1||navigator.userAgent.indexOf('iPod')>-1)){flashinstalled=0}
if((navigator.userAgent.indexOf('iPhone')>-1||navigator.userAgent.indexOf('iPod')>-1)){isiphone=1}
if(navigator.userAgent.indexOf('iPad')>-1){isitouch=1}
if(navigator.userAgent.indexOf('Mobile Safari')>-1){isiphone=1}
if((navigator.userAgent.indexOf('iPad')>-1||navigator.userAgent.indexOf('iPhone')>-1||navigator.userAgent.indexOf('iPod')>-1)){isios=1,flashinstalled=0}
if(isiphone==1||isitouch==1){}
if(navigator.userAgent.indexOf('Android')>-1){isandroid=true}
if(navigator.userAgent.indexOf('AppleWebKit')>-1&&navigator.userAgent.indexOf('webOS')>-1){isiphone=1;iswebos=1}
if(isiphone==0&&isitouch==0){if(navigator.userAgent.indexOf('AppleWebKit')>-1){if('ongesturesturestart' in document.documentElement){isandroid=true;isitouch=1}}}
if(navigator.platform=='Win32'||navigator.platform=='Win64'||navigator.platform=='WOW64'){isandroid=false}
if(navigator.userAgent.indexOf('IEMobile')>-1){iswinmobile=true}
if(iswinmobile){if(document.body.clientWidth==screen.width){iswinmobile=false}}
if(document.all){tbro='ie'}
if(parseInt(navigator.appVersion)>=5){tbro='ienn'}
if(navigator.appName=='Microsoft Internet Explorer'){tbro='ie'}
if(navigator.userAgent.toLowerCase().indexOf('windows phone')>-1){tbro='ie'}
if(tbro=='ie'&&navigator.userAgent.indexOf('Windows NT')>-1){mIE=navigator.userAgent.match(/Windows NT\s([\d.]+)/);mIEs=new String(mIE).split(',');mIE=mIEs[1].replace('.','');if(mIE>61){iswin8=true}}
var navp = navigator.platform
if(navp=='MacPPC'||navp=='Mac68K'||navp=='MacIntel'){navp='Mac'}
ua=navigator.userAgent
if(ua.indexOf('Opera')>-1){isopera=true}
if(ua.indexOf('Firefox')>0){isfirefox=true}
tmp=navigator.appVersion.split('OS')
vers=parseFloat(tmp[1])
if(vers>=6){isios6=true}
if(vers>=7){isios7=true}
tmp=navigator.appVersion.split('MSIE')
vers=parseFloat(tmp[1])
if(vers>=7){isie7=true}
if(vers>=8){isie8=true}
if(vers>=9){isie9=true}
if(vers>=10){isie10=true}
if(isie8){if(screen.deviceXDPI!=screen.systemXDPI){ie8zoom=true}}
if(tbro=='ie'||(tbro=='ienn'&&isfirefox==false&&isios==0&&isandroid==false&&ishoney==0&&navigator.userAgent.indexOf('Safari')==-1&&navigator.userAgent.indexOf('Chrome')==-1&&navigator.userAgent.indexOf('CriOS')==-1)){tmp=navigator.appVersion.split('Trident/')
vers=parseFloat(tmp[1])
if(vers>=7){tbro='ie';isie7=true;isie8=true;isie11=true}}
var istouchdevice=false
if('ongesturestart' in document.documentElement){istouchdevice=true}
if(isandroid||isios==1){isitouch=1;istouchdevice=true}
if(tbro=='ie'&&ua.indexOf('Touch')>-1){ietouch=true}
if(ua.indexOf('KHTML')>0){iskhtml=true
pf=ua.indexOf('Safari/')
if(pf>-1){if(parseInt(ua.substring(pf+7,pf.length))>124){safariwk=true}}}
var ishoney=0
if(navigator.userAgent.indexOf('Android')>-1){tmp=navigator.userAgent.split('Android')
vers=parseInt(tmp[1])
if(vers>=3){ishoney=1, isitouch=0, isiphone=0}}
try{if(navigator.msMaxTouchPoints>0){ietouch=true}}catch(err){}
if(navigator.userAgent.indexOf('Safari')>-1){issafari=true}
if(navigator.userAgent.indexOf('Safari')>-1&&navigator.userAgent.indexOf('BlackBerry')>-1){isblackberry=true;isiphone=0;isitouch=0}
if(navigator.userAgent.indexOf('Chrome')>-1||navigator.userAgent.indexOf('CriOS')>-1){ischrome=true}
if(isiphone==1||isitouch==1){issafari=true}
if(issafari&&navp=='Mac'){safarimac=true}
if(issafari&&(navp=='Win32'||navp=='Win64')){safaripc=true}
if(tbro=='ie'&&navp!='Mac'&&isopera==false){screen.updateInterval=0}
if(isios==1){cangofull=false}
if(ishoney==0&&isiphone==0&&isitouch==0&&isblackberry==false&&iswinmobile==false){isdesktop=true}
var iswk=false
if(isios==0){document.write ("<STYLE TYPE='text/css'>div {-webkit-transform:translateZ(0);-ms-transform: translate3D(0, 0, 0);-moz-transform: translate3D(0, 0, 0);-webkit-transform: translate3D(0, 0, 0);}</STYLE>")}
if(issafari==true||ischrome==true||isios==1||isandroid==true||ishoney==1){iswk=true}
if(tbro!='ie'&&isdesktop&&issafari==false&&ischrome==false&&isfirefox==false){tbro='ie',isie7=true,isie8=true,isie9=true,isie10=true}
var hasascore=0, dynamicresults=0, ucomment='', showmessage='', ispaused=1, intPath='', tpix=-1, tpiy=-1, tex=-1, texy=-1, uhae=false, dl=false, scostatus='not attempted', cmistarttime=0, hascommitted=false, usevbscript=false, pix = -1, piy = -1, mix = -1, miy = -1, mio = -1, ifontsize=11, totalscore=0, score=0, errorstring='', maxerrors=3, errorCounter=0, errorCords='', currenthint='', PreLoad=9, RealStartTime=0, RealEndTime=-1, cwidth=540, cheight=852, pausestart=0, pausedfor=0, haspaused=false, pausetime=0, pausetimer=0, imagesloaded=0, pstate=0, fc=0, buffering=false, currentstate='', thepos=-1, startTime=0, False=0, True=-1, duration=9
var loadingtext=''
oTIE = '<TABLE cellpadding=0 cellspacing=0 BORDER=0 WIDTH=100% HEIGHT=62><TD valign=middle align=center><SPAN id="startingit"><P class=loading>Loading App...</SPAN></TD></TABLE>'
oTNav = '<TABLE cellpadding=0 cellspacing=0 WIDTH=100% border=0 HEIGHT=62><TD valign=middle align=center><P class=loading>Loading App...</TD></TABLE>'
oT = ''
var zratio=1, realcwidth=cwidth, realcheight=cheight
if(isdesktop&&tbro=='ie'&&navp!='Mac'){document.write ("<DIV id='testh' style='position:absolute;width:100%;height:100%;left:0px;top:0px;'></DIV>")
zratio = testh.clientHeight / cheight
if((cwidth * zratio)>testh.clientWidth){zratio=testh.clientWidth / cwidth}}
var ssafaritimeout=0, resit=0
function sfixstuff(){if(isdesktop==false){return}
resit=1
fixstuff()
resit=0}
var newrat=1,somx=0,somy=0
function fixrat(){if(newrat>(acmaxzoom/100)){newrat=acmaxzoom/100;zratio=newrat}
if(newrat<(acminzoom/100)){newrat=acminzoom/100;zratio=newrat}
if(isfirefox){document.body.style.MozTransform='scale(' + newrat + ')'
document.body.style.MozTransformOrigin='0px 0px'}else{if(tbro!='ie'){document.body.style.zoom=newrat}}
if(newrat<1){presh.style.height=cheight-1}else{presh.style.height=cheight}
if(tbro=='ie'||isspartan){presh.style.zoom=newrat
starting.style.zoom=newrat
starting.style.left=132 * newrat
starting.style.top=395 * newrat
try{pblocker.style.zoom=newrat}catch(err){}}
zratio = newrat
if(isios==1||isandroid){xlipp=((window.innerWidth-(cwidth*newrat))/2)/zratio,ylipp=((window.innerHeight-(cheight*newrat))/2)/zratio
if(xlipp<0){xlipp=0};if(ylipp<0){ylipp=0}
presh.style.left=xlipp,presh.style.top=ylipp
try{pblocker.style.left=xlipp,pblocker.style.top=ylipp}catch(err){}
if(somx==0&&somy==0){somx=parseInt(starting.style.left);somy=parseInt(starting.style.top)}
starting.style.left=somx + parseInt(presh.style.left),starting.style.top=somy + parseInt(presh.style.top)}
for (oixp=0; oixp<f.length; oixp++){fixgraph(oixp)}}
canres=0, canret=0
var delaytr=0
function fixstuff(){try{if(cangofull){if(Math.abs(window.innerHeight-screen.height)<2){for (oix=0; oix<f.length; oix++){if(f[oix].ke=='rafs'||f[oix].overevent=='rafs'||f[oix].upevent=='rafs'||f[oix].downevent=='rafs'||f[oix].dblevent=='rafs'){hidexobject(f[oix].objectname);f[oix].lleft=-1000,f[oix].object.style.left=-1000}}}else{for (oix=0; oix<f.length; oix++){if(f[oix].ke=='rafs'||f[oix].overevent=='rafs'||f[oix].upevent=='rafs'||f[oix].downevent=='rafs'||f[oix].dblevent=='rafs'){if(hasstarted){f[oix].lleft=f[oix].xleft,f[oix].object.style.left=f[oix].lleft;if(f[oix].timeon<=thepos&&f[oix].timeoff>thepos){showxobject(f[oix].objectname)}}}}}}}catch(err){}
if(top.frames.length==0&&currentfreeform==-1){forip=z8('ipm=getObject("fpl");ipm.scrollIntoView()',10)}
if(navigator.userAgent.toLowerCase().indexOf('windows phone')>-1){top.window.scrollTo(0, 1)            
forip=z8('ipm=getObject("fpl");ipm.scrollIntoView()',10)}
if(isandroid==true&&canres==0){if(top.frames.length==0&&currentfreeform==-1){window.scrollTo(0, 1)}
y1(canret)
canret=z8('canres=1;fixstuff();canres=0;',100)}
if(isios==1){zratio=1
if(top.frames.length==0&&currentfreeform==-1){ipm=getObject("fpl");ipm.scrollIntoView()}
x1=window.innerHeight/cheight,x2=window.innerWidth/cwidth
if(x1<x2){newrat=x1}else{newrat=x2}
y1(delaytr)
if(currentfreeform>-1){newrat=x2}
delaytr=z8('fixrat()',1)}else{if(tbro=='ie'&&isie10==false){x1=document.body.clientHeight/cheight,x2=document.body.clientWidth/cwidth}else{uh=window.innerHeight
brs=false
if(currentfreeform>-1){brs=true}
if(brs==false){try{for (jxx=0; jxx<currentobjects.length; jxx++){iii=currentobjects[jxx]
if(f[iii].ke=='freeform'){brs=true;break}}}catch(err){}}
if(isandroid&&brs){if(screen.availHeight>uh){uh=screen.availHeight}}
x1=uh/cheight,x2=window.innerWidth/cwidth}
if(x1<x2){newrat=x1}else{newrat=x2}
y1(delaytr)
if(isandroid&&currentfreeform>-1){newrat=x2}
delaytr=z8('fixrat()',1)}
return}
if(isipadapp==false){if(tbro=='ie'){document.write('<DIV style = "cursor:hand;z-Index:600;background-color:transparent;position:absolute;left:132px;top:395px;width:280px;height:62px;visibility:visible;"  name="starting" id="starting">' + oTIE + oT + '</DIV>')}else{document.write('<DIV name="starting" id="starting" style="z-Index:600;background-color:transparent;position:absolute;left:132px;top:395px;width:280px;height:62px;visibility:visible;">' + oTNav + oT + '</DIV>')}}else{document.write('<DIV id="starting"></DIV>')}
if(iswinmobile){x13=getObject('starting');x13.className='resopac99'}
var nFindAPITries=0, objAPI=null, bFinishDone=false
function FindAPI(win){try{while ((win.API==null)&&(win.parent!=null)&&(win.parent!=win)){nFindAPITries ++
if(nFindAPITries>5){break;}else{win=win.parent}}
return win.API}catch(err){}}
function getAPI(win){if(location.search!='?noapi'){var theAPI=FindAPI(window);
if((theAPI==null)&&(window.opener!=null)&&(typeof(window.opener)!='undefined')){theAPI=FindAPI(window.opener);}
if(theAPI==null&&window.parent.opener!=null){theAPI=FindAPI(parent.opener)}
if(theAPI==null&&window.parent.parent.opener!=null){theAPI=FindAPI(parent.parent.opener)}
if(theAPI==null){if(parent.frames.length>0){for(i=0; i<parent.frames.length; i++){theAPI=FindAPI(parent.frames[i]);
if(theAPI!=null){break}}}}}
return theAPI;}
function APIOK(){return ((typeof(objAPI)!='undefined')&&(objAPI!=null))}
function LMSSetValue(nam,v){if(APIOK()){return objAPI.LMSSetValue(nam,v)}}
function LMSGetValue(nam){if(APIOK()){return objAPI.LMSGetValue(nam)}}
function LMSCommit(){if(APIOK()){return objAPI.LMSCommit("")}}
function LMSGetLastError(){if(APIOK()){return objAPI.LMSGetLastError()}}
function LMSGetErrorString(n){if(APIOK()){return objAPI.LMSGetErrorString(n)}}
function LMSGetDiagnostic(p){if(APIOK()){return objAPI.LMSGetDiagnostic(p)}}
var realObjAPI=null
objAPI = getAPI(window)
function updatePopup(thetext){if(tbro=='ie'){fixstuff()}
if(isipadapp&&getArg('sip')!=1){return}
tobj=getObject('starting')
thetext=new String(thetext)
if(thetext==''){tobj.style.visibility='hidden'}else{if(tbro=='ie'){oT='<TABLE cellpadding=0 cellspacing = 0 BORDER=0 WIDTH=100% HEIGHT=62><TD valign=middle align=center><P class=loading>' + thetext + '</TD></TABLE>'}else{oT='<TABLE cellpadding=0 cellspacing=0 BORDER=0 WIDTH=100% HEIGHT=62><TD valign=middle align=center><P class=loading>' + thetext + '</TD></TABLE>'}
tobj.innerHTML=oT
tobj.style.visibility='visible'}}
var isquiz=true
var alldone=false
var rq=new Array(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
var questions=new Array('Depth of Field refers to:','Some cameras can store photos in a high quality format called:','Close up photography is also called:','A panorama photograph is one where:','A movement photograph is one where:','Many standard phone cameras can now take slow motion video at how many frames per second?','Time lapse photography describes what process?','A selfie is a photograph where:','Most phone cameras allow you to adjust ISO settings.','Most phone cameras allow you to adjust aperture settings.','Exposure refers to:','The ISO setting in a phone camera refers to:','White balance can also be referred to as:','Noise in a photograph refers to:','When a photo is geotagged, this means:','Landscape photos are wider than portrait photo.','When a photo is sharpened, what happens?','Burst shooting refers to:','When using a phone camera, you can use any one of a wide range of photography apps available in the various app stores.','Phone cameras allow you to set default settings, like the default photograph size.','Filters are used, when editing or taking photographs, to:','Cropping refers to:','High Dynamic Range photography refers to:','The standard format in which photographs are stored are:','Shutter speed refers to:')
var usegroupquestions=false
var questiongroups=new Array('No Group','No Group','No Group','No Group','No Group','No Group','No Group','No Group','No Group','No Group','No Group','No Group','No Group','No Group','No Group','No Group','No Group','No Group','No Group','No Group','No Group','No Group','No Group','No Group','No Group','')
var questionscorrectstringi=new Array('','','','','','','','','','','','','','','','','','','','','','','','','')
var questionsrandomize=new Array('1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1')
var questionsincorrectstringi=new Array('','','','','','','','','','','','','','','','','','','','','','','','','')
var questionscorrectstring=new Array('','','','','','','','','','','','','','','','','','','','','','','','','')
var questionsincorrectstring=new Array('','','','','','','','','','','','','','','','','','','','','','','','','')
var answeras=new Array('Variable focus in a shot|1|1||','RAW|1|1||','Macro photography|1|1||','A wide angle shot is captured in a special camera process.|1|1||','Several secconds of video is taken with a photo.|1|1||','240|1|1||','A photograph is taken every X seconds, and combined into a movie.|1|1||','You take a photograph of yourself.|1|1||','True|1|1||','True|0|0||','Color and light in a photograph.|1|1||','How sensitive the camera is to light.|1|1||','Color termperature.|1|1||','Random color pixels appearing in the photo.|1|1||','The location where the photo was taken is stored in the photo.|1|1||','True|1|1||','Bluriness is reduced.|1|1||','The camera taking a series of shots very rapidly.|1|1||','True|1|1||','True|1|1||','Change the look of the photograph.|1|1||','Removing unnecessary parts of a photograph.|1|1||','The camera taking multiple shots using different exposure settings, and combining them together using color information from all photographs.|1|1||','JPEG|1|1||','How fast the camera shutter opens and closes while taking a photo.|1|1||')
var answerbs=new Array('A reduced aperture|0|0||','STRONG|0|0||','360 degree photography|0|0||','Close up photography is taken using a special lens.|0|0||','The camera moves as the photograph is taken.|0|0||','24|0|0||','A photograph is taken after X seconds.|0|0||','You take a photograph of a friend.|0|0||','False|0|0||','False|1|1||','Shutter speed.|0|0||','How fast the shutter speed is set.|0|0||','Color speed.|0|0||','ISO settings used.|0|0||','The location where the photo was taken is included on the photo.|0|0||','False|0|0||','Color is reduced.|0|0||','The camera taking a photo with a very fast shutter speed.|0|0||','False|0|0||','False|0|0||','Change the color range of the photograph.|0|0||','Changing from landscape to portrait.|0|0||','Where white balance is determined automatically.|0|0||','PNG|0|0||','How wide the camera lens opens.|0|0||')
var answercs=new Array('Fast shutter speed|0|0||','RICH|0|0||','Wide angle photography|0|0||','A landscape photograph is taken.|0|0||','Several photographs are combined into one.|0|0||','60|0|0||','A photograph is taken every X seconds.|0|0||','You take a movie of yourself.|0|0||','|0|0||','|0|0||','ISO settings.|0|0||','How low the aperture is set.|0|0||','Color variance.|0|0||','Color variance.|0|0||','A database can be accessed to determine where the photo was taken.|0|0||','|0|0||','White balance is adjusted.|0|0||','Multiple shots are taken simultaneously.|0|0||','|0|0||','|0|0||','Change the white balance of the photograph.|0|0||','Changing white temperature.|0|0||','Multiple shots are taken, and the best one selected.|0|0||','GIF|0|0||','How many times the camera shutter opens.|0|0||')
var answerds=new Array('Macro photography|0|0||','FINE|0|0||','Time lapse photography|0|0||','A 360 degree photograph is taken.|0|0||','A series of photographs are taken and the best one selected.|0|0||','300|0|0||','Multiple photographs are taken almost simultaneously.|0|0||','Someone takes a photograph of you.|0|0||','|0|0||','|0|0||','Aperture settings.|0|0||','The brightness settings.|0|0||','Brightness settings.|0|0||','White balance settings.|0|0||','A separate file contains information about where the photo was taken.|0|0||','|0|0||','ISO is adjusted.|0|0||','A movie is captured and then split into separate photographs.|0|0||','|0|0||','|0|0||','Change the ISO setting of the photograph.|0|0||','Resetting geotagging details.|0|0||','A shot is taken every X seconds, and the results combined.|0|0||','RAW|0|0||','All of the above.|0|0||')
discount = 2
if(typeof answercs!='undefined'){discount=discount+1}
if(typeof answerds!='undefined'){discount=discount+1}
if(typeof answeres!='undefined'){discount=discount+1}
if(typeof answerfs!='undefined'){discount=discount+1}
for(i=0; i<questions.length; i++){if(questions[i].indexOf('(RND@@@@@@')>-1){spos2=questions[i].split('>')
oldtext=spos2[1]
oldtext=fur(oldtext,'&nbsp;',' ')
do{spos=questions[i].indexOf('(RND@@@@@@')
spos2=questions[i].split('@@@@@@')
spos2[0]=spos2[0].substring(0,spos2[0].length-4)
spos2[3]=spos2[3].substring(1,spos2[3].length)
max=spos2[2]-spos2[1]
thenum = Math.floor(Math.random()*max)+new Number(spos2[1])
newtext=spos2[0] + thenum + spos2[3]
for(x=4; x<spos2.length; x++){newtext=newtext + '@@@@@@' + spos2[x]}
questions[i]=newtext}
while (questions[i].indexOf('(RND@@@@@@')>-1)
spos2=questions[i].split('==')
spos2[1]=fur(spos2[1],'x','*')
spos2[1]=fur(spos2[1],'÷','/')
spos2[1]=fur(spos2[1],'×','*')
spos2[1]=fur(spos2[1],'¼','(1/4)')
spos2[1]=fur(spos2[1],'½','(1/2)')
spos2[1]=fur(spos2[1],'¾','(3/4)')
try{theresult=eval(spos2[1])
theresult=theresult*100
theresult=Math.round(theresult)
theresult=theresult/100}catch(err){theresult=0
alert ('The formula ' + spos2[1] + ' cannot be evaluated. Please check it.')}
questions[i]=fur(questions[i],'==','')
dx = new Date();curr_msec = dx.getMilliseconds();if(curr_msec/2>parseInt(curr_msec/2)){addminus=0}else{addminus=1}  
fixa=answeras[i].split('|')
if(fixa[1]==1&&fixa[0]=='?'){fixa[0]=theresult}
if(fixa[1]!=1&&fixa[0]=='?'){if(addminus==1){fixa[0]=theresult+Math.floor(Math.random()*25)}else{fixa[0]=theresult - Math.floor(Math.random()*25)}}
answeras[i]=fixa[0]+'|'+fixa[1]+'|'+fixa[2]+'|'+fixa[3]+'|'
dx = new Date();curr_msec = dx.getMilliseconds();if(curr_msec/2>parseInt(curr_msec/2)){addminus=0}else{addminus=1}  
fixa=answerbs[i].split('|')
if(fixa[1]==1&&fixa[0]=='?'){fixa[0]=theresult}
if(fixa[1]!=1&&fixa[0]=='?'){if(addminus==1){fixa[0]=theresult+Math.floor(Math.random()*25)}else{fixa[0]=theresult - Math.floor(Math.random()*25)}}
answerbs[i]=fixa[0]+'|'+fixa[1]+'|'+fixa[2]+'|'+fixa[3]+'|'
if(discount>2){dx = new Date();curr_msec = dx.getMilliseconds();if(curr_msec/2>parseInt(curr_msec/2)){addminus=0}else{addminus=1}  
fixa=answercs[i].split('|')
if(fixa[1]==1&&fixa[0]=='?'){fixa[0]=theresult}
if(fixa[1]!=1&&fixa[0]=='?'){if(addminus==1){fixa[0]=theresult+Math.floor(Math.random()*25)}else{fixa[0]=theresult - Math.floor(Math.random()*25)}}
answercs[i]=fixa[0]+'|'+fixa[1]+'|'+fixa[2]+'|'+fixa[3]+'|'}
if(discount>3){dx = new Date();curr_msec = dx.getMilliseconds();if(curr_msec/2>parseInt(curr_msec/2)){addminus=0}else{addminus=1}  
fixa=answerds[i].split('|')
if(fixa[1]==1&&fixa[0]=='?'){fixa[0]=theresult}
if(fixa[1]!=1&&fixa[0]=='?'){if(addminus==1){fixa[0]=theresult+Math.floor(Math.random()*25)}else{fixa[0]=theresult - Math.floor(Math.random()*25)}}
answerds[i]=fixa[0]+'|'+fixa[1]+'|'+fixa[2]+'|'+fixa[3]+'|'}
if(discount>4){dx = new Date();curr_msec = dx.getMilliseconds();if(curr_msec/2>parseInt(curr_msec/2)){addminus=0}else{addminus=1}  
fixa=answeres[i].split('|')
if(fixa[1]==1&&fixa[0]=='?'){fixa[0]=theresult}
if(fixa[1]!=1&&fixa[0]=='?'){if(addminus==1){fixa[0]=theresult+Math.floor(Math.random()*25)}else{fixa[0]=theresult - Math.floor(Math.random()*25)}}
answeres[i]=fixa[0]+'|'+fixa[1]+'|'+fixa[2]+'|'+fixa[3]+'|'}
if(discount>5){dx = new Date();curr_msec = dx.getMilliseconds();if(curr_msec/2>parseInt(curr_msec/2)){addminus=0}else{addminus=1}  
fixa=answerfs[i].split('|')
if(fixa[1]==1&&fixa[0]=='?'){fixa[0]=theresult}
if(fixa[1]!=1&&fixa[0]=='?'){if(addminus==1){fixa[0]=theresult+Math.floor(Math.random()*25)}else{fixa[0]=theresult - Math.floor(Math.random()*25)}}
answerfs[i]=fixa[0]+'|'+fixa[1]+'|'+fixa[2]+'|'+fixa[3]+'|'}}}
var qids=new Array('Q1','Q2','Q3','Q4','Q5','Q6','Q7','Q8','Q9','Q10','Q11','Q12','Q13','Q14','Q15','Q16','Q17','Q18','Q19','Q20','Q21','Q22','Q23','Q24','Q25')
var qtype=new Array('single','single','single','single','single','single','single','single','single','single','single','single','single','single','single','single','single','single','single','single','single','single','single','single','single')
var qtime=new Array('0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0')
var theqscore=new Array('0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0')
q_time = new Array(questions.length)
q_result = new Array(questions.length)
q_correctresponse = new Array(questions.length)
q_studentresponse = new Array(questions.length)
q_id = new Array(questions.length)
q_weight = new Array(questions.length)
for(i=0; i<questions.length; i++){q_time[i] = 0
q_result[i] = ''
q_correctresponse[i] = ''
q_studentresponse[i] = ''
q_id[i] = ''
q_weight[i] = ''}
var submitwarning='', spicnum=-1, apicnum=-1, question = '', answeraid = -1, answerbid = -1, answercid = -1, answerdid = -1, answereid = -1, answerfid = -1, answera = '', answerb = '', answerc = '', answerd = '', answere = '', answerf = '', answerpicture = '', answersound = ''
function setupquiz(){for (i=0; i<totalquizquestions; i++){if(questionsrandomize[i]==1){tq=0, qqqa='', qqqb='', qqqc='', qqqd='' , qqqe='' , qqqf=''
if(getanswer(i,'A')!=''){tq++}; if(getanswer(i,'B')!=''){tq++}; if(getanswer(i,'C')!=''){tq++}; if(getanswer(i,'D')!=''){tq++}; if(getanswer(i,'E')!=''){tq++}; if(getanswer(i,'F')!=''){tq++}
qqq=new Array(tq), qqq[0]=answeras[i], qqq[1]=answerbs[i]
qqq[2]=answercs[i]
qqq[3]=answerds[i]
pi=false;do{useit=Math.floor(Math.random()*(tq));if(qqq[useit]!=''){qqqa=qqq[useit];qqq[useit]='';pi=true;break}}while(pi==false);
pi=false;do{useit=Math.floor(Math.random()*(tq));if(qqq[useit]!=''){qqqb=qqq[useit];qqq[useit]='';pi=true;break}}while(pi==false);
if(tq>2){pi=false;do{useit=Math.floor(Math.random()*(tq));if(qqq[useit]!=''){qqqc=qqq[useit];qqq[useit]='';pi=true;break}}while(pi==false)}
if(tq>3){pi=false;do{useit=Math.floor(Math.random()*(tq));if(qqq[useit]!=''){qqqd=qqq[useit];qqq[useit]='';pi=true;break}}while(pi==false)}
answeras[i]=qqqa, answerbs[i]=qqqb
answercs[i]=qqqc
answerds[i]=qqqd}}
for(i=0; i<f.length; i++){if(f[i].qo=='Question'){question=getObject('main'+i)
if(navp=='Mac'&&tbro=='ie'){question=getObject('mainp' + i)}}
if(f[i].qo=='A'){answera=getObject('main'+i)
if(navp=='Mac'&&tbro=='ie'){answera=getObject('mainp' + i)}}
if(f[i].qo=='B'){answerb=getObject('main'+i)
if(navp=='Mac'&&tbro=='ie'){answerb=getObject('mainp' + i)}}
if(f[i].qo=='C'){answerc=getObject('main'+i)
answercid=i
if(navp=='Mac'&&tbro=='ie'){answerc=getObject('mainp' + i)}}
if(f[i].qo=='D'){answerd=getObject('main'+i)
answerdid=i
if(navp=='Mac'&&tbro=='ie'){answerd=getObject('mainp' + i)}}}}
function getRandomQuestion(){do {qr=Math.round(Math.random() * (questions.length-1))}
while (rq[qr]==1)
rq[qr]=1
return qr}
function writequestion(theoption){for (ixd=0; ixd<f.length; ixd++){if(f[ixd].status==1||f[ixd].status==2||f[ixd].status==3){fixstat (ixd)}}
if(quizquestion>totalquizquestions&&theoption=='Question'){questions[questionnumber]=questions[questionnumber] + ' (2nd Attempt)'}
for(i=0; i<f.length; i++){bc = ''
if(f[i].backcolor!='transparent'&&f[i].backcolor!=''){bc = ' bgcolor=' + f[i].backcolor}
if(f[i].qo=='Question'&&theoption=='Question'){itext=f[i].text + questions[questionnumber]
returnvalue='<TABLE WIDTH=100% height=100% ' + bc + ' cellspacing=0 cellpadding=' + f[i].margin + '><TD valign=' + f[i].valign + ' align=' + f[i].halign + '>' + itext + '</td></table>'
if(navp=='Mac'&&tbro=='ie'){returnvalue=itext}}
if(f[i].qo=='A'&&theoption=='A'){itext=f[i].text + getanswer(questionnumber,'A')
returnvalue='<TABLE WIDTH=100% height=100% ' + bc + ' cellspacing=0 cellpadding=' + f[i].margin + '><TD valign=' + f[i].valign + ' align=' + f[i].halign + '>' + itext + '</td></table>'
if(navp=='Mac'&&tbro=='ie'){returnvalue=itext}}
if(f[i].qo=='B'&&theoption=='B'){itext=f[i].text + getanswer(questionnumber,'B')
returnvalue='<TABLE WIDTH=100% height=100% ' + bc + ' cellspacing=0 cellpadding=' + f[i].margin + '><TD valign=' + f[i].valign + ' align=' + f[i].halign + '>' + itext + '</td></table>'
if(navp=='Mac'&&tbro=='ie'){returnvalue=itext}}
if(f[i].qo=='C'&&theoption=='C'){itext=f[i].text + getanswer(questionnumber,'C')
returnvalue='<TABLE WIDTH=100% height=100% ' + bc + ' cellspacing=0 cellpadding=' + f[i].margin + '><TD valign=' + f[i].valign + ' align=' + f[i].halign + '>' + itext + '</td></table>'
if(navp=='Mac'&&tbro=='ie'){returnvalue=itext}}
if(f[i].qo=='D'&&theoption=='D'){itext=f[i].text + getanswer(questionnumber,'D')
returnvalue='<TABLE WIDTH=100% height=100% ' + bc + ' cellspacing=0 cellpadding=' + f[i].margin + '><TD valign=' + f[i].valign + ' align=' + f[i].halign + '>' + itext + '</td></table>'
if(navp=='Mac'&&tbro=='ie'){returnvalue=itext}}}
return returnvalue}
function writeselectedquestion(theoption){for(i=0; i<f.length; i++){bc = ''
if(f[i].backcolor!='transparent'&&f[i].backcolor!=''){bc = ' bgcolor=' + f[i].backcolor}
if(f[i].qo=='A'&&theoption=='A'){itext=f[i].text + '<B><FONT COLOR=#FF0000>' + getanswer(questionnumber,'A')
returnvalue='<TABLE WIDTH=100% height=100% ' + bc + ' cellspacing=0 cellpadding=' + f[i].margin + '><TD valign=' + f[i].valign + ' align=' + f[i].halign + '>' + itext + '</td></table>'
if(navp=='Mac'&&tbro=='ie'){returnvalue=itext}}
if(f[i].qo=='B'&&theoption=='B'){itext=f[i].text + '<B><FONT COLOR=#FF0000>' + getanswer(questionnumber,'B')
returnvalue='<TABLE WIDTH=100% height=100% ' + bc + ' cellspacing=0 cellpadding=' + f[i].margin + '><TD valign=' + f[i].valign + ' align=' + f[i].halign + '>' + itext + '</td></table>'
if(navp=='Mac'&&tbro=='ie'){returnvalue=itext}}
if(f[i].qo=='C'&&theoption=='C'){itext=f[i].text + '<B><FONT COLOR=#FF0000>' + getanswer(questionnumber,'C')
returnvalue='<TABLE WIDTH=100% height=100% ' + bc + ' cellspacing=0 cellpadding=' + f[i].margin + '><TD valign=' + f[i].valign + ' align=' + f[i].halign + '>' + itext + '</td></table>'
if(navp=='Mac'&&tbro=='ie'){returnvalue=itext}}
if(f[i].qo=='D'&&theoption=='D'){itext=f[i].text + '<B><FONT COLOR=#FF0000>' + getanswer(questionnumber,'D')
returnvalue='<TABLE WIDTH=100% height=100% ' + bc + ' cellspacing=0 cellpadding=' + f[i].margin + '><TD valign=' + f[i].valign + ' align=' + f[i].halign + '>' + itext + '</td></table>'
if(navp=='Mac'&&tbro=='ie'){returnvalue=itext}}}
return returnvalue}
var randomquestions=true
var quizquestion=0
var questionnumber=0
var cmsgtype = 2
var inmsgtype = 2
var showmessage=''
var usemessagebox=false
var possiblescore=0
var timermode=1
var usetimer= false
var usetime=0
var globalusetime=0
var usertimer=0
var updatetime=0
var timeleft=0
var mustSubmit=true
var answerSelected=''
var answerSelecteda=false
var answerSelectedb=false
var answerSelectedc=false
var answerSelectedd=false
var answerSelectede=false
var answerSelectedf=false
var answerpicstring=''
var answersoundstring=''
function checkanswer(theanswer){if(mustSubmit==true&&theanswer!='final'&&theanswer!='skip'){if(qtype[questionnumber]=='single'||qtype[questionnumber]=='singlemulti'){if(answerSelecteda==true){answera.innerHTML=writequestion('A')}
if(answerSelectedb==true){answerb.innerHTML=writequestion('B')}
if(answerSelectedc==true){answerc.innerHTML=writequestion('C')}
if(answerSelectedd==true){answerd.innerHTML=writequestion('D')}
answerSelecteda=false
answerSelectedb=false
answerSelectedc=false
answerSelectedd=false
if(theanswer=='A'){answera.innerHTML=writeselectedquestion('A')}
if(theanswer=='B'){answerb.innerHTML=writeselectedquestion('B')}
if(theanswer=='C'){answerc.innerHTML=writeselectedquestion('C')}
if(theanswer=='D'){answerd.innerHTML=writeselectedquestion('D')}
if(theanswer=='A'){answerSelecteda=true}
if(theanswer=='B'){answerSelectedb=true}
if(theanswer=='C'){answerSelectedc=true}
if(theanswer=='D'){answerSelectedd=true}}else{if(theanswer=='A'){if(answerSelecteda==true){answera.innerHTML=writequestion('A')
answerSelecteda=false}else{answera.innerHTML=writeselectedquestion('A')
answerSelecteda=true}}
if(theanswer=='B'){if(answerSelectedb==true){answerb.innerHTML=writequestion('B')
answerSelectedb=false}else{answerb.innerHTML=writeselectedquestion('B')
answerSelectedb=true}}
if(theanswer=='C'){if(answerSelectedc==true){answerc.innerHTML=writequestion('C')
answerSelectedc=false}else{answerc.innerHTML=writeselectedquestion('C')
answerSelectedc=true}}
if(theanswer=='D'){if(answerSelectedd==true){answerd.innerHTML=writequestion('D')
answerSelectedd=false}else{answerd.innerHTML=writeselectedquestion('D')
answerSelectedd=true}}}
answerSelected = theanswer
return}
if(theanswer=='skip'){cmisD=new Date();
cmiet=cmisD.getTime()-cmistarttime
q_time[actualquestion-1]=cmiet
q_result[actualquestion-1]='wrong'
q_studentresponse[actualquestion-1]='skipped'
q_id[actualquestion-1]=(new Number(questionnumber)+1)
if(allowskip==false){possiblescore=possiblescore+new Number(thetopweight(questionnumber))}
return}
if(theanswer=='final'){if(answerSelected==''){if(submitwarning!=''){customalert (submitwarning)}
return}
theanswer=''
if(answerSelecteda==true){theanswer='A' + theanswer}
if(answerSelectedb==true){theanswer='B' + theanswer}
if(answerSelectedc==true){theanswer='C' + theanswer}
if(answerSelectedd==true){theanswer='D' + theanswer}}
iscorrect=false
if(qtype[questionnumber]=='multiple'){iscorrect=true
weighting=0
if(answerSelecteda&&getcorrect(questionnumber,'A')==0){iscorrect=false}
if(answerSelectedb&&getcorrect(questionnumber,'B')==0){iscorrect=false}
if(answerSelectedc&&getcorrect(questionnumber,'C')==0){iscorrect=false}
if(answerSelectedd&&getcorrect(questionnumber,'D')==0){iscorrect=false}
if(answerSelecteda==false&&getcorrect(questionnumber,'A')==1){iscorrect=false}
if(answerSelectedb==false&&getcorrect(questionnumber,'B')==1){iscorrect=false}
if(answerSelectedc==false&&getcorrect(questionnumber,'C')==1){iscorrect=false}
if(answerSelectedd==false&&getcorrect(questionnumber,'D')==1){iscorrect=false}
if(answerSelecteda&&getcorrect(questionnumber,'A')==1){weighting=(weighting)+new Number(getparam(answeras[questionnumber],1))}
if(answerSelectedb&&getcorrect(questionnumber,'B')==1){weighting=(weighting)+new Number(getparam(answerbs[questionnumber],1))}
if(answerSelectedc&&getcorrect(questionnumber,'C')==1){weighting=(weighting)+new Number(getparam(answercs[questionnumber],1))}
if(answerSelectedd&&getcorrect(questionnumber,'D')==1){weighting=(weighting)+new Number(getparam(answerds[questionnumber],1))}
if(answerSelecteda&&getcorrect(questionnumber,'A')==0){weighting=0}
if(answerSelectedb&&getcorrect(questionnumber,'B')==0){weighting=0}
if(answerSelectedc&&getcorrect(questionnumber,'C')==0){weighting=0}
if(answerSelectedd&&getcorrect(questionnumber,'D')==0){weighting=0}}else{astring=''
if(theanswer=='A'){astring=answeras[questionnumber]}
if(theanswer=='B'){astring=answerbs[questionnumber]}
if(theanswer=='C'){astring=answercs[questionnumber]}
if(theanswer=='D'){astring=answerds[questionnumber]}
resultdetails=astring.split('|')
weighting=resultdetails[1]
if(resultdetails[2]==1){iscorrect=true}}
theqscore[actualquestion-1]=weighting
score=new Number(score)+new Number(weighting)
cmisD=new Date();
cmiet=cmisD.getTime()-cmistarttime
q_time[actualquestion-1]=cmiet
if(iscorrect){q_result[actualquestion-1]='correct'}else{q_result[actualquestion-1]='wrong'}
if(theanswer.length==1){if(theanswer=='A'){answerpicstring=getparam(answeras[questionnumber],4)
if(answerpicstring==''){answerpicstring=getpic(questionnumber,iscorrect)}
answersoundstring=getparam(answeras[questionnumber],5)}
if(theanswer=='B'){answerpicstring=getparam(answerbs[questionnumber],4)
if(answerpicstring==''){answerpicstring=getpic(questionnumber,iscorrect)}
answersoundstring=getparam(answerbs[questionnumber],5)}
if(theanswer=='C'){answerpicstring=getparam(answercs[questionnumber],4)
if(answerpicstring==''){answerpicstring=getpic(questionnumber,iscorrect)}
answersoundstring=getparam(answercs[questionnumber],5)}
if(theanswer=='D'){answerpicstring=getparam(answerds[questionnumber],4)
if(answerpicstring==''){answerpicstring=getpic(questionnumber,iscorrect)}
answersoundstring=getparam(answerds[questionnumber],5)}}
q_studentresponse[actualquestion-1]=theanswer
q_id[actualquestion-1]=(new Number(questionnumber)+1)
possiblescore=possiblescore+new Number(thetopweight(questionnumber))
usemessagebox=false
if(iscorrect){if(cmsgtype>0){if(cmsgtype==1){if(correctstring!=''){qalertq (correctstring)}}
if(cmsgtype==2){showstring=getstring(questionnumber,theanswer)
if(showstring==''){showstring=questionscorrectstring[questionnumber]}
if(showstring==''){showstring=correctstring}
qalertq (showstring)}}}else{if(inmsgtype>0){showstring=''
if(inmsgtype==1){if(incorrectstring!=''){showstring=incorrectstring}}
if(inmsgtype==2){showstring=getstring(questionnumber,theanswer)
if(showstring==''){showstring=questionsincorrectstring[questionnumber]}
if(showstring==''){showstring=incorrectstring}}
if(showstring!=''){correctanswer = ''
if(getcorrect(questionnumber,'A')==1){correctanswer=correctanswer+'\' or \''+'A: ' + getanswer(questionnumber,'A')+ '\''}
if(getcorrect(questionnumber,'B')==1){correctanswer=correctanswer+'\' or \''+'B: ' + getanswer(questionnumber,'B')+ '\''}
if(getcorrect(questionnumber,'C')==1){correctanswer=correctanswer+'\' or \''+'C: ' + getanswer(questionnumber,'C')+ '\''}
if(getcorrect(questionnumber,'D')==1){correctanswer=correctanswer+'\' or \''+'D: ' + getanswer(questionnumber,'D')+ '\''}
if(correctanswer.substring(0,6)=='\' or \''){correctanswer=correctanswer.substring(5,correctanswer.length)}
ic=fur(showstring,'%%answer%%',correctanswer)
qalertq (ic)}}}
if(usemessagebox==false){writequizquestion()}}
function qalertq(thestring){if(coverride==2){return}
if(thestring==''){usemessagebox=false
return}
if(usemessagebox==false){msgfound=false
for (i=0; i<f.length; i++){if(f[i].og=='MsgBoxQuiz'){msgfound=true
usemessagebox=true;break}}}else{msgfound=true}
hidem()
if(msgfound){showmessage=thestring
showmessage=fixquizquestion(showmessage)
showgroup ('MsgBoxQuiz10')
if(usetimer==true){clearquiztimer()}}else{if(usetimer==true){clearquiztimer()}
thestring=fixquizquestion(thestring)
thestring=fixquizquestioncodes(thestring)
alert (thestring)}}
function qalert(thestring){if(coverride==2){return}
if(thestring==''){usemessagebox=false
return}
if(usemessagebox==false){msgfound=false
for (i=0; i<f.length; i++){if(f[i].og=='MsgBoxQuiz'){msgfound=true
usemessagebox=true;break}}}else{msgfound=true}
hidem()
if(msgfound){showmessage=thestring
showmessage=fixquizquestion(showmessage)
showgroup ('MsgBoxQuiz10')
if(usetimer==true){clearquiztimer()}}else{if(usetimer==true){clearquiztimer()}
thestring=fixquizquestion(thestring)
thestring=fixquizquestioncodes(thestring)
alert (thestring)}}
function thetopweight(qnum){topweight=0
if(qtype[qnum]=='multiple'){if(getcorrect(qnum, 'A')==1){topweight=topweight+parseInt(getparam(answeras[qnum],1))}
if(getcorrect(qnum, 'B')==1){topweight=topweight+parseInt(getparam(answerbs[qnum],1))}
if(getcorrect(qnum, 'C')==1){topweight=topweight+parseInt(getparam(answercs[qnum],1))}
if(getcorrect(qnum, 'D')==1){topweight=topweight+parseInt(getparam(answerds[qnum],1))}}else{newweight=getparam(answeras[qnum],1)
if(newweight>topweight){topweight=newweight}
newweight=getparam(answerbs[qnum],1)
if(newweight>topweight){topweight=newweight}
newweight=getparam(answercs[qnum],1)
if(newweight>topweight){topweight=newweight}
newweight=getparam(answerds[qnum],1)
if(newweight>topweight){topweight=newweight}}
return topweight}
function getweight(qnum, qtype){if(qtype=='A'){return getparam(answeras[qnum],1)}
if(qtype=='B'){return getparam(answerbs[qnum],1)}
if(qtype=='C'){return getparam(answercs[qnum],1)}
if(qtype=='D'){return getparam(answerds[qnum],1)}
return ''}
function getcorrect(qnum, qtype){if(qtype=='A'){return getparam(answeras[qnum],2)}
if(qtype=='B'){return getparam(answerbs[qnum],2)}
if(qtype=='C'){return getparam(answercs[qnum],2)}
if(qtype=='D'){return getparam(answerds[qnum],2)}
return ''}
function getanswer(qnum, qtype){if(qtype=='A'){return getparam(answeras[qnum],0)}
if(qtype=='B'){return getparam(answerbs[qnum],0)}
if(qtype=='C'){return getparam(answercs[qnum],0)}
if(qtype=='D'){return getparam(answerds[qnum],0)}
return ''}
function getstring(qnum, qtype){if(qtype=='A'){return getparam(answeras[qnum],3)}
if(qtype=='B'){return getparam(answerbs[qnum],3)}
if(qtype=='C'){return getparam(answercs[qnum],3)}
if(qtype=='D'){return getparam(answerds[qnum],3)}
return ''}
function getpic(qn,rw){if(rw==false){tqf=questionsincorrectstringi[qn]}else{tqf=questionscorrectstringi[qn]}
return tqf}
function getparam(thestring, paramnum){tqr=thestring.split('|')
return tqr[paramnum]}
var qwritten=false
function fixquizquestion(newtext){newtext=newtext.replace('%%question%%',getquizquestion())
newtext=newtext.replace('%%possiblescore%%',possiblescore)
newtext=newtext.replace('%%total%%',totalquizquestions)
newtext=newtext.replace('%%totalquestions%%',totalquizquestions)
newtext=newtext.replace('%%score%%',score)
newtext=newtext.replace(' - ','&nbsp;-&nbsp;')
newtext=newtext.replace('%%totalscore%%',totalquizquestions)
return newtext}
function fixquizquestioncodes(newtext){newtext=fur(newtext,'<B>','')
newtext=fur(newtext,'<I>','')
newtext=fur(newtext,'</I>','')
newtext=fur(newtext,'</B>','')
newtext=fur(newtext,'<BR>','\n')
newtext=fur(newtext,'&nbsp;',' ')
return newtext}
var actualquestion=0
function setques(qstring,ob){hob = -1
if(quizquestion>1){for(jk=0; jk<f.length; jk++){if(f[jk].qo==qstring&&(f[jk].ma>0||f[jk].z1>0)){hob = jk
ob.style.visibility='hidden'
ob.style.overflow='hidden'
if(issafari==true||isiphone==1||isitouch==1){ob.className=''}
f[hob].onflag='';break}}}
ob.innerHTML = writequestion(qstring)
if(hob>-1){if(f[hob].z1>0){qt=z8('z6('+hob+')',f[hob].z1)}else{showIt(hob,f[hob].onfil,f[hob].onfiltime)}}}
function writequizquestion(){qwritten=true
answerSelected=''
if(quizquestion==0){setupquiz()
if(lesson_location!=''){for(i=0; i<totalquizquestions; i++){if(lesson_location==qids[i]){quizquestion=i+1;break}}}}
quizquestion=quizquestion+1
if(quizquestion>totalquizquestions){foundskipped = false
for(i=0; i<totalquizquestions; i++){if(skipped[i]!=''){foundskipped = true;break}}
if(foundskipped==false){quizquestion=totalquizquestions
for(i=0; i<f.length; i++){if(f[i].percent==true){writepercent (i)}
if(f[i].result==true){writequizresult (i)}}
alldone=true
gotoNextPause()
return}}
for(i=0; i<f.length; i++){if(f[i].percent==true){writepercent (i)}
if(f[i].result==true){writequizresult (i)}}
actualquestion = getquizquestion()
if(quizquestion>totalquizquestions){for(i=0; i<totalquizquestions; i++){if(skipped[i]!=''){questionnumber = skipped[i]
skipped[i]='';break}}}else{if(randomquestions==false){questionnumber=quizquestion-1}else{questionnumber=getRandomQuestion()}}
answerSelecteda=false
answerSelectedb=false
answerSelectedc=false
answerSelectedd=false
answerSelectede=false
answerSelectedf=false
newtext=writequestion('Question')
hob = -1
if(quizquestion>1){for(jk=0; jk<f.length; jk++){if(f[jk].qo=='Question'&&(f[jk].ma>0||f[jk].z1>0)){hob = jk
question.style.visibility='hidden'
question.style.overflow='hidden'
f[hob].onflag='';break}}}
question.innerHTML = fixquizquestion(newtext)
if(hob>-1){if(f[hob].z1>0){qt=z8('z6('+hob+')',f[hob].z1)}else{showIt(hob,f[hob].onfil,f[hob].onfiltime)}}
setques('A',answera)
setques('B',answerb)
setques('C',answerc)
setques('D',answerd)
fc=-1, fd=-1, fe=-1, fq=-1, ff=-1
for (i=0; i<f.length; i++){if(f[i].ke=='submitc'||f[i].overevent=='submitc'||f[i].upevent=='submitc'||f[i].downevent=='submitc'||f[i].dblevent=='submitc'){fc = i}
if(f[i].ke=='submitd'||f[i].overevent=='submitd'||f[i].upevent=='submitd'||f[i].downevent=='submitd'||f[i].dblevent=='submitd'){fd = i}}
if(getanswer(questionnumber,'C')==''){temphs(1,fc)
temphs(1,answercid)}else{temphs(0,fc)
temphs(0,answercid)}
if(getanswer(questionnumber,'D')==''){temphs(1,fd)
temphs(1,answerdid)}else{temphs(0,fd)
temphs(0,answerdid)}
if(thepos>-1){aic = 0
currentobjects=new Array(f.length)
for(jk=0; jk<f.length; jk++){if(thepos<f[jk].timeoff&&thepos>=f[jk].timeon){currentobjects [aic] = jk
aic++}}}
currentobjects.length=aic
y1(tot)
tot = 0
y1(tot2)
tot2 = 0
for (j=currentobjects.length-1; j>-1; j--){i=currentobjects[j]
if(f[i].timeout!=''&&typeof(f[i].timeout)!='undefined'){if(tot==0){tot=z8('processTimeoutEvent(\''+f[i].timeout+'\','+i+',true,1)',f[i].timeouttime)}else{if(tot2==0){tot2=z8('processTimeoutEvent(\''+f[i].timeout+'\','+i+',true,2)',f[i].timeouttime)}}}}
if(usetimer==true){clearquiztimers()}}
var timeoutwarning='You have just timed out! You will now be moved to the next question.'
function timeoutquestion(){if(question.style.visibility!='visible'){clearquiztimer()
return}
cmisD=new Date();
cmiet=cmisD.getTime()-cmistarttime
q_time[actualquestion-1]=cmiet
q_result[actualquestion-1]='wrong'
q_studentresponse[actualquestion-1]='TO'
q_id[actualquestion-1]=(new Number(questionnumber)+1)
possiblescore=possiblescore+new Number(thetopweight(questionnumber))
if(coverride==2){return}
if(timeoutwarning!=''){usemessagebox==false
qalert (timeoutwarning)
if(usemessagebox==false){writequizquestion()}}else{writequizquestion()}}
function clearquiztimers(){if(timermode==0){return}
if(timermode==1){usetime=qtime[questionnumber]*1000
if(usetime==0){if(timermode==0){return}
usetime = globalusetime}}
if(timermode==2){usetime=globalusetime}
if(usetime>0){clearquiztimer()
usertimer=z8('timeoutquestion()',usetime)
date_now=new Date();
timeleft=date_now.getTime();
updatetimeleft()
updatetime=z9('updatetimeleft()', 1000)}}
function clearquiztimer(){y1(usertimer)
usertimer=0}
function updatetimeleft(){for (j=currentobjects.length-1; j>-1; j--){i=currentobjects[j]
if(typeof i!='undefined'){if(f[i].text.indexOf('%%timeleft%%')!=-1){writepercent(i)}}}}
function updatetimeleft2(){for (j=currentobjects.length-1; j>-1; j--){i=currentobjects[j]
if(typeof i!='undefined'){if(f[i].text.indexOf('%%timeleft2%%')!=-1){writepercent(i)}}}}
function temphs(hs,id){if(id==-1){return}
if(hs==1){f[id].timeon = 0
f[id].timeoff = 0
f[id].onflag='1'
hideIt(id,0,0)
f[id].onflag='0'}else{f[id].timeon = f[id].t_timeon
f[id].timeoff =f[id].t_timeoff
if(thepos>=f[id].timeon&&thepos<=f[id].timeoff){if(f[id].z1>0){qt=z8('z6('+id+')',f[id].z1)}else{showIt(id,0,0)}}}}
var totalquizquestions=25
totalscore=totalquizquestions
var correctstring=''
var incorrectstring=''
var skipped=new Array(totalquizquestions)
for(i=0; i<totalquizquestions; i++){skipped[i]=''}
var allowskip=true
function addskipped(){for(i=0; i<totalquizquestions; i++){if(skipped[i]==''){skipped[i] = new String(questionnumber);break}}}
function getquizquestion(){tquestions = quizquestion
if(quizquestion>=totalquizquestions){subit = 0
for(ik=0; ik<totalquizquestions; ik++){if(skipped[ik]!=''){subit = ik + 1}}
tquestions = tquestions - subit - 0}else{for(ik=0; ik<totalquizquestions; ik++){if(skipped[ik]!=''){tquestions = tquestions - 1}}}
return (tquestions)}
var theactions=new Array(63)
var currentobjects=new Array(63)
var moos=new Array(0)
var scoredobjects=new Array(0)
var tooobjects=new Array(0)
var tac=0, aic=0, mooc=-1, scoreobjects=-1
function sf(preload,ii,timeoutdata,moid,oid,eventoff,ke,mod,sck,alt,bstyle,bwidth,bcolor,photo,timeon,timeoff,lleft,ttop,wwidth,hheight,onfil,offfil,onfiltime,offfiltime,xdistance,ydistance,thetext,valign,halign,loading,startup,margin,backcolor,thesize,media,imageover,imagedown,overevent,downevent,upevent,dblevent,parameter,nohide,instruct,fallback,theclass,thehint,thescore,qo,mds,mos,mus,dcs,kys,msc,ename){if(imageover!=''||upevent!=''||imagedown!=''||overevent!=''||downevent!=''||dblevent!=''){theactions [tac] = fc
tac = tac + 1
if(startup=='true'){currentobjects[aic]=fc
aic++}}
this.timeout=''
this.timeouttime=0,this.timeoutstring='',this.timeoutscore=0,this.timeoutmin=0
if(timeoutdata!=-1){tdata=timeoutdata.split('|'),this.timeout=tdata[0],this.timeoutscore=tdata[1],this.timeoutmin=tdata[2],this.timeouttime=tdata[3],this.timeoutstring=tdata[4]}
if(isandroid&&downevent=='dropdown'){downevent=''}
this.status=0
if(thehint.indexOf('_kp_')>-1){thehints=thehint.split('_kp_'),thehint=thehints[1],this.objectname=thehints[0]}else{this.objectname=''}
this.object=''
if(thehint=='_kpstatus1'){this.status=1;thehint=''}
if(thehint=='_kpstatus2'){this.status=2;thehint=''}
if(thehint=='_kpstatus3'){this.status=3;thehint=''}
if(thehint=='wj'){this.status=4;thehint=''}
this.ma=0,this.maamount=0,this.maamount2=0,this.maamounty=0,this.z5=0,this.z5cx=0,this.z5cxa=0,this.z5cy=0,this.z5cya=0
this.z1=0,this.z2=0,this.fdelay=0,this.fcount=0,this.ffor=0,this.ffinal=0,this.cs='',this.incs='',this.canrotate=false,this.canscale=false
if(theclass.indexOf('_apdtscs_')>-1){this.canscale=true}
theclass=fur(theclass,'_apdtscs_','')
if(theclass.indexOf('_apdtscr_')>-1){this.canrotate=true}
theclass=fur(theclass,'_apdtscr_','')
this.madevisible=false,this.preload=preload
this.ii=ii,this.moid=moid,this.oid=oid,this.eventoff=eventoff
this.eventoff=eventoff*5
this.mds=mds,this.mos=mos,this.mus=mus,this.dcs=dcs,this.kys=kys,this.ke=ke,this.kme=''
this.hfk=false,this.autoscroll=false,this.feedback=false,this.usernote=false,this.cursorinfo=16,this.parameter=parameter
if(this.ke=='!freeform'){this.ke='freeform',this.hfk=true}
if(this.ke=='feedback'){this.ke='freeform',this.feedback=true}
if(this.ke=='usernote'){this.ke='freeform',this.usernote=true}
if(this.ke=='freeform'&&wwidth!=hheight&&(isiphone==1||isitouch==1)){wwidth = wwidth + 2}
this.aspassword=0
if(this.ke=='freeform'){ffvars=this.parameter.split('|')
if(ffvars.length>2){this.parameter=ffvars[1],this.cursorinfo=ffvars[0],this.aspassword=ffvars[2]}}
this.tex=-1,this.tey=-1,this.kis=false,this.mod=mod
if((navp=='Mac'||isopera)&&this.mod==4){this.mod=0}
if(isiphone==1||isitouch){this.mod=0}
this.sss=sck;this.sck=sck;if(this.sck=='0'||this.sck=='1'||this.sck=='2'){this.sck=''}
if(alt.indexOf('|')>-1){altsr=alt.split('|'),this.alt=altsr[0],this.srtitle=''
if(altsr[0]=='state'){this.srtitle=''}
if(altsr[1]=='state'){this.alt=''}}else{this.srtitle='',this.alt=''}
if(this.alt=='0'||this.alt=='100'){this.alt=''}
this.bstyle=bstyle
if(this.bstyle==0){this.bstyle=''}
this.bwidth=bwidth,this.bcolor=bcolor,this.photo=photo
if(tbro=='ie'&&backcolor==''&&photo==''&&thetext!=''){onfil=1}
if(photo.substring(0,2)=='zq'){this.photo=fur(photo,'zq',''),this.photo=fur(this.photo,'.gif','.png')}
if(isiphone==1||isitouch==1||navigator.userAgent.indexOf('IEMobile')>-1){thetext=fur(thetext,'onmouseover="showglossary','onmousedown="showglossary')}
this.timeon=timeon,this.timeoff=timeoff,this.timeon=timeon*5,this.timeoff=timeoff*5,this.sequence=false,this.seqid=-1,this.seqdet='',this.eseqid=-1,this.trans=0,this.tval=1,this.seqc=0
this.hatimeon=this.timeon,this.hatimeoff=this.timeoff
if(this.timeoff<this.timeon){this.timeoff=this.eventoff}
if(this.ke=='freeform'){this.eventoff=this.timeon + 5}
this.lleft=lleft,this.ttop=ttop,this.wwidth=wwidth,this.hheight=hheight,this.zlleft=lleft,this.zttop=ttop,this.ofw=0,this.zwwidth=wwidth,this.zhheight=hheight,this.rfs=-1,this.sfs=-1,this.rth=-1,this.rtw=-1,this.onfil=onfil
if(tbro=='ie'&&isie10==false&&photo.substring(photo.length-4,photo.length)!='jpg'){this.onfil=1}
this.metro=0,this.offfil=1,this.rc=offfil
if(nohide=='metro'){this.metro=1;nohide='';this.nohide=''}
if(isiphone){this.onfil=1,this.offfil=1}
if((navigator.userAgent.indexOf('IEMobile')>-1||canfilter==false||canzoom==false)&&tbro=='ie'){this.onfil=1,this.offfil=1}
if(dynamicresults==1){this.offfil=1}
this.onfiltime=onfiltime,this.offfiltime=offfiltime
if(this.timeon!=0&&this.timeoff!=0){if(this.onfiltime>this.timeoff-this.timeon){this.onfiltime=this.timeoff-this.timeon-.1}
if(this.onfiltime+this.offfiltime>this.timeoff-this.timeon){this.onfiltime=((this.timeoff-this.timeon)/2)-.1,this.offfiltime=((this.timeoff-this.timeon)/2)-.1}}
this.xdistance=xdistance,this.ydistance=ydistance,this.text=thetext
if(isios!=1){this.text=fur(this.text, '<audio id', '<audio preload="none" id')}
if(this.text.indexOf('_kpvideo_')>-1){tt=this.text
if(tt.indexOf('SYNCHRONIZEME')>-1){this.text=fur(this.text,'SYNCHRONIZEME','');this.text=this.text + ' <SYNCHRONIZEME> '}
if(tt.indexOf('AUTOSTARTME')>-1){this.text=fur(this.text,'AUTOSTARTME','');this.text=this.text + ' <AUTOSTARTME> '}
if(tt.indexOf('LOOPMEAPP')>-1){this.text=fur(this.text,'LOOPMEAPP','');this.text=this.text + ' <LOOPMEAPP> '}
if(tt.indexOf('GTNS')>-1){this.text=fur(this.text,'GTNS','');this.text=this.text + ' <GTNS> '}
splittext=this.text.split('_kpvideo_')
if(forceqtime==true){this.text=splittext[0]}else{splittext[1]=fur(splittext[1],'</video>',''),this.text=splittext[1] + splittext[0] + '</video>'}
if(this.text.indexOf('usercamera.mp4')>-1){newtext=splittext[1],newtext=fur(newtext,'id=','autoplay id'),newtext=fur(newtext,'id"','id="'),newtext=fur(newtext,'src="usercamera.mp4"',''),this.usercamera=true,this.text=newtext}}
this.text=fur(this.text,'gotoTime','gotoiTime'),this.valign=valign,this.halign=halign,this.loading=loading
if(this.objectname=='ipadloader'){this.timeon=0,this.timeoff=0}
if(isipadapp&&getArg('sip')!=1){this.loading=false}
this.startup=startup
this.margin=margin,this.backcolor=backcolor
if(this.backcolor==''){this.backcolor='transparent'}
if(this.text.indexOf('<video')>-1){this.backcolor='#000000'}
this.media=media,this.imageover=imageover,this.imagedown=imagedown
if(this.imagedown!=''&&this.imageover==''&&this.photo=='_kpinvis.gif'){this.imageover='_kpinvis.gif'}
if(imageover.substring(0,2)=='zq'){this.imageover=fur(imageover,'zq',''),this.imageover=fur(this.imageover,'.gif','.png')}
if(imagedown.substring(0,2)=='zq'){this.imagedown=fur(imagedown,'zq',''),this.imagedown=fur(this.imagedown,'.gif','.png')}
this.tttevent=overevent,this.overevent='',this.downevent=downevent,this.upevent=upevent,this.shakevent=upevent
if(this.downevent=='allowswipeonthisstep'){this.objectname='swipe';this.downevent=''}
if(this.downevent=='noswipe'){this.objectname='noswipe';this.downevent=''}
if(this.downevent=='allowswipeleft'){this.objectname='swipeleft';this.downevent=''}
if(this.downevent=='allowswiperight'){this.objectname='swiperight';this.downevent=''}
if(this.downevent=='noswipeleft'){this.objectname='noswipeleft';this.downevent=''}
if(this.downevent=='noswiperight'){this.objectname='noswiperight';this.downevent=''}
if(isiphone==1||isitouch==1){this.upevent=''}
if(isiphone==0&&isitouch==0){this.upevent=''
if(this.imagedown!=''&&this.downevent!=''&&this.downevent!='truefalse'&&this.xevent!='truefalse'){this.upevent=this.downevent,this.downevent='',this.shakeevent=''}}
if(isiphone==1||isitouch==1){if(this.imagedown!=''&&this.downevent!=''){this.upevent=this.downevent,this.downevent=''}}
this.dblevent=dblevent
this.flash=false,this.xevent='',this.xxevent=''
if(thehint=='ontouch'&&isios==1){this.xevent=this.downevent,this.downevent=''}
this.truefalsestate=false
if(this.text.indexOf('<P class=flash>')>-1){this.flash=true}
this.nohide=nohide,this.instruct=instruct,this.fallback=fallback,this.templeft=0,this.temptop=0,this.onflag='',this.offflag='',this.mouseover=0
if(this.downevent=='truefalse'||this.xevent=='truefalse'){this.imageover='',this.imagedown=''}
this.mouseoff=1,this.maxchars=32,this.loaded=false,this.dts=false
if(theclass.indexOf('_apdts_')>-1){this.dts=true}
theclass=fur(theclass,'_apdts_',''),this.theclass=theclass,thehint=fur(thehint,'\n','&nbsp;<BR>'),this.hint=thehint,this.mhint=''
if(thehint.indexOf('º')>0){if(thehint.indexOf('¬')>0){this.hint=thehint.substring(thehint.indexOf('¬')+1, thehint.length),thehint=thehint.substring(0, thehint.indexOf('¬')),this.accuracy=thehint.substring(thehint.indexOf('º')+1, thehint.length),this.mhint='!move'}else{this.accuracy=thehint.substring(thehint.indexOf('º')+1, thehint.length),this.mhint='!move'}}
this.hasdrop=false
this.ct=''
if(thehint.indexOf('@®@')>-1){splithints=thehint.split('@®@'),this.hint=splithints[0],this.ct=splithints[1]}
this.score=thescore,this.allowenter=false,this.qo=qo,this.msc=msc,this.ename=ename,this.ftext='',this.rtext='',this.entrytext='',this.finalentrytext='',this.percenttext='',this.edittext=''
this.iid='',this.og='',this.ogn=-1,this.nb=false,this.nf=false,this.cn=false,this.ann=0,this.nbt=0,this.nft=0,this.cnt=0
if(this.downevent!=''&&this.downevent!='sequenceit'&&this.downevent!='dragtarget'&&this.imagedown==''&&isios==1){this.xevent=this.downevent,this.downevent=''}
if((this.downevent=='truefalse'||this.upevent=='truefalse')&&isios==1){this.xevent='truefalse',this.downevent='',this.imagedown='',this.upevent=''}
if((this.downevent=='truefalse'||this.upevent=='truefalse')&&isios==0){this.downevent='truefalse',this.xevent='',this.imagedown='',this.upevent=''}
if(typeof alwaysup=='undefined'){alwaysup=false}
if(alwaysup){if(isios==1||isitouch==1||isandroid){if(this.downevent!='truefalse'&&this.downevent!=''&&this.upevent==''){this.upevent=this.downevent;this.downevent='';this.imagedown='_kpinvis.gif'}
if(this.xevent!=''&&this.upevent==''){this.upevent=this.xevent;this.xevent='';this.imagedown='_kpinvis.gif'}}}
if(this.text.indexOf('_kpri')>-1){np=fur(this.text,'_kpri_',''),this.text='',this.photo=np}else{this.photo=fur(this.photo,' ','')}
this.imageover=fur(this.imageover,' ',''),this.imagedown=fur(this.imagedown,' ','')
if(this.xevent=='showgroup'||this.xevent=='hidegroup'&&(isiphone==1||isitouch==1)){if(this.parameter.indexOf('_kpslio')>-1){this.upevent=this.xevent,this.imagedown='_kpinvis.gif',this.downevent='',this.xevent=''}}
this.gotonext=false, this.voice=''
if(this.parameter.indexOf('xspeak')>-1&&this.fallback=='True'){this.gotonext=true;this.fallback='False'}
if(this.parameter.indexOf('xspeak')>-1&&this.mds!=''){this.voice=this.mds;this.mds=''}
if(this.xevent!=''&&this.parameter.indexOf('xspeak')>-1&&(isiphone==1||isitouch==1)){this.upevent=this.xevent,this.imagedown='_kpinvis.gif',this.downevent='',this.xevent=''}
if(this.timeon==0&&this.timeoff==0){if(this.startup!='true'&&this.loading!='true'){mooc=mooc+1
moos[mooc]=fc}}
if(typeof ename=='undefined'){this.ename=''}
if(typeof msc=='undefined'){this.msc=''}
if(this.text=='~'){this.text="<IMG SRC='_kpinvis.gif' width=1 height=1>"}
if(this.theclass==''){this.theclass='null'}
if(this.text.indexOf('%%')>-1||this.status>0){this.percent=true}
if(this.ke=='freeform'){this.percent=true}
if(this.text.indexOf('%%possiblescore%%')>0||this.text.indexOf('%%totalquestions%%')>0||this.text.indexOf('%%questionsdone%%')>0||this.text.indexOf('%%score%%')>0||this.text.indexOf('%%question%%')>0||this.text.indexOf('%%total%%')>0){this.result=true}
if(this.instruct=='true'){this.text='<P class=instruct>' + this.text
this.text = this.text.substring(0,3) + ' id="maint' + fc + '" ' + this.text.substring(3,this.text.length)}
fc=fc+1
if(this.timeoff==32700){this.timeoff=duration}
if(this.timeoff>=32700){this.timeoff=duration*5}
if(this.offfil>1){this.timeoff = this.timeoff - this.offfiltime}
this.t_timeon=this.timeon,this.t_timeoff=this.timeoff,this.mo_timeon=this.timeon,this.mo_timeoff=this.timeoff
if(this.qo=='Picture'||this.qo=='Sound'){this.timeon=0,this.timeoff=0}
this.hasevent=false,this.hascevent=false
if(this.text.indexOf('<canvas')>-1){this.text="<canvas id='mainc" + (fc-1) + "' width='" + (this.wwidth-(this.bwidth*4)) + "px' height='" + (this.hheight-(this.bwidth*4)) + "px'></canvas>"
this.hascevent=true}
this.ismarker=false,this.posset=false,this.mtl=0,this.ust=-1
if(this.feedback==true||this.usernote==true){this.maxchars=4096;this.allowenter=true}
if(this.downevent=='tm'||this.xevent=='tm'){this.ismarker=true,this.downevent='',this.xevent=''}
if((this.ke!=''&&this.ke!='0')||this.xevent!=''||this.xxevent!=''||this.overevent!=''||this.tttevent!=''||this.upevent!=''||this.downevent!=''||this.dblevent!=''||this.imageover!=''||this.imagedown!=''||this.nohide!=''||this.moid!=-1){this.hasevent=true}
if(this.mds!=''||this.mos!=''||this.dcs!=''){this.hasevent=true}
this._ke='',this._overevent='',this._downevent='',this._upevent='', this._dblevent=''}
</SCRIPT>
<SCRIPT>
var canfilter=false,noerrors=true
if(tbro=='ie'&&navp!='Mac'&&isopera==false){document.write ("<DIV id='ftest' style='position:absolute;visibility;hidden;left:0px;top:0px;width:1px;height:1px'></DIV>")
try{t=getObject('ftest')
t.style.filter='BlendTrans(duration="1")';
t.filters.BlendTrans.apply();
canfilter = true}catch(err){}}
</SCRIPT>
<SCRIPT>
var canzoom = true
var dozoom=1, dozoom2=(getArg('zoom'))
if(dozoom2=='false'||dozoom2=='0'){canzoom=false}
</SCRIPT>
<SCRIPT>
noerrors=false
f = new Array(1)
f[fc]=new sf(2,1,-1,'-1',0,32700,'',0,0,'|',0,0,0,'as9571_632632733.png',0,32700,0,792,540,60,2,1,0.5,0.5,0,792,'','','','','',0,'',0,'False','','','','','','','','','','False','','bottombar_kp_',False,'','','','0','','','','')
f[fc]=new sf(2,-1,-1,'-1',1,32700,'',0,0,'|',0,0,0,'as9571_632632733.png',0,32700,0,0,540,60,2,1,0.5,0.5,0,0,'','','','','',0,'',0,'False','','','','','','','','','','False','','header_kp_',False,'','','','0','','','','')
f[fc]=new sf(2,-1,-1,'-1',2,32700,'',0,0,'%%title%%|',0,0,0,'zqas16897_584159613.gif',0,32700,109,0,644,120,2,1,0.5,0.5,109,0,'','middle','center','','',8,'',0,'False','','','','','','','','','','False','_apdts_','mainheading_kp_',False,'','','','0','','','','')
f[fc]=new sf(2,-1,-1,'-1',3,1,'',0,0,'Estimated Completion Time: 10 Minutes|',0,0,0,'zqas17084_231229187.gif',0,1,50,792,878,120,2,1,0.5,0.5,50,792,'','middle','center','','',0,'',0,'False','','','','','','','<content>|5|10|10|13','','','False','_apdts_','estimatedtime_kp_',False,'','0','','0','','','','')
f[fc]=new sf(0,1,-1,'-1',4,6,'',0,0,'|',0,0,0,'appcomplete.jpg',4,6,-1000,-1000,1,1,1,1,0,0.5,-1000,-1000,'','','','','',0,'',0,'False','','','','setcomplete','','','','','','False','','setcomplete_kp_',False,'','','','0','voice','','','')
f[fc]=new sf(0,-1,-1,'-1',5,4,'#000000',1,0,'|','ridge',1,'#000000','',3,4,38,197,465,339,2,1,0.5,0.5,38,197,'<P class=layer5><canvas>','middle','center','','',0,'#F0F0F0',0,'False','','','','','','','','','','False','','signaturecapture_kp_signature',False,'','','','0','','','','')
f[fc]=new sf(0,-1,-1,'-1',6,4,'',0,0,'Signature. It is very important that you use the mouse, or touch, to sign the form below. This helps us record your progress accurately.|',0,0,0,'zqas15583_111938477.gif',3,4,36,85,932,184,2,1,0.5,0.5,36,85,'','Top','left','','',0,'',0,'False','','','','','','','<content>|5|10|10|13','','','False','_apdts_','signotes_kp_',False,'','','','0','','','','')
f[fc]=new sf(0,-1,-1,'-1',7,4,'',0,0,'|',0,0,0,'as18529_894042790.png',3,4,94,557,352,61,2,11111.7,0.5,0.5,94,557,'','','','','',0,'',0,'False','','_kpinvis.gif','','next','','','','metro','','False','','submitsignature_kp_',False,'','','','0','','','url("00001.cur")|','')
f[fc]=new sf(0,-1,-1,'-1',8,4,'',0,0,'|',0,0,0,'as17019_370763720.png',3,4,94,627,352,61,2,11111.7,0.5,0.5,94,627,'','','','','',0,'',0,'False','','_kpinvis.gif','','clearsignature','','','','metro','','False','','clearsignature_kp_',False,'','','','0','','','url("00001.cur")|','')
f[fc]=new sf(2,1,-1,'-1',9,32700,'',0,0,'|',0,0,0,'zqas3427_814649940.png',0,32700,5,5,100,100,2,1,0.5,0.5,5,5,'','','','','',0,'',0,'False','','_kpinvis.gif','','rafs','','','','metro','','False','_apdts_','fullscreen_kp_',False,'','','','0','','','url("00001.cur")|','')
f[fc]=new sf(2,1,-1,'-1',10,4,'',0,0,'|',0,0,0,'zqas7627_728035927.png',0,4,485,5,50,50,2,1,0.5,0.5,485,5,'','','','','',0,'',0,'False','','_kpinvis.gif','','showgroup','','','CloseMessage10','metro','','False','','closebutton_kp_',False,'','','','0','','','url("00001.cur")|','')
f[fc]=new sf(2,1,-1,'-1',11,32700,'',0,0,'|',0,0,0,'zqas25626_27565599.png',0,32700,430,5,100,100,2,1,0.5,0.5,430,5,'','','','','',0,'',0,'False','','_kpinvis.gif','','showgroup','','','userfeedback11','metro','','False','_apdts_','feedback_kp_',False,'','','','0','','','url("00001.cur")|','')
f[fc]=new sf(2,-1,-1,'-1',12,1,'',0,0,'Welcome to this training lesson on %%title%%. In this lesson, we\'ll look at passwords - why they are so important, how to create them, how to use them, and how to store them.|',0,0,0,'zqas1459_375877023.gif',0,1,40,72,918,388,2,1,0.5,1,40,72,'','Top','center','','',0,'',0,'False','','','','','','','<content>|5|10|10|13','','','False','_apdts_','welcometothisassessmentonmobilephotographythisisathirtyquest_kp_',False,'','0','','0','','','','')
f[fc]=new sf(2,-1,-1,'-1',13,1,'',0,0,'|',0,0,0,'zqas26890_485158206.png',0,1,132,265,277,253,2,1,0.5,0.5,132,265,'','','','','',0,'',0,'False','','','','','','','','','','False','_kpanim13','qaa2_kp_',False,'','','','0','','','','')
f[fc]=new sf(0,-1,-1,'-1',14,2,'0',0,0,'Current Question|',0,0,0,'',1,2,12,67,515,155,2,1,0.5,0.5,12,67,'<P class=layer14>','middle','center','','',0,'',0,'False','','','','','','','','','','False','','question_kp_',False,'Question','','','0','','','','')
f[fc]=new sf(0,-1,-1,'-1',15,2,'',0,65,'|',0,0,0,'',1,2,142,251,373,89,0,1,0.5,0.5,142,251,'<P class=layer15>','middle','left','','',0,'',0,'False','','','','submita','','','','','','False','_kpanikpcs15','quizoptiona_kp_',False,'A','','','0','','','','')
f[fc]=new sf(0,-1,-1,'-1',16,2,'',0,66,'|',0,0,0,'',1,2,142,358,373,89,0,1,0.5,0.5,142,358,'<P class=layer15>','middle','left','','',0,'',0,'False','','','','submitb','','','','','','False','_kpanikpcs16','quizoptionb_kp_',False,'B','','','0','','','','')
f[fc]=new sf(0,-1,-1,'-1',17,2,'',0,67,'|',0,0,0,'',1,2,142,466,373,89,0,1,0.5,0.5,142,466,'<P class=layer15>','middle','left','','',0,'',0,'False','','','','submitc','','','','','','False','_kpanikpcs17','quizoptionc_kp_',False,'C','','','0','','','','')
f[fc]=new sf(0,-1,-1,'-1',18,2,'',0,68,'|',0,0,0,'',1,2,142,574,373,89,0,1,0.5,0.5,142,574,'<P class=layer15>','middle','left','','',0,'',0,'False','','','','submitd','','','','','','False','_kpanikpcs18','quizoptiond_kp_',False,'D','','','0','','','','')
f[fc]=new sf(0,-1,-1,'-1',19,2,'0',0,0,'Status|',0,0,0,'',1,2,153,807,234,32,2,1,0.5,0.5,153,807,'<P class=layer19>Question %%question%% of %%totalscore%%','middle','center','','',0,'',0,'False','','','','','','','','','','False','','questionnumber_kp_',False,'','','','0','','','','')
</SCRIPT>
<SCRIPT>
f[fc]=new sf(0,-1,-1,'-1',20,6,'',0,0,'Well done. You ve now completed this assessment.|',0,0,0,'zqas24636_741314173.gif',5,6,102,83,672,246,2,1,0.5,1,102,83,'','Top','center','','',0,'',0,'False','','','','','','','<content>|5|10|10|13','','','False','_apdts_','summary_kp_',False,'','','','0','','','url("00001.cur")|','')
f[fc]=new sf(0,-1,-1,'-1',21,6,'',0,0,'|',0,0,0,'zqas26890_485158206.png',5,6,76,223,388,343,2,1,0.5,0.5,76,223,'','','','','',0,'',0,'False','','','','','','','','','','False','_kpanim21','qaa2002_kp_',False,'','','','0','','','','')
f[fc]=new sf(0,-1,-1,'-1',22,3,'',0,0,'|',0,0,0,'zqas22667_974645138.png',2,3,208,413,125,125,1,1,0.5,0.5,208,413,'','','','','',0,'',0,'False','','','','','','','','','','False','_kpanim22','kpwait01_kp_',False,'','','','0','','','','')
f[fc]=new sf(0,-1,'next|0|50|3000|','-1',23,3,'',0,0,'Welcome to this training lesson on %%title%%. In this lesson, we\'ll look at passwords - why they are so important, how to create them, how to use them, and how to store them.|',0,0,0,'zqas4904_28509022.gif',2,3,104,314,666,180,2,1,0.5,1,104,314,'','middle','center','','',0,'',0,'False','','','','js','','','xspeak("Evaluating Results - Please Wait...",5,10,10,%%thexobject%%,13)','','','False','_apdts_','evaluatingresults_kp_',False,'','0','','0','','','','')
f[fc]=new sf(0,-1,-1,'-1',24,5,'',0,0,'Your results:|',0,0,0,'zqas16881_444744587.gif',4,5,27,97,396,76,2,1,0.5,1,27,97,'','Top','left','','',0,'',0,'False','','','','js','','','xspeak("Your results:",5,10,10,%%thexobject%%,13)','','','False','_apdts_','summary002_kp_',False,'','','','0','','','','')
f[fc]=new sf(0,-1,-1,'-1',25,5,'',0,0,'|','solid',8,'#336699','',4,5,27,135,486,545,1,1,0.5,0.5,27,135,'<P class=layer25><B>Result:</B> %%status%%&nbsp;<BR><B>Score:</B> %%scoreaspercent%%&nbsp;<BR>&nbsp;<BR><B>Summary:</B>&nbsp;<BR>%%results%%','Top','left','','',8,'#F0F0F0',0,'False','','','','setcomplete','','','','','','False','','result_kp_',False,'','','','0','','','','')
f[fc]=new sf(0,-1,-1,'-1',26,5,'',0,0,'|',0,0,0,'as8200_387539685.png',4,5,144,706,251,61,2,11111.7,0.5,0.5,144,706,'','','','','',0,'',0,'False','','_kpinvis.gif','','next','','','','metro','','False','','continue_kp_',False,'','','','0','','','url("00001.cur")|','')
f[fc]=new sf(0,-1,-1,'-1',27,2,'',0,13,'|',0,0,0,'as12209_963428795.png',1,2,132,704,275,68,2,11111.7,0.5,0.5,132,704,'','','','','',0,'',0,'False','','_kpinvis.gif','','submit','','','','metro','','False','','submitanswer_kp_',False,'','','','0','','','url("00001.cur")|','')
f[fc]=new sf(0,-1,-1,'-1',28,6,'',0,0,'|',0,0,0,'as10927_86432517.png',5,6,169,715,202,61,2,11111.7,0.5,0.5,169,715,'','','','','',0,'',0,'False','','_kpinvis.gif','','close','','','','metro','','False','','close_kp_',False,'','','','0','','','url("00001.cur")|','')
f[fc]=new sf(0,-1,-1,'-1',29,9,'',0,0,'|','ridge',18,'#0166D0','as5342_838719964.gif',8,9,6,165,1054,734,2,1,0.5,0.5,6,165,'','Top','center','','',0,'',0,'False','','','','dragtarget','','','','','','False','_apdts_','msgbox_kp_!moveº10',False,'','','','0','','','','')
f[fc]=new sf(0,-1,-1,'-1',30,9,'',0,13,'OK|',0,0,0,'as14188_431709409.png',8,9,208,447,124,61,2,11111.7,0.5,0.5,208,447,'','','','','',0,'',0,'False','','_kpinvis.gif','','hidegroup','','','MsgBoxQuiz0','metro','','False','','msgboxokbutton_kp_',False,'','','','0','','','url("00001.cur")|','')
f[fc]=new sf(0,-1,-1,'-1',31,9,'0',0,0,'Status|','solid',2,'#191975','as2620_571628452.gif',8,9,15,174,1020,110,2,1,0.5,0.5,15,174,'','middle','center','','',2,'',0,'False','','','','','','','','','','False','_apdts_','msgboxheader_kp_',False,'','','','0','','','','')
f[fc]=new sf(0,-1,-1,'-1',32,9,'',0,0,'|',0,0,0,'zqas18361_366982580.png',8,9,36,272,127,127,2,1,0.5,0.5,36,272,'','','','','',0,'',0,'False','','zqas10451_496637106.png','','','','','','','','False','','pencils_kp_',False,'','','','0','','','','')
f[fc]=new sf(0,-1,-1,'-1',33,9,'',0,0,'|',0,0,0,'',8,9,188,254,328,161,2,1,0.5,0.5,188,254,'<P class=KPMessage>%%msg%%','middle','center','','',0,'',0,'False','','','','dragtarget','','','','','','False','','msgboxmessage_kp_!moveº10',False,'','','','0','','','','')
f[fc]=new sf(0,-1,-1,'-1',34,8,'',0,0,'|','ridge',18,'#0166D0','as5342_838719964.gif',7,8,6,165,1054,734,2,1,0.5,0.5,6,165,'','Top','center','','',12,'',0,'False','','','','dragtarget','','','','','','False','_apdts_','closemessage_kp_!moveº10',False,'','','','0','','','','')
f[fc]=new sf(0,-1,-1,'-1',35,8,'',0,13,'OK|',0,0,0,'as14188_431709409.png',7,8,134,447,124,61,2,11111.7,0.5,0.5,134,447,'','','','','',0,'',0,'False','','_kpinvis.gif','','close','','','','metro','','False','','buttoncloseok_kp_',False,'','','','0','','','url("00001.cur")|','')
f[fc]=new sf(0,-1,-1,'-1',36,8,'',0,27,'Cancel|',0,0,0,'as16771_170899154.png',7,8,264,447,143,61,2,11111.7,0.5,0.5,264,447,'','','','','',0,'',0,'False','','_kpinvis.gif','','hidegroup','','','CloseMessage0','metro','','False','','buttonclosecancel_kp_',False,'','','','0','','','url("00001.cur")|','')
f[fc]=new sf(0,-1,-1,'-1',37,8,'0',0,0,'Status|','solid',2,'#191975','as1430_331402183.gif',7,8,15,174,1020,110,2,1,0.5,0.5,15,174,'','middle','center','','',2,'',0,'False','','','','','','','','','','False','_apdts_','msgboxcloseheader_kp_',False,'','','','0','','','','')
f[fc]=new sf(0,-1,-1,'-1',38,8,'',0,0,'|',0,0,0,'zqas14927_282287002.png',7,8,36,272,127,127,2,1,0.5,0.5,36,272,'','','','','',0,'',0,'False','','','','','','','','','','False','','stopsign_kp_',False,'','','','0','','','','')
f[fc]=new sf(0,-1,-1,'-1',39,8,'',0,0,'Selecting this option will close the quiz before you have completed it.    Are you sure you would like to do this?|',0,0,0,'zqas20662_417076231.gif',7,8,188,254,656,322,2,1,0.5,0.5,188,254,'','middle','center','','',0,'',0,'False','','','','dragtarget','','','','','','False','_apdts_','closemessage002_kp_!moveº10',False,'','','','0','','','','')
</SCRIPT>
<SCRIPT>
f[fc]=new sf(0,1,-1,'-1',40,9,'',0,0,'|',0,0,0,'zqas7627_728035927.png',4,9,485,5,50,50,1,1,0.5,0.5,485,5,'','','','','',0,'',0,'False','','_kpinvis.gif','','close','','','','metro','','False','','closebutton2_kp_',False,'','','','0','','','url("00001.cur")|','')
f[fc]=new sf(0,-1,-1,'-1',41,2,'',0,65,'|',0,0,0,'as8721_719245255.png',1,2,41,258,67,73,2,11111.5,0.5,0.5,41,258,'','','','','',0,'',0,'False','','_kpinvis.gif','','submita','','','','metro','','False','','a_kp_',False,'','','','0','','','url("00001.cur")|','')
f[fc]=new sf(0,-1,-1,'-1',42,2,'',0,66,'|',0,0,0,'as18423_185356797.png',1,2,41,366,67,73,2,11111.5,0.5,0.5,41,366,'','','','','',0,'',0,'False','','_kpinvis.gif','','submitb','','','','metro','','False','','b_kp_',False,'','','','0','','','url("00001.cur")|','')
f[fc]=new sf(0,-1,-1,'-1',43,2,'',0,67,'|',0,0,0,'as16243_392162860.png',1,2,41,474,67,73,2,11111.5,0.5,0.5,41,474,'','','','','',0,'',0,'False','','_kpinvis.gif','','submitc','','','','metro','','False','','c_kp_',False,'','','','0','','','url("00001.cur")|','')
f[fc]=new sf(0,-1,-1,'-1',44,2,'',0,68,'|',0,0,0,'as4270_476998747.png',1,2,41,581,67,73,2,11111.5,0.5,0.5,41,581,'','','','','',0,'',0,'False','','_kpinvis.gif','','submitd','','','','metro','','False','','d_kp_',False,'','','','0','','','url("00001.cur")|','')
f[fc]=new sf(2,-1,-1,'-1',45,1,'',0,0,'|',0,0,0,'as258_484034777.png',0,1,192,702,314,120,2,11111.7,0.5,0.5,192,702,'','','','','',0,'',0,'False','','_kpinvis.gif','','next','','','','metro','','False','_apdts_','start_kp_',False,'','','','0','','','url("00001.cur")|','')
f[fc]=new sf(2,-1,-1,'-1',46,1,'',0,0,'|',0,0,0,'w8.png',0,1,157,549,226,110,2,1,0.5,0.5,157,549,'','','','','',0,'',0,'False','','','','','','','','','','False','','logo_kp_',False,'','','','0','','','','')
f[fc]=new sf(0,-1,-1,'-1',47,7,'feedback',0,0,'|','solid',1,'#000000','',6,7,40,150,460,608,2,1,0.5,1,40,150,'<P class=layer47>','Top','left','','',5,'#EDEDED',0,'False','','','','','','','','','','False','','userfeedbackarea_kp_',False,'','','','0','','','','')
f[fc]=new sf(0,-1,-1,'-1',48,7,'',0,0,'|',0,0,0,'as32750_642360807.gif',6,7,40,90,460,60,2,1,0.5,0.5,40,90,'','','','','',0,'',0,'False','','','','','','','','','','False','','header002_kp_',False,'','','','0','','','','')
f[fc]=new sf(0,-1,-1,'-1',49,7,'',0,0,'%%title%%|',0,0,0,'zqas15848_911652327.gif',6,7,160,97,440,88,2,1,0.5,0.5,160,97,'','middle','center','','',0,'',0,'False','','','','','','','','','','False','_apdts_','mainheading002_kp_',False,'','','','0','','','','')
f[fc]=new sf(0,1,-1,'-1',50,7,'',0,0,'|',0,0,0,'zqas7627_728035927.png',6,7,445,95,50,50,2,1,0.5,0.5,445,95,'','','','','',0,'',0,'False','','_kpinvis.gif','','hidegroup','','','userfeedback1','metro','','False','','closebutton003_kp_',False,'','','','0','','','url("00001.cur")|','')
f[fc]=new sf(2,-1,-1,'-1',51,0,'',0,0,'|',0,0,0,'zqas5417_901365519.png',0,0,204,320,133,213,1,1,0,0,204,320,'','','','','',0,'',0,'False','','','','','','','','','','False','_kpanim51','phone_kp_',False,'','','','0','','','','')
f[fc]=new sf(2,-1,-1,'-1',52,1,'',0,0,'|',0,0,0,'zqas21562_622489810.png',0,1,36,156,468,384,1,1,0,1,36,156,'','','','','',0,'',0,'False','','','','','','','','','','False','_kpanimsgbox','msgboxip_kp_',False,'','','','0','','','','')
f[fc]=new sf(2,-1,-1,'-1',53,1,'',0,13,'|',0,0,0,'as5267_608081222.png',0,1,194,452,152,56,2,11111.9,0.5,1,194,452,'','','','','',0,'',0,'False','','_kpinvis.gif','','hidegroup','','','MsgBox0','metro','','False','_kpanimsgbox2','ok_kp_OK',False,'','','','0','','','url("00001.cur")|','')
f[fc]=new sf(2,-1,-1,'-1',54,1,'',0,0,'|',0,0,0,'',0,1,60,184,419,253,1,1,1,1,60,184,'<P class=KPMessage>%%msg%%','middle','center','','',6,'',0,'False','','','','','','','','','','False','_kpanimsgbox2','kpmsg2_kp_',False,'','','','0','','','','')
f[fc]=new sf(2,-1,-1,'-1',56,1,'',0,0,'|',0,0,0,'zqas21562_622489810.png',0,1,36,156,468,384,1,1,0,1,36,156,'','','','','',0,'',0,'False','','','','','','','','','','False','_kpanimsgbox','msgboxip002_kp_',False,'','','','0','','','','')
f[fc]=new sf(2,-1,-1,'-1',57,1,'',0,13,'|',0,0,0,'as5267_608081222.png',0,1,112,452,152,56,2,11111.9,0.5,1,112,452,'','','','','',0,'',0,'False','','_kpinvis.gif','','hidegroup','','','MsgBoxCancel0','metro','','False','_kpanimsgbox2','ok002_kp_OK',False,'','','','0','','','url("00001.cur")|','')
f[fc]=new sf(2,-1,-1,'-1',58,1,'',0,0,'|',0,0,0,'',0,1,60,184,419,253,1,1,1,1,60,184,'<P class=KPMessage>%%msg%%','middle','center','','',6,'',0,'False','','','','','','','','','','False','_kpanimsgbox2','kpmsg2002_kp_',False,'','','','0','','','','')
f[fc]=new sf(2,-1,-1,'-1',59,1,'',0,13,'|',0,0,0,'as31069_281759978.png',0,1,276,452,152,56,2,11111.9,0.5,1,276,452,'','','','','',0,'',0,'False','','_kpinvis.gif','','hidegroup','','','MsgBoxCancel0','metro','','False','_kpanimsgbox2','cancel_kp_cancel',False,'','','','0','','','url("00001.cur")|','')
f[fc]=new sf(2,-1,-1,'-1',60,1,'',0,0,'|',0,0,0,'zqas1977_481317640.png',0,1,206,362,64,64,1,1,0.5,0.5,206,362,'','','','','',0,'',0,'False','','','','','','','','','','False','_kpanim60','kpsoundloader_kp_',False,'','','','0','','','','')
</SCRIPT>
<SCRIPT>
f[fc]=new sf(2,-1,-1,'-1',61,1,'',0,0,'|',0,0,0,'zqas1977_481317640.png',0,1,206,362,64,64,1,1,0.5,0.5,206,362,'','','','','',0,'',0,'False','','','','','','','','','','False','_kpanim61','ipadloader_kp_',False,'','','','0','','','','')
f[fc]=new sf(2,-1,-1,'-1',62,32700,'',0,0,'|',0,0,0,'_kpinvis.gif',0,9,0,0,1,1,1,1,1,1,0,0,'','','','','',0,'',0,'False','','','','','','','','','','False','p1','rectangle001_kp_',False,'','','','0','','','','')
f[fc]=new sf(2,-1,-1,'-1',63,1,'',0,0,'|',0,0,0,'zqas5298_168671013.png',0,1,-100,-100,23,23,1,1,1,1,-100,-100,'','','','','',0,'',0,'False','','','','','','','','','','False','','colortick_kp_',False,'','','','0','','','','')
f[fc]=new sf(0,-1,-1,-1,51,0,'',0,0,'|100',0,0,0,'zqas5417_901365519.png',0,0,204,320,133,213,1,1,0,0,0,0,'','','','true','',0,'',0,'','','','','','','','','','','','_kpanim51','','','','','','','')
</SCRIPT>
<SCRIPT>
for (j=0; j<f.length; j++){f[j].cfie=f[j].z2;if(tbro=='ie'){mdac=f[j].nohide;if(mdac=='r180xtoblank1'||mdac=='r180ytoblank1'||mdac=='r180xtoblank2'||mdac=='r180ytoblank2'||mdac=='r180xtoblank3'||mdac=='r180ytoblank3'||mdac=='r180xsa'||mdac=='r180yta'||mdac=='r180xs'||mdac=='r180yt'||mdac=='r180xsa'||mdac=='r180yta'||mdac=='r180xs'||mdac=='r180yt'||mdac=='r180xt'||mdac=='r180xy'){f[j].cfie=f[j].z2;if(f[j].moid!=-1){xmoid=f[j].moid.split('¿');xmoidd=xmoid[1];for (jj=0; jj<f.length; jj++){if(f[jj].oid==xmoidd){f[j].imagedown=f[jj].photo;break}}};f[j].hint='state',f[j].z2=0, f[j].nohide='', f[j].moid=''}}}
for (i=0; i<f.length; i++){if(f[i].theclass.indexOf('_image')>-1||f[i].dts==true){f[i].wwidth=f[i].wwidth/2,f[i].hheight=f[i].hheight/2,f[i].zwwidth=f[i].wwidth,f[i].zhheight=f[i].hheight}}
for (j=0; j<f.length; j++){if(f[j].ke=='freeform'){xx=f[j].objectname.indexOf('acob')
if(xx>-1){realname=f[j].objectname.substring(0,xx)
for (jj=0; jj<f.length; jj++){if(f[jj].objectname==realname){xhint=f[jj].hint;if(xhint!=''&&f[j].hint==''){f[j].hint=xhint};break}}}}}
var dxg=0, dxgt=0, tim=false
function sig(){dxgt=z8("sigs()",100)}
function sigs(){y1(dxgt);if(tim==true){return};dxg.className='listview2'}
if(isiphone==1||isitouch==1||ishoney){
var arImageSrc=new Array('_kpinvis.gif','zqas10451_496637106.png')
msg = "<DIV style='display:none;'>"
iloaded = ''
for (counter in arImageSrc) {limage = arImageSrc[counter]
if(limage.substring(0,2)=='zq'){limage=fur(limage,'zq','')
limage=fur(limage,'.gif','.png')}
if(iloaded.indexOf('|' + limage + '|')==-1){iloaded=iloaded + '|' + limage + '|'
msg=msg + "<IMG SRC='" + limage + "'>"}}
msg = msg + "</DIV>"
document.write (msg)}else{
var arImageSrc=new Array('_kpinvis.gif','zqas10451_496637106.png','_kpinvis.gif')}
for(i=0; i<f.length; i++){if(typeof(answercs)=='undefined'&&(f[i].upevent=='submitc'||f[i].downevent=='submitc'||f[i].overevent=='submitc'||f[i].dblevent=='submitc'||f[i].ke=='submitc')){f[i].timeon=0
f[i].timeoff=0}
if(typeof(answerds)=='undefined'&&(f[i].upevent=='submitd'||f[i].downevent=='submitd'||f[i].overevent=='submitd'||f[i].dblevent=='submitd'||f[i].ke=='submitd')){f[i].timeon=0
f[i].timeoff=0}
if(typeof(answeres)=='undefined'&&(f[i].upevent=='submite'||f[i].downevent=='submite'||f[i].overevent=='submite'||f[i].dblevent=='submite'||f[i].ke=='submite')){f[i].timeon=0
f[i].timeoff=0}
if(typeof(answerfs)=='undefined'&&(f[i].upevent=='submitf'||f[i].downevent=='submitf'||f[i].overevent=='submitf'||f[i].dblevent=='submitf'||f[i].ke=='submitf')){f[i].timeon=0
f[i].timeoff=0}}
var pauses=new Array(0,1,2,3,4,5,6,7,8)
var pausess=new Array(0,0,0,0,0,0,0,0,0)
editobjects()
for(i=0; i<pauses.length; i++){pauses[i]=pauses[i]*5}
duration = duration * 5
PreLoad=PreLoad*5
var theobs=new Array(0)
var theobsval=new Array(0)
var obsc=new Array(0)
var obsds=new Array(0)
var obsid=new Array(0)
var coi=0
LMSInitialzes=true
LMSIniitialzes=true
LMSInitialzes=true
function y3(theimage){if(f[theimage].qo!='Picture'&&f[theimage].qo!='Question'&&f[theimage].qo!='A'&&f[theimage].qo!='B'&&f[theimage].qo!='C'&&f[theimage].qo!='D'&&f[theimage].qo!='E'&&f[theimage].qo!='F'&&f[theimage].qo!='Sound'){f[theimage].timeon=0, f[theimage].timeoff=0, f[theimage].hatimeon=0, f[theimage].hatimeoff=0, f[theimage].mo_timeon=0, f[theimage].mo_timeoff=0, f[theimage].eventoff=0}}
function y3small(theimage){f[theimage].timeon=0, f[theimage].timeoff=0, f[theimage].mo_timeon=0, f[theimage].mo_timeoff=0, f[theimage].eventoff=0, f[theimage].mtl=1}
for(i=0; i<f.length; i++){f[i].xrotate=0
switch (f[i].oid){}}
for(i=0; i<f.length; i++){switch (f[i].oid){}}
for(i=0; i<f.length; i++){switch (f[i].oid){case 1: case 0:
f[i].og='navigationrectangles'
f[i].kis=true;break
case 40: case 11: case 10: case 9:
f[i].og='navigationbuttons'
f[i].kis=true;break
case 50: case 49: case 48: case 47:
f[i].og='userfeedback'
y3(i);break
case 17:
f[i].og='Option C'
f[i].kis=true;break
case 18:
f[i].og='Option D'
f[i].kis=true;break
case 19:
f[i].og='Question Number'
f[i].kis=true;break
case 54: case 53: case 52:
f[i].og='MsgBox'
y3(i);break
case 39: case 38: case 37: case 36: case 35: case 34:
f[i].og='CloseMessage'
y3(i);break
case 33: case 32: case 31: case 30: case 29:
f[i].og='MsgBoxQuiz'
y3(i);break
case 59: case 58: case 57: case 56:
f[i].og='MsgBoxCancel'
y3(i);break
case 63:
f[i].og='colorpicker'
f[i].kis=true;break}}
for(i=0; i<f.length; i++){switch (f[i].oid){case 18:;f[i].z1=800;var so18=0;break;
case 17:;f[i].z1=600;var so17=0;break;
case 16:;f[i].z1=400;var so16=0;break;
case 15:;f[i].z1=200;var so15=0;break;}}
if(issafari==false&&isiphone==0&&isitouch==0&&isblackberry==false){for(i=0; i<f.length; i++){switch (f[i].oid){case 18:;f[i].ma=3;f[i].z5=12;var ma18=0;break;
case 17:;f[i].ma=3;f[i].z5=12;var ma17=0;break;
case 16:;f[i].ma=3;f[i].z5=12;var ma16=0;break;
case 15:;f[i].ma=3;f[i].z5=12;var ma15=0;break;}}}
function clearmove(mi,tmi){tmi.style.left=f[mi].lleft
tmi.style.top=f[mi].ttop
for (jhj=0; jhj<currentobjects.length; jhj++){ifg=currentobjects[jhj]
if(typeof(ifg)=='undefined'||ifg==-1){break}
if(f[ifg].oid==f[mi].oid){moveotherobject=getObject('main'+ifg)
moveotherobject.style.left=f[ifg].lleft
moveotherobject.style.top=f[ifg].ttop}}
switch (f[mi].oid){case 18:;y2(ma18);ma18=0;break
case 17:;y2(ma17);ma17=0;break
case 16:;y2(ma16);ma16=0;break
case 15:;y2(ma15);ma15=0;break}}
function movevalue(mi){z4=false
switch (f[mi].oid){case 18:;if(ma18>0){z4=true};break
case 17:;if(ma17>0){z4=true};break
case 16:;if(ma16>0){z4=true};break
case 15:;if(ma15>0){z4=true};break}
return z4}
function setmove(mi){newmi=f[mi].oid
switch (newmi){case 18:;ma18=z9('moveob(' + mi + ')',50);break
case 17:;ma17=z9('moveob(' + mi + ')',50);break
case 16:;ma16=z9('moveob(' + mi + ')',50);break
case 15:;ma15=z9('moveob(' + mi + ')',50);break}}
function setmovedrop(thedobject){if(thedobject>f.length-2){return false}
if(f[thedobject].hasdrop==true){return getObject('main' + (thedobject+1))}else{return false}}
function moveob(thedobject){if(issafari==true||ischrome==true||isios==1||isandroid==true||ishoney==1){return}
if(f[thedobject].ma>0){moveobject=f[thedobject].object
if(movevalue(thedobject)==false&&moveobject.style.visibility=='visible'){return}
if(thepos==f[thedobject].timeon){if(movevalue(thedobject)==false){setmove (thedobject)
switch (f[thedobject].ma){case 3:
moveobject.style.left = cwidth
if(setmovedrop(thedobject)!=false){setmovedrop(thedobject).style.left=cwidth}
f[thedobject].maamount=-((cwidth)-f[thedobject].lleft)/f[thedobject].z5;break}}else{switch (f[thedobject].ma){case 3:
moveobject.style.left=parseInt(moveobject.style.left)+f[thedobject].maamount
if(setmovedrop(thedobject)!=false){setmovedrop(thedobject).style.left=parseInt(setmovedrop(thedobject).style.left)+f[thedobject].maamount}
if(parseInt(moveobject.style.left)<f[thedobject].lleft){clearmove (thedobject, moveobject)};break}}}else{clearmove (thedobject, moveobject)}}else{return}}
for(jk=0; jk<f.length;jk++){changeit=0
if(changeit==1){f[jk].og='',f[jk].text='',f[jk].photo='',f[jk].timeon=0,f[jk].timeoff=0,f[jk].wwidth=0,f[jk].hheight=0,f[jk].score=0,f[jk].ename=''
f[jk].onfil=1, f[jk].offfil=1, f[jk].onfiltime=0, f[jk].offfiltime=0, f[jk].zlleft=0,f[jk].zttop=0, f[jk].zwwidth=0, f[jk].zhheight=0
f[jk].timeout='', f[jk].timeouttime=0, f[jk].timeoutstring='', f[jk].timeoutscore=0, f[jk].timeoutmin=0, f[jk].ma=0, f[jk].z1=0, f[jk].z2=0, f[jk].fdelay=0}}
function cleardelays(){for(i=0; i<xx_so.length; i++){y1(xx_so[i]);xx_so[i]=0}
for(i=0; i<xx_ho.length; i++){y1(xx_ho[i]);xx_ho[i]=0}
for(i=0; i<xx_hoad.length; i++){y1(xx_hoad[i]);xx_hoad[i]=0}}
function ed2(){for(i=0; i<f.length; i++){switch (f[i].oid){}}}
function resetvars(){for(i=0; i<f.length; i++){if(f[i].ke!=''||f[i].overevent!=''||f[i].xevent!=''||f[i].upevent!=''||f[i].downevent!=''||f[i].dblevent!=''||f[i].ismarker){if(f[i].downevent=='dragtarget'||f[i].ismarker||f[i].score==True||(f[i].xevent=='truefalse'||f[i].downevent=='truefalse'||f[i].ke=='target'||f[i].overevent=='target'||f[i].upevent=='target'||f[i].downevent=='target'||f[i].dblevent=='target')){f[i].score=False}}else{if(f[i].ismarker==false){f[i].score=''}}
f[i].cs=''
f[i].incs=''
if(f[i].truefalsestate==true){f[i].truefalsestate=false
if(f[i].metro==1){xscaleliteral(i,1)}
try{object=getObject('mainiii' + i)
object.style.display='none'}catch(err){}}}}
resetvars()
var resultstype=1
allowpartial=0
var ots=0, uts=0
var toobjects=0
for(i=0; i<f.length; i++){if(f[i].score==True&&f[i].timeon!=this.timeoff){scoreobjects=scoreobjects+1,scoredobjects[scoreobjects]=i}
if(f[i].timeout!=''){toobjects=toobjects+1,tooobjects[toobjects]=i}}
var allresults = 0
function showResults(forlms){ots=0, uts=0, theoc=0
msg=''
for (j=0; j<questions.length; j++){if(q_result[j]!=''){if(forlms==0){msg = msg + '<B>Question:</B> ' + questions[(q_id[j]-1)] + '<BR>'}else{msg = msg + qids[q_id[j]-1] + '¥choice¥' + questions[(q_id[j]-1)] + '¥' + q_result[j] + '¥'}
correctanswer=''
totweight=0
if(getcorrect(q_id[j]-1,'A')==1){aworth=getweight(q_id[j]-1, 'A')
if(parseInt(aworth)>1||aworth=='0'){qscore=' (' + aworth + ' points)'}else{qscore=' (' + aworth + ' point)'}
totweight=totweight+parseInt(aworth)
correctanswer=correctanswer + ' |or| ' + getanswer(q_id[j]-1,'A') + qscore}
if(getcorrect(q_id[j]-1,'B')==1){aworth=getweight(q_id[j]-1, 'B')
if(parseInt(aworth)>1||aworth=='0'){qscore=' (' + aworth + ' points)'}else{qscore=' (' + aworth + ' point)'}
totweight=totweight+parseInt(aworth)
correctanswer=correctanswer + ' |or| ' + getanswer(q_id[j]-1,'B') + qscore}
if(getcorrect(q_id[j]-1,'C')==1){aworth=getweight(q_id[j]-1, 'C')
if(parseInt(aworth)>1||aworth=='0'){qscore=' (' + aworth + ' points)'}else{qscore=' (' + aworth + ' point)'}
totweight=totweight+parseInt(aworth)
correctanswer=correctanswer + ' |or| ' + getanswer(q_id[j]-1,'C') + qscore}
if(getcorrect(q_id[j]-1,'D')==1){aworth=getweight(q_id[j]-1, 'D')
if(parseInt(aworth)>1||aworth=='0'){qscore=' (' + aworth + ' points)'}else{qscore=' (' + aworth + ' point)'}
totweight=totweight+parseInt(aworth)
correctanswer=correctanswer + ' |or| ' + getanswer(q_id[j]-1,'D') + qscore}
if(getcorrect(q_id[j]-1,'E')==1){aworth=getweight(q_id[j]-1, 'E')
if(parseInt(aworth)>1||aworth=='0'){qscore=' (' + aworth + ' points)'}else{qscore=' (' + aworth + ' point)'}
totweight=totweight+parseInt(aworth)
correctanswer=correctanswer + ' |or| ' + getanswer(q_id[j]-1,'E') + qscore}
if(getcorrect(q_id[j]-1,'F')==1){aworth=getweight(q_id[j]-1, 'F')
if(parseInt(aworth)>1||aworth=='0'){qscore=' (' + aworth + ' points)'}else{qscore=' (' + aworth + ' point)'}
totweight=totweight+parseInt(aworth)
correctanswer=correctanswer + ' |or| ' + getanswer(q_id[j]-1,'F') + qscore}
correctanswer=correctanswer + '<BR>'
if(qtype[q_id[j]-1]=='single'){correctanswer = fur(correctanswer,'|or|','or')
if(correctanswer.substring(0,3)==' or'){correctanswer=correctanswer.substring(4,correctanswer.length)}}else{correctanswer = fur(correctanswer,'|or|','and')
if(correctanswer.substring(0,4)==' and'){correctanswer=correctanswer.substring(5,correctanswer.length)}}
if(forlms==0){if(resultstype!=2){msg = msg + '<B>Answer:</B> ' + correctanswer}}
if(j==0){latency=q_time[j]}else{latency=q_time[j]-q_time[j-1]}
if(qtype[q_id[j]-1]=='single'){aworth=getweight(q_id[j]-1, q_studentresponse[j])
if(parseInt(aworth)>1||aworth=='0'){qscore=' (' + aworth + ' points)'}else{qscore=' (' + aworth + ' point)'}
if(resultstype==2){qscore=''}
if(q_studentresponse[j]=='A'){studentanswer=getanswer(q_id[j]-1,'A') + qscore + '<BR>'}
if(q_studentresponse[j]=='B'){studentanswer=getanswer(q_id[j]-1,'B') + qscore + '<BR>'}
if(q_studentresponse[j]=='C'){studentanswer=getanswer(q_id[j]-1,'C') + qscore + '<BR>'}
if(q_studentresponse[j]=='D'){studentanswer=getanswer(q_id[j]-1,'D') + qscore + '<BR>'}
if(q_studentresponse[j]=='E'){studentanswer=getanswer(q_id[j]-1,'E') + qscore + '<BR>'}
if(q_studentresponse[j]=='F'){studentanswer=getanswer(q_id[j]-1,'F') + qscore + '<BR>'}}else{studentanswer=''
if(q_studentresponse[j].indexOf('A')!=-1){studentanswer=studentanswer + ' and' + getanswer(q_id[j]-1,'A')}
if(q_studentresponse[j].indexOf('B')!=-1){studentanswer=studentanswer + ' and' + getanswer(q_id[j]-1,'B')}
if(q_studentresponse[j].indexOf('C')!=-1){studentanswer=studentanswer + ' and' + getanswer(q_id[j]-1,'C')}
if(q_studentresponse[j].indexOf('D')!=-1){studentanswer=studentanswer + ' and' + getanswer(q_id[j]-1,'D')}
if(q_studentresponse[j].indexOf('E')!=-1){studentanswer=studentanswer + ' and' + getanswer(q_id[j]-1,'E')}
if(q_studentresponse[j].indexOf('F')!=-1){studentanswer=studentanswer + ' and' + getanswer(q_id[j]-1,'F')}
totweight=theqscore[j]
if(parseInt(totweight)>1||totweight==0){qscore=' (' + totweight + ' points)'}else{qscore=' (' + totweight + ' point)'}
studentanswer=studentanswer+qscore + '<BR>'
if(studentanswer.substring(0,4)==' and'){studentanswer=studentanswer.substring(4,studentanswer.length)}}
if(q_studentresponse[j]=='TO'){studentanswer='Timed Out<BR>'}
if(q_studentresponse[j]=='skipped'){studentanswer='Skipped This Question<BR>'}
if(forlms==0){if(resultstype==2){msg=msg+'<B>Student Answer:</B> '+studentanswer+'&nbsp;<BR>'}else{q_result[j]=fur(q_result[j],'wrong','wrong')
q_result[j]=fur(q_result[j],'correct','correct')
if(studentanswer=='Timed Out<BR>'||studentanswer=='Skipped This Question<BR>'){msg = msg + '<B>Result:</B> ' + q_result[j] + '. You ' + studentanswer + '&nbsp;<BR>'}else{msg = msg + '<B>Result:</B> ' + q_result[j] + '. You selected ' + studentanswer + '&nbsp;<BR>'}}}
if(forlms==1){msg = msg + getTime(q_time[j]) + '¥' + getTime(latency) + '¥1¥' + studentanswer + '¥' + correctanswer + '¥¥'}}}
return msg}
</SCRIPT>
<SCRIPT>
function compareNumbers(a,b){return a - b;}
for(i=0; i<f.length-1; i++){if(f[i].lleft==f[i+1].lleft-5000&&f[i].ttop==f[i+1].ttop-5000){if(f[i].bcolor==0&&f[i].photo==''){if(tbro=='ie'&&isopera==false){f[i].lleft=f[i+1].lleft, f[i].ttop=f[i+1].ttop}else{f[i].backcolor='transparent', f[i].lleft=-1, f[i].ttop=-1, f[i].wwidth=0, f[i].hheight=0, f[i].timeon=0, f[i].timeoff=0, f[i].loading=false, f[i].startup=false, f[i].og=''}}}}
var hideTO=0
function hidem(){t=getObject('eblocker')
t.style.visibility='hidden'
t.className=''
ebgroup='',mmoobject=-1
for(i=0; i<f.length; i++){if(f[i].madevisible){if(f[i].kis==true){f[i].timeon=f[i].hatimeon,f[i].timeoff=f[i].hatimeoff,f[i].mo_timeon=f[i].hatimeon,f[i].mo_timeoff=f[i].hatimeoff,f[i].eventoff=f[i].hatimeoff}else{f[i].timeon=64000,f[i].timeoff=64000,f[i].mo_timeon=64000,f[i].mo_timeoff=64000,f[i].eventoff=64000}
f[i].madevisible=false
hideobject (i)}
if(issafari==true||isiphone==1||isitouch==1){if(f[i].timeoff<=thepos||f[i].timeon>thepos){if(f[i].theclass!='null'&&f[i].theclass.substring(0,6)=='_kpani'){f[i].object.className=''}}}
if((thepos>=f[i].timeoff&&f[i].offflag=='')||(thepos<f[i].timeon&&f[i].onflag!='')){if(thepos>=duration&&f[i].timeoff>=duration){}else{if(tbro=='ie'&&isopera==false){if(i>-1){if(f[i].onfil==2&&canfilter){otoeval='main'+i
t = getObject(otoeval)
if(t.style.visibility=='visible'&&t.style.filter!=''&&t.style.filter.indexOf('BlendTrans')!=-1){t.filters.BlendTrans.stop();}}
if(f[i].onfil>2&&canfilter){otoeval='main'+i
t = getObject(otoeval)
if(t.style.visibility=='visible'&&t.style.filter!=''&&t.style.filter.indexOf('RevealTrans')!=-1){t.filters.RevealTrans.stop();}}}}
if(f[i].object.style.visibility=='visible'){hideobject (i)}
if(f[i].ma>0){clearmove (i, f[i].object)}
f[i].offflag='1',f[i].onflag='',f[i].timeon=f[i].mo_timeon,f[i].timeoff=f[i].mo_timeoff}
if((f[i].imageover!=''&&f[i].mouseover==1)||f[i].imagedown!=''){try{object=getObject('mainiii' + i)
object.style.display='none'}catch(err){}
if(f[i].metro==1){xscaleliteral(i,1)}
f[i].mouseover=0}
if(f[i].imageover!=''&&f[i].mos!=''){f[i].mouseover=0}}}}
var statob=-1, ddcnt=-1, ddcnti=0, ddtds=-1, tdtrf=-1, tdtrfi=0, tdtrt=-1, tdtrti=0, ddt=-1,ddtids=0,ddti=0,cst=-1,csti=0,tlt=-1,tlti=0,tltr=-1,tltri=0, tltrr=-1000, lessonendtext=''
var tltc=0, coverride=0
function fixascroll(tri){if(f[tri].object.style.visibility=='hidden'){return}
if(f[tri].object.scrollHeight>parseInt(f[tri].object.style.height)){f[tri].object.style.overflowY='auto'
f[tri].maxscroll=f[tri].object.scrollHeight-f[tri].hheight
f[tri].maxscrolly=f[tri].object.scrollWidth-f[tri].wwidth
f[tri].hasevent=true
f[tri].autoscroll=true}}
function uds(){tive=''
for (jkk=0; jkk<scoredobjects.length; jkk++){ipo=scoredobjects[jkk]
if(typeof ipo!='undefined'){if(f[ipo].timeon<=thepos&&f[ipo].timeoff>thepos){if(f[ipo].ename!=''){tive=f[ipo].ename;break}}}}
if(tive==''){return}
thobnum=-1
for(h=0; h<theobs.length; h++){if(theobs[h]==tive){thobnum=h;break}}
for(ii=0; ii<currentobjects.length; ii++){iii=currentobjects[ii]
if(typeof iii!='undefined'){if(f[iii].timeout!=''){if(f[iii].timeoutscore>0){date_now=new Date();
newtimeleft=date_now.getTime();
rt2=(((newtimeleft-pausetime)))
ttt=f[iii].timeouttime
if(f[iii].timeoutscore==2){ttt=ttt-5000}
if(f[iii].timeoutscore==3){ttt=ttt-10000}
if(f[iii].timeoutscore==4){ttt=ttt-2000}
rt = ((f[iii].timeouttime - rt2)/ttt)
rt=parseInt(rt*100)
rt=rt/100
if(rt>1){rt=1}
if(rt<0){rt=0}
minlevel=f[iii].timeoutmin/100
if(rt<minlevel){rt=minlevel}
obsds[thobnum]=rt}}}}}
var remainingtime2=0
function trem(){if(usertimer>0){date_now=new Date();
newtimeleft=date_now.getTime ();
remainingtime=parseInt((usetime - (newtimeleft-timeleft))/1000)
if(remainingtime*1000>usetime){remainingtime=usetime/1000}
remainingtime2 = remainingtime
remainingtime = getTimeString(remainingtime)
return remainingtime}}
var remainingtime=0
var remtext='',remtext2=''
function tremm(j){}
function treml(j){}
function tremc(j){}
function drem(j){}
function dcnt(j){}
var cds=0
function dremds(j){}
function tremb(j){}
function trema(j){}
function rts2(rt){return rt}
function rts(rt){return rt}
function fixstat(x){ppos=thepos+5
fsb=-1
try{}catch(err){}
f[x].object.style.overflow='hidden',f[x].object.style.overflowX='hidden',f[x].object.style.overflowY='hidden',f[x].autoscroll=false}
function writepercent(i){if(i==-1){return}
if(f[i].ke=='freeform'){return}
ppos=thepos
for(ik=0; ik<pauses.length; ik++){if(thepos>=pauses[ik]&&pausess[ik]==0){if(ik>pauses.length-2){ppos=duration}else{ppos=pauses[ik+1]}}}
newtext=f[i].text
if(f[i].ke=='freeform'){if(f[i].timeon<thepos||i!=currentfreeform){newtext=newtext.substring(0,newtext.length-1) + f[i].entrytext}else{thei=(f[i].cursorinfo*1.5)
if(thei>(f[i].hheight-6)){thei=(f[i].hheight-6)}
if(f[i].feedback){thei=16}
newtext=newtext.substring(0,newtext.length-1) + f[i].entrytext + '<IMG SRC="_kpfc.gif" hspace=2 align=absmiddle height=' + thei + ' width=1>'}}
newtext=newtext.replace('%%question%%',getquizquestion())
if(alldone){}else{}
newtext = newtext.replace('%%totalscore%%',totalquizquestions)
newtext = newtext.replace('%%msg%%',showmessage)
if(totalscore==0||score==0){newtext = newtext.replace('%%scoreaspercent%%','0%')}else{realscore=score/possiblescore
realscore=parseInt(realscore*100)
newtext = newtext.replace('%%scoreaspercent%%',realscore + '%')}
if(newtext.indexOf('%%results%%')>-1){newtext = newtext.replace('%%results%%',showResults(0))}
newtext = newtext.replace('%%msg%%',showmessage)
if(newtext.indexOf('%%status%%')!=-1){astatus=scostatus
if(astatus=='completed'){thescore=(score/totalquizquestions)*100
thescore=parseInt(thescore)
if(typeof ms=='undefined'){ms='80'}
if(ms==''){ms='80'}
if(totalscore==0){}else{if(thescore>=parseInt(ms)){astatus = 'passed'}else{astatus = 'failed'}
if(score==0){astatus='failed'}}}
astatus=fur(astatus,'completed','completed')
astatus=fur(astatus,'incomplete','incomplete')
astatus=fur(astatus,'passed','passed')
astatus=fur(astatus,'failed','failed')
newtext=newtext.replace('%%status%%',astatus)}
td = new Date();
df=td.toLocaleString();
df=df.split(' ');
if(newtext.indexOf('%%')>-1&&launch_data!=''){ldata=launch_data.split('|')
for(k=0; k<ldata.length; k=k+2){newtext=newtext.replace('%%' + ldata[k] + '%%',ldata[k+1])}}
bc = ''
if(f[i].backcolor!=''){bc=' bgcolor='+f[i].backcolor}
if(f[i].backcolor=='transparent'){bc=''}
if(tbro=='ie'){bt = '<TABLE WIDTH=100% height=' + (f[i].hheight-(f[i].bwidth*2)) + ' ' + bc + ' cellspacing=0 cellpadding=' + f[i].margin + '><TD valign=' + f[i].valign + ' align=' + f[i].halign + '>'+newtext+'</td></table>'}else{bt = f[i].rtext.replace('¬¬¬',newtext)}
if(f[i].instruct=='true'){tbs=fur(tbs,'HEIGHT=100%','height='+f[i].hheight)
bt=tbs+bt+tbe}
object=getObject('main'+i)
if(f[i].percenttext==bt){return}
f[i].percenttext=bt
if(f[i].status==0){object.innerHTML = bt}
if(f[i].object.scrollHeight>parseInt(f[i].object.style.height)){fk=z8("fixascroll(" + i + ")",100)}
if(f[i].object.scrollWidth>parseInt(f[i].object.style.width)){f[i].object.style.overflowX='auto'}}
function writequizresult(i){if(f[i].startup=='true'){return}
if(thepos<f[i].timeon||thepos>=f[i].timeoff){return}
newtext = f[i].text.replace('%%score%%',score)
newtext = newtext.replace('%%question%%',getquizquestion())
if(alldone){newtext = newtext.replace('%%questionsdone%%',getquizquestion())}else{newtext = newtext.replace('%%questionsdone%%',getquizquestion()-1)}
if(totalscore==0||score==0){newtext = newtext.replace('%%scoreaspercent%%','0%')}else{realscore=score/possiblescore,realscore=parseInt(realscore*100)
newtext = newtext.replace('%%scoreaspercent%%',realscore + '%')}
newtext = newtext.replace('%%total%%',totalquizquestions)
newtext = newtext.replace('%%totalscore%%',totalquizquestions)
bc = ''
if(f[i].backcolor!=''){bc=' bgcolor='+f[i].backcolor}
if(f[i].backcolor=='transparent'){bc=''}
bt = '<TABLE WIDTH=100% height=' + (f[i].hheight-(f[i].bwidth*2)) + ' ' + bc + ' cellspacing=0 cellpadding=' + f[i].margin + '><TD valign=' + f[i].valign + ' align=' + f[i].halign + '>'+newtext+'</td></table>'
if(f[i].instruct=='true'){tbs=fur(tbs,'HEIGHT=100%','height='+f[i].hheight)
bt=tbs+bt+tbe}
object=getObject('main'+i)
object.innerHTML = bt}
var alertshowing=-1
var oldpos=0
function processTimeoutEvent(event,t,fromtimeout,tnum){tto=f[t].object
processit=true
if(tto.style.visibility=='hidden'){processit=false}
y1(f[t].tops);f[t].tops=0;f[t].tag=''
if(processit==false){return}
if(alertshowing==-2){return}
if(alertshowing>-1){alerttime=f[t].timeouttime-f[alertshowing].timeouttime
f[t].tops=z8('processTimeoutEvent(\''+f[t].timeout+'\','+t+',true,1)',alerttime)
return}
if(f[t].timeoutstring!=''&&f[t].timeout!='submitobjective'){alertshowing=t
if(f[t].timeout=='comment'){customalert (f[t].timeoutstring, t,'hidegroup')}else{customalert (f[t].timeoutstring, t, f[t].timeout)}
alertshowing=-1
window.focus()}
if(f[t].timeout!='comment'){if(f[t].timeout.substring(0,9)=='hidegroup'){grouptohide=f[t].timeout.substring(9,f[t].timeout.length)
hidegroup(grouptohide)}else{if(f[t].timeout.substring(0,9)=='showgroup'){grouptoshow=f[t].timeout.substring(9,f[t].timeout.length)
showgroup(grouptoshow,-1)}else{if(f[t].timeoutstring==''){processEvent(f[t].timeout,t,2)}}}}}
function closeit(){if(isios==1&&APIOK()){processEvent('closelms',-1,false)}else{try{window.close()}catch(err){}
try{parent.window.close()}catch(err){}}}
var tot=0, tot2=0,tov=-1, tovv=0, tovt=0, tov2=-1, tovv2=0, tovt2=0, sam=0,exclusivegroup=true, randomizing=false
var x_so=new Array(18,17,16,15)
var xx_so=new Array('so18','so17','so16','so15')
var x_ho=new Array(0)
var xx_ho=new Array(0)
var x_hoad=new Array(0)
var xx_hoad=new Array(0)
function checkposition(){y1(ttns)
y2(scroller)
y1(qtshower)
qtshower = 0, exclusivegroup=false
showfromobject=-1
try{hideobject(-1)}catch(err){}
tov=-1
y2(tovt)
tovt=0, tov2=-1
y2(tovt2)
tovt2=0,iscorrectanswer=false
if(usetimer==true&&thepos>-1){clearquiztimers()}
showgroup1='',showgroup2=-1
currentobjects = new Array(f.length)
aic=0
var date_now=new Date();time_now=date_now.getTime();
thepos=(time_now - startTime)/1000;
cmisD = new Date();
cmiet = cmisD.getTime() - cmistarttime
cmiet=cmiet/1000
if(maxtime>0&&cmiet>maxtime){if(maxaction=='exit,message'){runalert ('You have exceeded the maximum time in this Lesson/App, as determined by the Learning Management System. This Lesson/App will now close.')
closeit()}
if(maxaction=='exit,no message'){closeit()}
if(maxaction=='continue,message'){runalert ('You have exceeded the maximum time in this Lesson/App, as determined by the Learning Management System.')}}
if(buffering==false){for(i=0; i<pauses.length; i++){if(thepos>=pauses[i]&&pausess[i]==0){if(typeof usepause!='undefined'){if(usepause[i]==0){do{i=i+1}
while (usepause[i]==0)}}
if(i==pauses.length-1){tempstartDate = new Date();
RealEndTime = tempstartDate.getTime() - RealStartTime
scostatus='completed'}
pausestart = new Date();
pausetime = pausestart.getTime();
thepos=pauses[i]
if(typeof loadnextfile!='undefined'){y2 (loadnextfile)
loadnextfile=0}}}
checkthepos=thepos
if(checkthepos>=duration){checkthepos=thepos-0.01,thepos=duration-0.01,checkthepos=thepos,scostatus='completed'}
if(scoredobjects.length>0&&totalscore>0){hasf=true;for(k=0;k<scoredobjects.length;k++){j=scoredobjects[k];if(f[j].timeoff>thepos){hasf=false;break}};if(hasf&&(scostatus=='not attempted'||scostatus=='incomplete')){scostatus='completed'}}
var saot=false
for (jxc=0;jxc<f.length;jxc++){if((f[jxc].synch==1||f[jxc].vsynch==1)&&f[jxc].timeon==thepos){saot=true;f[jxc].z1=0;break}}
if(thepos<duration){if(processcheckpos==false){cleardelays()}
for(i=0; i<f.length; i++){f[i].lct=0;f[i].dct=0;f[i].tmdt=0,f[i].tmup=0
if(f[i].photo==''){f[i].maxscroll=f[i].object.scrollHeight-f[i].hheight,f[i].maxscrolly=f[i].object.scrollWidth-f[i].wwidth
if(f[i].maxscroll>1||f[i].maxscrolly>1){f[i].hasevent=true}}
if(f[i].timeon<=checkthepos&&f[i].timeoff>checkthepos){f[i].offflag=''}
if((f[i].z1>0||f[i].fdelay>0)&&checkthepos==f[i].timeon){if(processcheckpos==false){if(saot==false&&checkthepos<f[i].timeoff&&checkthepos>=f[i].timeon){for(ix=0; ix<x_so.length; ix++){if(f[i].oid==x_so[ix]&&xx_so[ix]==0){xx_so[ix]=z8('z6('+i+')',f[i].z1);break}}
for(ix=0; ix<x_ho.length; ix++){if(f[i].oid==x_ho[ix]&&xx_ho[ix]==0&&f[i].z2>0){xx_ho[ix]=z8('z3('+i+')',f[i].z1+f[i].z2);break}}
for(ix=0; ix<x_hoad.length; ix++){if(f[i].oid==x_hoad[ix]){f[i].fcount=0
if(f[i].z1==0&&xx_hoad[ix]==0){showobject(i)
xx_hoad[ix]=z9('hideshow('+i+')',f[i].fdelay);break}}}}}}else{if(checkthepos<f[i].timeoff&&checkthepos>=f[i].timeon){if(insertobject>-1&&f[i].ke=='tiny'){}else{currentobjects[aic]=i,aic++
if(f[i].object.style.visibility=='hidden'&&f[i].timeon!=f[i].timeoff&&f[i].timeoff!=-1){if(f[i].hfk==false){showobject (i)}}
if(f[i].timeon!=f[i].timeoff&&f[i].timeoff!=-1){if(f[i].z2>0){if(processcheckpos==false){if(saot==false&&checkthepos<f[i].timeoff&&checkthepos>=f[i].timeon){for(ix=0; ix<x_so.length; ix++){if(f[i].oid==x_so[ix]&&xx_so[ix]==0){xx_so[ix]=z8('z6('+i+')',f[i].z1);break}}
for(ix=0; ix<x_ho.length; ix++){if(f[i].oid==x_ho[ix]&&xx_ho[ix]==0&&f[i].z2>0){xx_ho[ix]=z8('z3('+i+')',f[i].z1+f[i].z2);break}}
for(ix=0; ix<x_hoad.length; ix++){if(f[i].oid==x_hoad[ix]){f[i].fcount=0
if(f[i].z1==0&&xx_hoad[ix]==0){showobject(i)
xx_hoad[ix]=z9('hideshow('+i+')',f[i].fdelay);break}}}}}}}
if(processcheckpos==false){processit=false
if(f[i].timeon>=oldpos&&f[i].timeoff<oldpos){processit=true}
if(f[i].timeon==checkthepos&&f[i].timeoff==checkthepos+5){processit=true}
if(f[i].timeon==checkthepos&&processit){if(pausetime>0&&f[i].timeout!=''&&thepos<=f[i].eventoff&&f[i].timeon==checkthepos){y1(f[i].tops);f[i].tops=0
f[i].tag='',f[i].tops=z8('processTimeoutEvent(\'' + f[i].timeout + '\',' + i + ',true,1)',f[i].timeouttime)}}}
if(f[i].percent==true){writepercent(i)}}}}}
if(insertobject>-1){currentobjects[aic] = insertobject
aic++}
currentobjects.length=aic}
setfreeform()
hidem()
for(i=0; i<pauses.length; i++){if(thepos>=pauses[i]&&pausess[i]==0){pausess[i]=1}}
ntx=z8('setfreeform()',100)
if(omdp!=-1){if(f[omdp].object.style.visibility=='hidden'){stopsound()}}
for (jll=0; jll<currentobjects.length; jll++){j=currentobjects[jll]
if(f[j].hascevent){canvas = document.getElementById('mainc' + j);
ctx = canvas.getContext('2d');
ctxcolor=f[j].ke;ctxwidth=f[j].mod;
if(f[j].tag3=='1'){ctxeraser=true}else{ctxeraser=false};break}}
for (jll=0; jll<currentobjects.length; jll++){jpx=currentobjects[jll]
if(f[jpx].objectname=='drawwidth'){ctxw=ctxwidth
if(ctxw>f[jpx].hheight-8){ctxw=f[jpx].hheight-8}
f[jpx].object.innerHTML='<IMG border=0 width="' + f[jpx].wwidth + '" height="' + f[jpx].hheight + '" SRC="' + f[jpx].photo + '"><TABLE style="position:absolute;top:0px;left:0px;border-style:solid;border-color:black;border-width:1px;" cellspacing=0 cellpadding=0 WIDTH=100% height=100%><TD align=center valign=middle><TABLE WIDTH=80% height="' + ctxw + '" cellspacing=0 cellpadding=0><TD bgcolor="white"><IMG SRC="_kpinvis.gif" width=1 height=1></TD></TABLE></TD></TABLE>';break}}
for (jll=0; jll<currentobjects.length; jll++){jpx=currentobjects[jll]
if(f[jpx].objectname=='drawwidthcolor'){ctxw=ctxwidth
if(ctxw>f[jpx].hheight-8){ctxw=f[jpx].hheight-8}
f[jpx].object.innerHTML='<IMG border=0 width="' + f[jpx].wwidth + '" height="' + f[jpx].hheight + '" SRC="' + f[jpx].photo + '"><TABLE style="position:absolute;top:0px;left:0px;border-style:solid;border-color:black;border-width:1px;" cellspacing=0 cellpadding=0 WIDTH=100% height=100%><TD align=center valign=middle><TABLE WIDTH=80% height="' + ctxw + '" cellspacing=0 cellpadding=0><TD bgcolor="' + ctxcolor + '"><IMG SRC="_kpinvis.gif" width=1 height=1></TD></TABLE></TD></TABLE>';break}}
y1('suc')
suc=z8('getcont()',100)
stepchangex((thepos / 5)+1)
stepchangex2((thepos / 5)+1)
sipw()
ocw()}
if((thepos==0||thepos==gotime)&&(isios==1||isandroid)){}else{for (jxx=0; jxx<currentobjects.length; jxx++){ixcf=currentobjects[jxx]
if(f[ixcf].object.innerHTML.toLowerCase().indexOf('</audio>')>-1&&f[ixcf].autostart==1&&f[ixcf].z1==0&&f[ixcf].timeon==thepos){if(f[ixcf].playing==0){try{document.getElementById(f[ixcf].objectname).currentTime=0}catch(err){}
y2(f[ixcf].playcounter);obname=f[ixcf].objectname;document.getElementById(obname).play()
try{document.getElementById(f[ixcf].objectname).currentTime=0}catch(err){}
document.getElementById(obname+'_ab').src=obname+'_ab.png'
f[ixcf].playing=1;f[ixcf].playcounter=z9("txsound('" + obname + "')", 20);break}}
if(f[ixcf].object.innerHTML.toLowerCase().indexOf('</video>')>-1&&f[ixcf].vautostart==1&&f[ixcf].z1==0&&f[ixcf].timeon==thepos){if(f[ixcf].playing==0){try{document.getElementById(f[ixcf].objectname).currentTime=0}catch(err){}
y2(f[ixcf].playcounter);obname=f[ixcf].objectname;document.getElementById(obname).play()
try{document.getElementById(f[ixcf].objectname).currentTime=0}catch(err){}
f[ixcf].playing=1;f[ixcf].playcounter=z9("txsound('" + obname + "')", 20);break}}}}
if(isandroid){clearandroidtimer()
androidsteptimer2=true
androidsteptimer=z8('clearandroidtimer()',500)}
stayhere=false
for(ias=0; ias<f.length; ias++){if(f[ias].timeon==thepos&&(f[ias].downevent=='submittoremotelms'||f[ias].upevent=='submittoremotelms')){if(APIOK()){stayhere=true;break}}}
if(stayhere){gotonext();gotime=-1}}
var androidsteptimer=0, androidsteptimer2=false
function clearandroidtimer(){y1(androidsteptimer)
androidsteptimer=0
androidsteptimer2=false}
function closetimer(ct){}
function cleartimers(){}
function getusername(){if(username==''){username=(getArg('username'))}
if(username.indexOf(',')>-1){uname = username.split(',')
username=uname[1] + ' ' + uname[0]
if(uname[1]=='User'||uname[1]==' User'){username=uname[0]}}
return username}
</SCRIPT>
<SCRIPT>
function getuserid(){if(userid==''){userid=(getArg('userid'))}
return userid}
function returnquizscore(){cqv=-1, tcqv=0
for(ikq=0; ikq<questions.length; ikq++){tempcqv=thetopweight(ikq)
tcqv=parseInt(tcqv)+parseInt(tempcqv)
if(tempcqv!=cqv){if(cqv==-1){cqv=tempcqv}else{cqv=-1
if(totalquizquestions!=questions.length){break}}}}
realtotalscore=-1
if(totalquizquestions==questions.length){realtotalscore=tcqv}else{if(cqv!=-1){realtotalscore=totalquizquestions * cqv}}
return realtotalscore}
function SaveData(){qtscore = 0
for(ikq=0; ikq<questions.length; ikq++){qtscore=qtscore + new Number(getparam(answeras[ikq],1))
qtscore=qtscore + new Number(getparam(answerbs[ikq],1))
if(typeof answercs!='undefined'){qtscore=qtscore + new Number(getparam(answercs[ikq],1))}
if(typeof answerds!='undefined'){qtscore=qtscore + new Number(getparam(answerds[ikq],1))}
if(typeof answeres!='undefined'){qtscore=qtscore + new Number(getparam(answeres[ikq],1))}
if(typeof answerfs!='undefined'){qtscore=qtscore + new Number(getparam(answerfs[ikq],1))}}
if(qtscore==0){return}
if((APIOK())&&(bFinishDone==false)){totalscore=possiblescore
checkthescore=returnquizscore()
if(checkthescore!=-1){totalscore=checkthescore}
if(totalscore==0){totalscore=1}
oldstatus=scostatus
scostatus = 'completed'
if(typeof ms=='undefined'){ms='80'}
if(ms==''){ms='80'}
if(totalscore>0&&oldstatus=='incomplete'){for(ik=0; ik<obsc.length;ik++){obsc[ik]=0}
for(ik=0; ik<theobs.length;ik++){for(jk=0; jk<scoredobjects.length;jk++){iii=scoredobjects[jk]
if(f[iii].ename==theobs[ik]&&f[iii].score==True&&obsc[ik]==0){if(f[iii].result!=''&&f[iii].result!='neutral'){obsc[ik]=1;break}}}}
stcomplete = true
for(ik=0; ik<obsc.length;ik++){if(obsc[ik]==0){stcomplete=false;break}}
if(stcomplete==true){oldstatus='complete'}}
if(totalscore>0){if((score/totalscore)*100>=parseInt(ms)){scostatus='passed'}else{scostatus='failed'}
if(oldstatus=='incomplete'){scostatus='failed'}
if(quizquestion<totalquizquestions){scostatus='failed'}}}}
var hinttext=''
function resetflash(aflobject){aro=getObject('main'+aflobject)
aro.innerHTML=''
if(parseInt(aro.style.left)<0&&f[aflobject].lleft>0){aro.style.left=f[aflobject].lleft}}
var anewone=0
function fixFlash(flobject,onoff){if(f[flobject].photo!=''){if(f[flobject].photo.substring(0,6)=='kpani_'&&onoff==1){object=getObject('maini' + flobject)
if(tbro!='ie'){object.src='_kpinvis.gif'}
object.src=f[flobject].photo}}
if(f[flobject].ftext!=''){ro=getObject('main'+flobject)
if(navp=='Mac'&&tbro=='ie'){ro=getObject('mainp'+flobject)}
if(onoff==1){filltext=f[flobject].ftext}else{filltext=''}
if(tbro=='nn'){}else{if(filltext!=''){if(ro.innerHTML==''){if(tbro!='ie'&&f[flobject].wwidth>2&&f[flobject].hheight>2){ro.style.left=-f[flobject].wwidth*2
fred=z8('fixleft(' + flobject + ')',400)}
LoadSWF(ro, filltext)}}else{y2(anewone)
anewone = 0
if(location.protocol=='file:'){resetflash(flobject)}else{if(ro.innerHTML!=''){resetflash(flobject)}}}}}}
function fixvis(theobfc){if(isdesktop){thefob=getObject('main' + theobfc)
thefob.innerHTML = ''
if(parseInt(aro.style.left)<0&&f[theobfc].lleft>0){aro.style.left=f[theobfc].lleft}}}
function fixleft(theobfc){thefob=getObject('main' + theobfc)
thefob.style.left=f[theobfc].lleft}
function z6(thedobject){if(f[thedobject].timeon==thepos){currentobjects.length = currentobjects.length + 1
currentobjects[currentobjects.length-1] = thedobject
showobject (thedobject)
if(currentfreeform==-1){setfreeform()}
if(f[thedobject].percent==true){writepercent (thedobject)}
for (igh=0; igh<f.length; igh++){if(f[igh].oid==f[thedobject].oid&&thedobject!=igh){currentobjects.length = currentobjects.length + 1
currentobjects[currentobjects.length-1] = igh
showobject (igh)
if(f[igh].percent==true){writepercent (igh)}}}}}
var sendit=false
var qtshow = false, qtshower=0
function showqt(a,b,c){if(qtshower==0){return}
qtshow=true
showIt(a,b,c)
qtshow=false}
function sopac(tob){ftime=f[tob].onfiltime; fframes=1 * ftime
if(zratio<=1){fint=(100 / (fframes*15))/100}else{fint=(100 / (fframes*8))/100}
if(f[tob].zwwidth*f[tob].zhheight<90000){fint=fint/2}
if(f[tob].zwwidth*f[tob].zhheight<60000){fint=fint/2}
otoeval = 'main' + tob
t = getObject(otoeval)
sopcset = t.style.MozOpacity
if(sopcset==''){sopcset = fint}else{sopcset=new Number(sopcset) + new Number(fint)}
if(sopcset>f[tob].tval||t.style.visibility=='hidden'){t.style.MozOpacity = f[tob].tval
y2 (f[tob].trans)
f[tob].trans = 0
return}
t.style.MozOpacity = sopcset}
function showIt(i,oflt,ofltime){if(i>-1){if(f[i].ke=='submitc'||f[i].overevent=='submitc'||f[i].upevent=='submitc'||f[i].downevent=='submitc'||f[i].dblevent=='submitc'){if(getanswer(questionnumber,'C')==''){temphs(1,i)
return}}
if(f[i].ke=='submitd'||f[i].overevent=='submitd'||f[i].upevent=='submitd'||f[i].downevent=='submitd'||f[i].dblevent=='submitd'){if(getanswer(questionnumber,'D')==''){temphs(1,i)
return}}
if(f[i].ke=='submite'||f[i].overevent=='submite'||f[i].upevent=='submite'||f[i].downevent=='submite'||f[i].dblevent=='submite'){if(getanswer(questionnumber,'E')==''){temphs(1,i)
return}}
if(f[i].ke=='submitf'||f[i].overevent=='submitf'||f[i].upevent=='submitf'||f[i].downevent=='submitf'||f[i].dblevent=='submitf'){if(getanswer(questionnumber,'F')==''){temphs(1,i)
return}}}
if(i==-1){otoeval = 'thestatus'}else{showto=1
if(showto==0){return}
if(oflt==0){oflt=1}
if(f[i].imagedown!=''){try{object=getObject('mainiii' + i)
object.style.display='none'}catch(err){}
if(f[i].metro==1){xscaleliteral(i,1)}}
if(f[i].loaded==false&&thepos>0&&f[i].photo!=''){loadanImage(i)}
otoeval = 'main'+i
fixFlash (i,1)
if(oivx(f[i].objectname)==false){return}
oivxx(i)
if(isie10&&f[i].tval<1){f[i].object.style.opacity=1-f[i].tval}
moveob(i)
if(f[i].xevent=='setcomplete'||f[i].ke=='setcomplete'||f[i].overevent=='setcomplete'||f[i].upevent=='setcomplete'||f[i].downevent=='setcomplete'||f[i].dblevent=='setcomplete'){stlmssc()}}
t=f[i].object
if((tbro=='ie'||tbro=='ienn')&&issafari==false){if(i>-1){if(tbro=='ienn'&&oflt>1){if(t.style.visibility=='hidden'){tranint = parseInt((ofltime * 1000) / 20)
f[i].trans=z9("sopac(" + i + ")",tranint)
t.style.MozOpacity='0'
t.style.visibility = 'visible'
f[i].onflag = '1'
oivxx(i)
return}}}
if(oflt==1||tbro=='ienn'||isopera){if(tbro=='ie'&&isopera==false&&canfilter){if(t.style.visibility=='visible'&&t.style.filter.indexOf('BlendTrans')>-1){t.filters.BlendTrans.stop()}
if(t.style.visibility=='visible'&&t.style.filter.indexOf('RevealTrans')>-1){t.filters.RevealTrans.stop()}}
t.style.visibility = 'visible'
oivxx(i)
if(i>-1){f[i].onflag = '1'}}else{if(tbro=='ie'&&isopera==false){doit=true
if(i>-1){if(f[i].onflag=='1'&&f[i].offflag!='1'){doit=false}}
if(doit){if(f[i].text==''||(f[i].text!=''&&f[i].ftext==''&&f[i].backcolor!='transparent')){opacval='99.9';if(t.className.indexOf('opac')>-1){opacval=fur(t.className,'opac','');opacval=fur(opacval,'res','')}
if(canfilter){t.style.filter='BlendTrans(duration=' + ofltime + ') alpha(opacity=' + opacval + ')'};}else{opacval='100';if(t.className.indexOf('opac')>-1){opacval=fur(t.className,'opac','');opacval=fur(opacval,'res','')}
if(canfilter){t.style.filter='BlendTrans(duration=' + ofltime + ')'};}
if(opacval=='100'){if(canfilter){t.style.filter='BlendTrans(duration=' + ofltime + ', transition=' + ((oflt)-3) + ')'};}
if(isie8){opacval='100';if(t.className.indexOf('opac')>-1){opacval=fur(t.className,'opac','');opacval=fur(opacval,'res','')}
if(screen.deviceXDPI!=screen.systemXDPI||opacval=='100'){if(canfilter){t.style.filter='BlendTrans(duration=' + ofltime + ', transition=' + ((oflt)-3) + ')'};}}
if(canfilter){t.filters.BlendTrans.apply();
t.style.visibility='visible';
oivxx(i)}
if(canfilter){t.filters.BlendTrans.play();}}}
if(i>-1){f[i].onflag = '1'}}}else{if(i>-1){if(f[i].photo!=''&&f[i].iclass!=''){fxx=getObject('maini' + i)
if(f[i].iclass!='null'&&(fxx.className==''||fxx.className=='null'||fxx.className==null)){fxx.className=f[i].iclass}}}
if(f[i].theclass!='null'&&(t.className==''||t.className=='null'||t.className==null)){t.className=f[i].theclass}
iiv=false
if(i>-1){if(f[i].iclass!=''){fred=z8('showitx(' + i + ')',50)
iiv=true}}
if(iiv==false){t.style.visibility = 'visible'
oivxx(i)}
t.style.opacity=f[i].tval
if(i>-1){f[i].onflag = '1'}}}
function showitx(h){f[h].object.style.visibility='visible'
oivxx(h)}
function hideIt(i,oflt,ofltime){if(i==-1){otoeval = 'thestatus'}else{otoeval = 'main'+i
fixFlash (i,0)
if(f[i].text.indexOf('%msg%')>-1){resetflash (i)
f[i].percenttext=''}}
if(i==omdp){stopsound()}
if(i>-1){if(f[i].text.indexOf('<audio')>0){try{document.getElementById(f[i].objectname).currentTime=0}catch(err){}}}
if(i>-1){t=f[i].object}else{t=getObject(otoeval)}
if(t.innerHTML.indexOf('ips.htm')>0){t.style.top=1000}
if(i>-1){if(oihx(f[i].objectname)==false){return}}
if(i>-1){oihxx(i)}
if(t.style.visibility=='hidden'){return}
if((tbro=='ie'||tbro=='ienn')&&issafari==false){if(i>-1){if(thepos>f[i].timeoff + ofltime&&f[i].offflag != '1'&&(f[i].mo_timeon!=0||f[i].mo_timeoff!=0)){t.style.visibility='hidden',t.style.visibility='hidden',t.className=''
if(i>-1){f[i].offflag = '1'}
return}}
if(oflt>2&&tbro=='ie'&&isopera==false&&canfilter){t.style.filter='RevealTrans(duration=' + ofltime + ', transition=' + ((oflt)-3) + ')';
t.filters.RevealTrans.apply();
t.style.visibility='hidden';
t.style.overflow='hidden';
t.filters.RevealTrans.play();
if(i>-1){f[i].offflag = '1'}}else{if(oflt==1||tbro=='ienn'||navp=='Mac'||isopera||canfilter==false){t.style.visibility = 'hidden'
t.style.overflow = 'hidden'
if(i>-1){f[i].offflag = '1'}}else{t.style.filter='BlendTrans(duration=' + ofltime + ')';
t.filters.BlendTrans.apply();
t.style.visibility='hidden';
t.style.overflow = 'hidden'
t.filters.BlendTrans.play();
if(i>-1){f[i].offflag = '1'}}}}else{t.style.opacity='0';
t.style.visibility='hidden';
t.style.overflow = 'hidden'
t.className=''
if(i>-1){if(f[i].photo!=''&&f[i].iclass!=''){fxx=getObject('maini' + i)
fxx.className=''}}
if(i>-1){f[i].offflag = '1'}}
if(i!=-1){fixFlash (i,0)}
if(i>-1){t.style.overflow='hidden'}}
</SCRIPT>
<SCRIPT>
function hideobject(i){if(i==-1){hideIt (i,1,0)}else{hideIt (i,f[i].offfil,f[i].offfiltime)}}
function z3(i){hideIt (i,f[i].offfil,f[i].offfiltime)
for (igh=0; igh<f.length; igh++){if(f[igh].oid==f[i].oid&&i!=igh){hideIt (igh,f[igh].offfil,f[igh].offfiltime)}}}
function showobject(i){if(i==-1){showIt (i,1,0)}else{showIt (i,f[i].onfil,f[i].onfiltime)}}
function loadanImage(inum){if(f[inum].photo==''||f[inum].loading=='true'){completed()
return}
f[inum].loaded=true
t=getObject('maini' + inum)
t.src=f[inum].photo}
function SecondaryLoad(inum){f[inum].loaded=true,t=getObject('maini' + inum),t.onload=ss,t.onerror=sse,t.src=f[inum].photo}
function ss(){newone = z8('sL()', 25)}
function sse(i){ss()
if(typeof i!='undefined'){f[i].loaded=false}}
function sLe(i){sL()
if(typeof i!='undefined'){f[i].loaded=false}}
function sL(){foundfile=-1
lowestone=32000
for (i=0; i<f.length; i++){if(f[i].preload!=1&&f[i].photo!=''&&f[i].startup!='true'&&f[i].loading!='true'&&f[i].loaded==false){if(f[i].timeon<lowestone){lowestone=f[i].timeon
foundfile = i}}}
if(foundfile>-1){SecondaryLoad(foundfile)}}
var t_lesson_status='', gotime=-1, maxtime=0, maxaction='',username='User Name', userid=''
var haspl=false
for (i=0; i<f.length; i++){f[i].fronk='';f[i].oldtval=f[i].tval}
function preloadfiles(imagenumber){if(typeof imagenumber=='undefined'){imagenumber=0}
if(haspl==true&&imagenumber==0){return}
if(imagenumber==0){if(isipadapp){showxobject('ipadloader')}
try{for (i=0; i<f.length; i++){if(f[i].theclass.indexOf('_pice')>-1&&f[i].photo!=''){cobject=getObject('maini' + i);f[i].fronk=f[i].theclass;f[i].theclass=''}}}catch(err){}
try{apphasloaded()}catch(err){}
resizeit();
ed2()
gotime=(getArg('go'))
tPreLoad=(getArg('preload'))
if(tPreLoad!=''){PreLoad=tPreLoad}
if(isNaN(PreLoad)){PreLoad=duration}
if(PreLoad>duration){PreLoad=duration}
objAPI = getAPI(window)
s_nl='', s_pl=''
if(!APIOK()){}else{var result = objAPI.LMSInitialize('')
if(result=='false') {var errorCode = objAPI.LMSGetLastError();
alert('Error:' + errorCode + ' - ' + objAPI.LMSGetErrorString(errorCode) + '\n' + objAPI.LMSGetDiagnostic(''));
self.close();}
lcn=LMSGetValue('cmi.core._children')
if(lcn.indexOf('t_lesson_status')!=-1){t_lesson_status=LMSGetValue('cmi.core.t_lesson_status')}}
cmimaxtime=LMSGetValue('cmi.student_data.max_time_allowed')
if(cmimaxtime!=''&&typeof(cmimaxtime)!='undefined'){mtime=cmimaxtime.split(':'),maxtime=(parseInt(mtime[0])*3600) + parseInt(mtime[1]*60) + parseInt(mtime[2])}
maxaction=LMSGetValue('cmi.student_data.time_limit_action'),username=LMSGetValue('cmi.core.student_name'),userid=LMSGetValue('cmi.core.student_id')
launch_data=LMSGetValue('cmi.launch_data'),lesson_location=LMSGetValue('cmi.suspend_data')
if(typeof usecookies=='undefined'){usecookies=false}
if(typeof launch_data=='undefined'){launch_data=''}
if(launch_data.indexOf(',')>-1){vss = launch_data.split(',')
for (i=0; i<vss.length; i++){iitemsbt[i]=vss[i]}}
if(typeof username=='undefined'){username=''}
if(typeof lesson_location=='undefined'){lesson_location=''}
if(typeof userid=='undefined'){userid=''}
if(isNaN(parseFloat(lesson_location))==false){if(lesson_location>0){gotime=lesson_location}}}
arImageList=new Array()
for (counter in arImageSrc) {arImageList[counter] = new Image(),arImageList[counter].onload=completed,arImageList[counter].onerror=completed,limage = arImageSrc[counter]
if(limage.substring(0,2)=='zq'){limage=fur(limage,'zq',''),limage=fur(limage,'.gif','.png')}
arImageList[counter].src = limage;}
for (i=0; i<f.length; i++){if(f[i].timeon<=PreLoad||f[i].startup=='true'){if(f[i].preload==1||f[i].preload==3){completed()}else{loadanImage(i)}}else{if(f[i].preload==2){loadanImage(i)}else{completed()}}}}
function errorcompleted(i){completed()
f[i].loaded=false}
var preloadfn=f.length+arImageSrc.length
var dopreload=false,cchecki=0
function countImages(){imagesloaded = preloadfn - 1
completed()}
function completed(){if(thepos>-1){return}
if(imagesloaded>preloadfn-1){return}
y1(cchecki)
cchecki = z8("countImages()", 15000)
percentloaded = (parseInt((imagesloaded / (preloadfn - 1)) * 100))
if(isNaN(percentloaded)){if(loadingtext==''){updateStatus('0%')}else{updateStatus (loadingtext + '(0%)')}}else{if(loadingtext==''){updateStatus (percentloaded + '%')}else{updateStatus (loadingtext + '(' + percentloaded + '%)')}}
imagesloaded = imagesloaded + 1
if(imagesloaded>preloadfn-1){y1(cchecki)
showStart()
if(PreLoad<duration||dopreload){sL()}}
dl=true}
function updateStatus(thetext){updatePopup(thetext)}
var spokenword=''
if('webkitSpeechRecognition' in window){var recognition=new webkitSpeechRecognition();recognition.continuous=true;recognition.interimResults=true;
recognition.onresult=function(event){spokenword='';for (i=event.resultIndex;i<event.results.length;++i){if(event.results[i].isFinal){spokenword=event.results[i][0].transcript}};checkspokenword(spokenword)}}
function checkspokenword(theword){theword=fur(theword,' ','')
if(theword==''){return}
wordspokenx(theword)
_vn=-1,_vp=-1,_vr=-1,_vs=-1,_vc=-1,_vh=-1
for (j=currentobjects.length-1;j>-1;j--){i=currentobjects[j]
if(f[i].downevent=='vhelp'){_vh=i}
if(f[i].downevent=='vnext'){_vn=i}
if(f[i].downevent=='vback'){_vp=i}
if(f[i].downevent=='vrestart'){_vr=i}
if(f[i].downevent=='vsubmit'){_vs=i}
if(f[i].downevent=='vcustom'){_vc=i}}
if(theword=='next'&&_vn>-1){gotonext()}
if((theword=='back'||theword=='previous')&&_vp>-1){gotoprevious()}
if(theword=='restart'&&_vr>-1){gotostepx(1)}
if(theword=='submit'&&_vs>-1){processEvent('submit',_vs,false)}
if((theword=='health'||theword=='help')&&_vh>-1){showgroup('help10', -1, false)}}
function wordspokenx(theword){}
function fxit(){tobj=getObject('startup'),tobj.style.visibility='hidden',oldshove=shove, shove=0
gotoTime(gotime)
shove=oldshove}
function showStart(){currentobjects.length=0, aic=0
for (i=0; i<f.length; i++){try{if(f[i].text.indexOf('.pdf')>-1){f[i].object.style.left=-1000}}catch(err){}
if(f[i].startup=='true'){currentobjects[aic]=i
aic++}}
currentobjects.length=aic
if(isdesktop&&tbro!='ie'){resizeit()}
if((APIOK())&&(bFinishDone==false)){intChildren=LMSGetValue('cmi.core._children')
if(typeof intChildren=='undefined'){intChildren=''}
if(intChildren.indexOf('starttime')!=-1){LMSSetValue('cmi.core.starttime',0)}}
hasstarted=true
sfound=false,hidestart=false
for (i=0; i<f.length; i++){f[i].maxscroll=f[i].object.scrollHeight-f[i].hheight,f[i].maxscrolly=f[i].object.scrollWidth-f[i].wwidth
if(f[i].maxscroll>1||f[i].maxscrolly>1){f[i].hasevent=true}
if(f[i].text.indexOf('%%results%%')>-1||f[i].text.indexOf('%%allresults%%')>-1||f[i].text.indexOf('%%results2%%')>-1||f[i].text.indexOf('%%results3%%')>-1){f[i].hasevent=true}}
gtf=z8("startPlayer()",1000)
if(gotime>-1&&gotime!=''){gtf=z8("fxit()",1000)}}
function startPlayer(){for(ik=0; ik<f.length;ik++){if(f[ik].usernote){ro=getObject('mainp'+ik),ro.value=xreaddata(f[ik].objectname);break}}
if(typeof startrecognition=='undefined'){startrecognition=true}
if(startrecognition){if(('webkitSpeechRecognition' in window)) {recognition.start();}}
ats()
tobj=getObject('startup'),tobj.style.visibility='hidden'
score=0
quizquestion=0
for (i=0; i<rq.length; i++){rq[i]=0}
for(i=0; i<f.length; i++){f[i].object.style.overflow='hidden'
if(f[i].photo==''&&f[i].text.indexOf('<<')>-1){for(ix=0; ix<f.length; ix++){if(f[ix].photo!=''&&f[i].text.indexOf('<' + f[ix].objectname + '>')>-1){f[i].text=fur(f[i].text,'<' + f[ix].objectname + '>','IMG class="' + f[ix].theclass + '" SRC="' + f[ix].photo + '" width=' + f[ix].wwidth)}}
try{nto=getObject('mainp' + i);nto.innerHTML=f[i].text}catch(err){}}}
for (i=0; i<f.length; i++){f[i].maxscroll=f[i].object.scrollHeight-f[i].hheight,f[i].maxscrolly=f[i].object.scrollWidth-f[i].wwidth
if(f[i].maxscroll>1||f[i].maxscrolly>1){f[i].hasevent=true;f[i].autoscroll=true}}
for (i=0; i<f.length; i++){if(f[i].xdistance!=0||f[i].ydistance!=0){if((parseInt(tobj.style.top)!=f[i].ttop||parseInt(tobj.style.left)!=f[i].lleft)&&f[i].startup!='true'&&f[i].loading!='true'){if(isNaN(f[i].ttop)==false&&isNaN(f[i].lleft)==false){tobj.style.top=f[i].ttop,tobj.style.left=f[i].lleft}}}}
var startDate=new Date();
startTime=startDate.getTime();
updateStatus('')
thestartDate=new Date(),RealStartTime=thestartDate.getTime(),currentslidenumber = 0
if(typeof loadnextfile!='undefined'){y2 (loadnextfile)
loadnextfile=0}
resizeit()
checkposition()
cmisD=new Date();cmistarttime=cmisD.getTime();scostatus='incomplete'
if(isandroid==true){}else{}
snipw()}
</SCRIPT>
<SCRIPT>
var dragobject=-1
function restart(){cleardelays()
resetvars()
alldone=false
pausetime = 0
for(i=0; i<pauses.length; i++){pausess[i]=0}
cleartimers()
t_lesson_status=''
alldone=false
for (j=0; j<questions.length; j++){q_result[j]=''
skipped[j]=''}
if(thepos!=-1){if(typeof loadnextfile!='undefined'){y2 (loadnextfile)
loadnextfile=0}}
for(i=0; i<f.length; i++){f[i].wta=0,f[i].wtaa=0
if(f[i].timeon>0||f[i].z1>0){t=getObject('main'+i)
fixFlash (i,0)
t.style.visibility='hidden',t.style.overflow='hidden',f[i].onflag='',f[i].offflag=''}else{if(f[i].timeoff>0){t=getObject('main'+i)
fixFlash (i,1)
showto=1
if(showto==1){t.style.visibility='visible',oivxx(i),f[i].onflag='',f[i].offflag=''}}}}
startPlayer()}
var customurl1='',customurl2='',customurl3='',customurl4='',customurl5='',customurl6='',customurl7='',customurl8='',customurl9='',customurl10=''
function resumeplaying(){if(thepos==-1){startPlayer()}else{val=ispaused}
if(val==ispaused){if(typeof loadnextfile!='undefined'){y2 (loadnextfile)
loadnextfile=0}
checkposition()}}
function seterrorstate(te,lf){errorCounter=0
errorCords=''}
function gethint(){currenthint=''
for (i=0; i<f.length; i++){if(f[i].downevent!='tm'&&f[i].downevent!='target'&&f[i].xevent!='truefalse'&&f[i].downevent!='truefalse'){if(f[i].ke=='showmessage'||f[i].overevent=='showmessage'||f[i].upevent=='showmessage'||f[i].downevent=='showmessage'||f[i].dblevent=='showmessage'){}else{t=getObject('main'+i)
if(t.style.visibility=='visible'&&f[i].hint!=''){currenthint=f[i].hint}}}}
return currenthint}
var cmu=false,submit_objective=false,tscore=0,insertobject=-1
function fixcurrentstep(scoreobject, fromwhere, goback){return}
function updateCache(){if(appCache.status==appCache.UPDATEREADY){appCache.update()
appCache.swapCache()}}
var rtsm=0
function watchstepagain(){for (j=0; j<currentobjects.length; j++){i=currentobjects[j]
if(f[i].timeon==thepos){t=f[i].object
if(f[i].z1>0||f[i].z5>0){t.style.visibility='hidden',t.style.overflow='hidden',t.className=''}
if(f[i].z5>0){clearmove (i,t)}
if(f[i].z1>0||f[i].z5>0){f[i].offflag='1',f[i].onflag=''}
if(f[i].text.indexOf('<audio')>-1){stopsoundx(f[i].objectname)}
fixFlash (i,0)}}
thepos=thepos+5
rstm=z8("gotoTime(" + (thepos-5) + ")",1)}
var showfromobject=-1
var showgroup1='',showgroup2=-1
function showgroup(thegroup, fromobject, hidecancel){if(thepos==-1){return}
if(iscorrectanswer==true&&coverride==0){return}
if(coverride==2){return}
if(coverride==1){coverride=2}
topz=5000
try{for (jsx=0; jsx<currentobjects.length; jsx++){jsxi=currentobjects[jsx],zob=f[jsxi].object
if(zob.style.visibility=='visible'){if(parseInt(zob.style.zIndex)>topz){topz=parseInt(zob.style.zIndex)}}}}catch(err){}
topz=topz+10,haspaused=false
if(typeof(fromobject)=='undefined'){fromobject=-1}
gr=thegroup,showfromobject=fromobject,exclusive=false
if(thegroup.substring(thegroup.length-2, thegroup.length-1)==1){exclusive=true}
if(exclusive==true){exclusivegroup=true}
if(exclusive==false){showfromobject=-1}
hideothergroups=false
if(thegroup.substring(thegroup.length-1, thegroup.length)==1){hideothergroups=true}
thegroup=thegroup.substring(0,thegroup.length-2)
if(thegroup.toLowerCase()=='msgbox'){for (jmb=0; jmb<currentobjects.length; jmb++){imb=currentobjects[jmb];if(typeof(imb)=='undefined'||imb==-1){break}else{if(f[imb].qo=='Question'){for (imbb=0; imbb<f.length; imbb++){if(f[imbb].hint=='OK'){f[imbb].ke=f[imbb]._ke, f[imbb].overevent=f[imbb]._overevent, f[imbb].downevent=f[imbb]._downevent, f[imbb].upevent=f[imbb]._upevent, f[imbb].dblevent=f[imbb]._dblevent; break}};break}}}}
pausefound=false
for (jsx=0; jsx<currentobjects.length; jsx++){j=currentobjects[jsx]
if(typeof(j)!='undefined'){if(f[j].madevisible&&hideothergroups&&f[j].og.toLowerCase()!=thegroup.toLowerCase()){f[j].timeon=64000,f[j].timeoff=64000,f[j].madevisible=false
hideIt(j,f[j].offfil,f[j].offfiltime)}}}
for(i=0; i<pauses.length; i++){if(pauses[i]>thepos&&pausefound==false){endtime=pauses[i]
if(i>0){starttime=pauses[i-1]}else{starttime=0}
pausefound=true;break}}
if(pausefound==false){endtime=duration
if(pauses.length>0){starttime=pauses[pauses.length-1]}else{starttime=0}}
if(hinttext==''){hinttext=gethint()}
if(thegroup=='Handout'||thegroup=='navbuttons'){scounter=0
for (js=0; js<f.length; js++){if(f[js].og.toLowerCase()==thegroup.toLowerCase()||(thegroup=='CheckAnswerWrong'&&f[js].og=='AnswerWrongMoreInfo')){if(f[js].hatimeon<=thepos&&f[js].hatimeoff>thepos){f[js].timeon=f[js].hatimeon,f[js].timeoff=f[js].hatimeoff,f[js].mo_timeon=f[js].hatimeon,f[js].mo_timeoff=f[js].hatimeoff,f[js].eventoff=f[js].hatimeoff,f[js].madevisible=true
if(tbro=='ie'||tbro=='ienn'){t=f[js].object,t.style.zIndex=topz+js}
if(f[js].percent==true){writepercent(js)}
repos(js)
showIt(js,f[js].onfil,f[js].onfiltime)
scounter=scounter+1
if(f[js].timeout!=''){y1(f[js].tops);f[js].tops=0
f[js].tag='',f[js].tops=z8('processTimeoutEvent(\'' + f[js].timeout + '\',' + js + ',true,1)',f[js].timeouttime)}}}}}else{scounter=0
if(exclusive&&tbro=='ie'){for (j=0; j<currentobjects.length; j++){i=currentobjects[j]
if(typeof(i)=='undefined'||i==-1){break}else{if(f[i].ftext!=''){zob=f[i].object
if(zob.innerHTML.indexOf('"window"')>-1){zob.style.left=-f[i].wwidth}}}}}
if(exclusive){for (j=0; j<currentobjects.length; j++){i=currentobjects[j]
if(typeof(i)=='undefined'||i==-1){break}else{if(f[i].ftext.toLowerCase().indexOf('.pdf')>-1){zob=f[i].object,zob.style.left=-f[i].wwidth}}}}
for (js=0; js<f.length; js++){if(f[js].og.toLowerCase()==thegroup.toLowerCase()||(thegroup=='CheckAnswerWrong'&&f[js].og=='AnswerWrongMoreInfo')){f[js].timeon=starttime,f[js].timeoff=endtime,f[js].eventoff=endtime,scounter=scounter+1
if(f[js].percent==true){writepercent(js)}
if(f[js].madevisible==false){f[js].madevisible=true
if(tbro=='ie'||tbro=='ienn'){t=f[js].object,t.style.zIndex=topz+js}
repos(js)
showIt(js,f[js].onfil,f[js].onfiltime)
if(f[js].timeout!=''){y1(f[js].tops);f[js].tops=0
f[js].tag='',f[js].tops=z8('processTimeoutEvent(\'' + f[js].timeout + '\',' + js + ',true,1)',f[js].timeouttime)}}}}}
if(scounter==0){exclusive=false}
if(exclusive&&(tbro=='ie'||tbro=='ienn')){if(navigator.userAgent.indexOf('IEMobile')==-1){t=getObject('eblocker'),t.style.visibility='visible',t.style.zIndex=topz-1}}
aic=0
currentobjects=new Array(f.length)
for(jk=0; jk<f.length; jk++){if(thepos<f[jk].timeoff&&thepos>=f[jk].timeon){if(exclusive){if(f[jk].og.toLowerCase()==thegroup.toLowerCase()||(thegroup=='CheckAnswerWrong'&&f[jk].og=='AnswerWrongMoreInfo')){currentobjects[aic]=jk
aic++}}else{currentobjects[aic]=jk
aic++}}}
currentobjects.length=aic
if(showgroup1==''){showgroup1=gr,showgroup2=fromobject}
if(exclusive&&currentfreeform!=-1){thg=getObject('mainp' + currentfreeform);thg.blur()}
for (jxx=0; jxx<currentobjects.length; jxx++){ ixcf=currentobjects[jxx]
if(f[ixcf].ke=='freeform'){currentfreeform = ixcf
setfreeformhilite();break}}
for (jxx=0; jxx<currentobjects.length; jxx++){ixcf=currentobjects[jxx]
if(f[ixcf].object.innerHTML.toLowerCase().indexOf('</audio>')>-1&&f[ixcf].autostart==1&&f[ixcf].og==thegroup&&f[ixcf].object.style.visibility=='visible'){try{document.getElementById(f[ixcf].objectname).currentTime=0}catch(err){}
tao=ixcf
y2(f[tao].playcounter)
obname=f[ixcf].objectname
document.getElementById(obname).play()
try{document.getElementById(f[ixcf].objectname).currentTime=0}catch(err){}
document.getElementById(obname+'_ab').src=obname+'_ab.png'
f[tao].playing=1,f[tao].playcounter = z9("txsound('" + obname + "')", 20);break}
if(f[ixcf].object.innerHTML.toLowerCase().indexOf('</video>')>-1&&f[ixcf].vautostart==1&&f[ixcf].og==thegroup&&f[ixcf].object.style.visibility=='visible'){try{document.getElementById(f[ixcf].objectname).currentTime=0}catch(err){}
tao=ixcf
y2(f[tao].playcounter)
obname=f[ixcf].objectname
document.getElementById(obname).play()
try{document.getElementById(f[ixcf].objectname).currentTime=0}catch(err){}
f[tao].playing=1,f[tao].playcounter = z9("txsound('" + obname + "')", 20);break}}}
var stlo=0, stno=0, stlocl=0, stio=0, mainstocl=30
function frevealshow(){showIt(stno,f[stno].onfil,f[stno].onfiltime)
y2 (stio)}
</SCRIPT>
<SCRIPT>
function revealshow(){if(stlo.style.visibility=='hidden'){y2 (stio)
return}
stlocl=stlocl+mainstocl
if(stlocl>=parseInt(stlo.style.width)){stocl=parseInt(stlo.style.width)}
stlo.style.clip='rect(auto,' + stlocl + ',auto,auto)'
if(stlocl>=parseInt(stlo.style.width)){y2(stio)
if(zratio>1){stio=z8('frevealshow()',100)}else{showIt(stno,f[stno].onfil,f[stno].onfiltime)}}}
function repos(j){if(f[j].seqdet!=''){return}
tobj=getObject('main'+j),tobj.style.left=f[j].lleft,tobj.style.top=f[j].ttop}
function hidegroup(thegroup, fromtimeout){if(coverride==2){closeit()
return}
showfromobject=-1,pausefound=false,hideothergroups=false,exclusivegroup=false
if(thegroup.substring(thegroup.length-1, thegroup.length)==1){hideothergroups=true}
thegroup=thegroup.substring(0,thegroup.length-1)
if(thegroup.toLowerCase()=='msgbox'||thegroup.toLowerCase()=='msgboxcancel'){iscorrectanswer=false}
for (j=0; j<f.length; j++){if(f[j].madevisible&&hideothergroups){f[j].timeon=64000,f[j].timeoff=64000
hideIt(j,f[j].offfil,f[j].offfiltime)
f[j].madevisible=false}
if(f[j].og.toLowerCase()==thegroup.toLowerCase()){f[j].timeon=64000,f[j].timeoff=64000
hideIt(j,f[j].offfil,f[j].offfiltime)
f[j].madevisible=false
if(thegroup=='Handout'||thegroup=='navbuttons'){f[j].mo_timeon=64000,f[j].mo_timeoff=64000}}}
if(tbro=='ie'||tbro=='ienn'){t=getObject('eblocker'),t.style.visibility='hidden',t.className='',ebgroup=''}
updateobs()
for(jk=0; jk<f.length; jk++){if(f[jk].og==thegroup){f[jk].timeon=f[jk].hatimeon,f[jk].timeoff=f[jk].hatimeoff,f[jk].mo_timeon=f[jk].hatimeon,f[jk].mo_timeoff=f[jk].hatimeoff,f[jk].eventoff=f[jk].hatimeoff}}
if(thegroup=='MsgBoxQuiz'&&usemessagebox){usemessagebox=false
writequizquestion()}
customx()
hidekeyboard()
showgroup1='',showgroup2=''
if(currentfreeform!=-1){setfreeformhilite()}
if(typeof exclusive=='undefined'){exclusive=true}
if(exclusive){for (j=0; j<currentobjects.length; j++){i=currentobjects[j]
if(typeof(i)=='undefined'||i==-1){break}else{if(f[i].ftext.toLowerCase().indexOf('.pdf')>-1){zob=getObject('main'+i),zob.style.left=f[i].lleft}}}}
if(exclusive&&tbro=='ie'){for (j=0; j<currentobjects.length; j++){i=currentobjects[j]
if(typeof(i)=='undefined'||i==-1){break}else{if(f[i].ftext!=''){zob=getObject('main'+i),zob.style.left=f[i].lleft}}}}
if(isios==1){cactevent=false;frex=z8('cactevent=true',1000)}}
var issurvey=false
function stlmssc(){scostatus='completed'}
function stlmsscnr(){t_lesson_status='donenr'}
function skipq(){if(quizquestion>totalquizquestions){customalert ('You have previously skipped this question. Please select the most appropriate answer to this question.')}else{addskipped()
if(usetimer==true){clearquiztimer()}
checkanswer('skip')
writequizquestion()}}
var ebgroup=''
function finalaudiofix(){}
function showaudio(){}
function hideaudio(){}
processcheckpos=false, okpressed=false
var iscorrectanswer=false
function showgroupp(thegroup){for (js=0; js<f.length; js++){if(f[js].og==thegroup){f[js].timeon=f[js].hatimeon,f[js].timeoff=f[js].hatimeoff,f[js].mo_timeon=f[js].hatimeon,f[js].mo_timeoff=f[js].hatimeoff,f[js].eventoff=f[js].hatimeoff,f[js].madevisible = false
if(f[js].percent==true){writepercent(js)}
repos(js)
if(f[js].mtl==1){if(thepos<f[js].timeoff&&thepos>=f[js].timeon){showIt(js, f[js].onfil, f[js].onfiltime)}}else{showIt(js, f[js].onfil, f[js].onfiltime)}}}
updateobs()
for (jxx=0; jxx<currentobjects.length; jxx++){ ixcf=currentobjects[jxx]
if(f[ixcf].ke=='freeform'){currentfreeform = ixcf
setfreeformhilite();break}}}
function hidegroupp(thegroup){for (js=0; js<f.length; js++){if(f[js].og.toLowerCase()==thegroup.toLowerCase()){f[js].timeon=64000,f[js].timeoff=64000,f[js].mo_timeon=64000,f[js].mo_timeoff=64000,f[js].eventoff=64000,f[js].madevisible=false,hideIt (js,0,0)}}
updateobs()
showgroup1='',showgroup2='',t=getObject('eblocker'),t.style.visibility='hidden',t.style.overflow='hidden',t.className='',ebgroup=''
hidekeyboard()
return}
var buggingout=0
function completeexit(){stopVideo()
try{window.close()}catch(err){}
try{parent.window.close()}catch(err){}}
var supto=-1, lni=-1, searchdata='', firstsearch=false
function vibrateit(lf){navigator.vibrate = navigator.vibrate || navigator.webkitVibrate || navigator.mozVibrate || navigator.msVibrate;
if(navigator.vibrate){navigator.vibrate(1000)}}
function pev2(thevent,l, fromtimeout){}
function processEvent(thevent,l, fromtimeout){okpressed=false
insertobject=-1
if(hasstarted==false){return}
if(thevent==''){return}
if(l>=0){f[l].parameter=fur(f[l].parameter,"(x)","'" + f[l].objectname + "'")}
if(thevent=='sprite'){if(f[l].sprites!=''){fssn=f[l].sprites.split('|');f[l].sno=f[l].sno+1;if(f[l].sno>=fssn.length){f[l].sno=0};usp=fssn[f[l].sno],f[l].ir.src=f[usp].photo}}
pev2(thevent,l,fromtimeout)
if(thevent=='vibrate'){vibrateit(l)
return}
if(thevent=='requestnote'){if(location.protocol=='file:'){}
try{window.webkitNotifications.requestPermission()}catch(err){};return}
if(thevent=='rafsx'){hidegroupp('MsgBoxCancel')
rafs()
return}
if(thevent=='rafs'){if(f[l].parameter!=''){rafsq(f[l].parameter)}else{rafs()}
return}
if(thevent=='reload1'){bFinishDone=true
location.reload()}
if(thevent=='reload2'){location.reload()}
if(thevent=='updatecache'){updateCache()}
if(l>-1){if(f[l].downevent!='printresults'&&f[l].downevent!='tm'&&f[l].downevent!='target'&&(f[l].downevent!='truefalse'||f[l].xevent!='truefalse')){hinttext=f[l].hint}}
y1(nt)
nt=0
if(f[l].mhint=='!move'&&pix>-1){tobj=getObject('main' + l)
if(tbro=='ie'){mix=(pix / zratio) - (parseInt(tobj.style.left)),miy=(piy / zratio) - (parseInt(tobj.style.top)),mix=mix * zratio,miy=miy * zratio}else{mix=pix - parseInt(parseInt(tobj.style.left)),miy=piy - parseInt(parseInt(tobj.style.top))}
mio=l
return}
if(thevent=='js'){xo=f[l].parameter,xo=fur(xo,'&#39;',"'"),xo=xo.replace('%%thexobject%%',"'" + f[l].objectname + "'"),xo=xo.replace('%%thexnumber%%',l)
eval(xo)
return}
if(thevent=='canvasflip'){for (jpx=0; jpx<currentobjects.length; jpx++){jpxx=currentobjects[jpx]
if(f[jpxx].hascevent){flipcanvas(f[jpxx].objectname)}}}
if(thevent=='canvasmirror'){for (jpx=0; jpx<currentobjects.length; jpx++){jpxx=currentobjects[jpx]
if(f[jpxx].hascevent){mirrorcanvas(f[jpxx].objectname)}}}
if(thevent=='canvas180'){for (jpx=0; jpx<currentobjects.length; jpx++){jpxx=currentobjects[jpx]
if(f[jpxx].hascevent){rotatecanvas180(f[jpxx].objectname)}}}
if(thevent=='canvas270'){for (jpx=0; jpx<currentobjects.length; jpx++){jpxx=currentobjects[jpx]
if(f[jpxx].hascevent){rotatecanvas270(f[jpxx].objectname)}}}
if(thevent=='canvas90'){for (jpx=0; jpx<currentobjects.length; jpx++){jpxx=currentobjects[jpx]
if(f[jpxx].hascevent){rotatecanvas90(f[jpxx].objectname)}}}
if(thevent=='showgroup'){showgroup(f[l].parameter, l)}
if(thevent=='hidegroup'){hidegroup(f[l].parameter)}
if(thevent=='xhidegroup'){okpressed=true
hidegroup(f[l].parameter)
okpressed=false}
if(thevent=='target'||thevent=='dragtarget'){tpixx=0,tpiyx=0
if(f[l].mhint!='!move'&&f[l].downevent!='dragtarget'){tobj=getObject('target')
tpixx=tpix/zratio,tpiyx=tpiy/zratio
tobj.style.left=tpixx-16-parseInt(presh.style.left),tobj.style.top=tpiyx-16-parseInt(presh.style.top),tobj.style.visibility='visible'}
f[l].tex=tpixx, f[l].tey=tpiyx,tex=tpixx, texy=tpiyx
return}
if(isNaN(parseFloat(thevent))==false){if(thevent!=32768){thevent=thevent*5}}
cmu=false
if(typeof fromtimeout=='undefined'){fromtimeout=0}
if(thevent=='showmenu'||thevent=='emailresultssilent'||thevent=='emailresults'||thevent=='printcert'||thevent=='submittolms'||thevent=='setcomplete'||thevent=='setcompletenr'||thevent=='submittolmssilent'||thevent=='printresults'||thevent=='sendemail'||thevent=='showgroup'||thevent=='hidegroup'||thevent=='submita'||thevent=='submitb'||thevent=='submitc'||thevent=='submitd'||thevent=='submite'||thevent=='submitf'||thevent=='submit'||thevent=='launch'||thevent=='launchwindow'||thevent=='increasev'||thevent=='decreasev'||thevent=='mute'||thevent=='showmessage'||thevent=='print'||thevent=='printall'||thevent=='closeconfirm'||thevent=='restart'||thevent=='showhint'||thevent=='tup'||thevent=='tdown'||thevent=='close'||thevent=='back2'||thevent=='back4'||thevent=='back5'||thevent=='back6'||thevent=='back7'||thevent=='back8'||thevent=='back9'||thevent=='back10'||thevent=='back3'||thevent=='previous'){tex=-1, texy=-1}else{if(showfromobject!=-1){aic=0,l=showfromobject
currentobjects=new Array(f.length)
for(jk=0; jk<f.length; jk++){if(thepos<f[jk].eventoff&&thepos>=f[jk].timeon){currentobjects[aic]=jk
aic++}}
currentobjects.length=aic}
ctex=tex, ctexy = texy
if(isNaN(parseFloat(thevent))==false){if(Math.abs(parseFloat(thevent))>thepos){fixcurrentstep(l, fromtimeout)}}else{fixcurrentstep(l,fromtimeout)}}
if(thevent=='clearsignature'){clearsignature()}
if(thevent=='clearcanvas'){clearcanvas()}
if(thevent=='choosecolor'){cactevent=false;frex=z8('cactevent=true',500);showgroup('ColorChoose11')}
if(thevent=='skip'){skipq()}
if(thevent=='gotonextquestion'){cmisD=new Date(),cmiet = cmisD.getTime() - cmistarttime,q_time[quizquestion-1]=cmiet,q_result[quizquestion-1]='wrong',q_correctresponse[quizquestion-1]=answer[questionnumber],q_studentresponse[quizquestion-1]='TO',q_id[quizquestion-1]=(questionnumber + 1)
writequizquestion()}
if(thevent=='next'){seterrorstate(thevent,l)
processit=true
if(f[l].fallback=='True'){processit=false}
if(processit==false){runWarning('next')}else{gotoNextPause()}}
if(thevent=='skip2'){skipPause(2)}
if(thevent=='skip3'){skipPause(3)}
if(thevent=='skip4'){skipPause(4)}
if(thevent=='skip5'){skipPause(5)}
if(thevent=='skip6'){skipPause(6)}
if(thevent=='skip7'){skipPause(7)}
if(thevent=='skip8'){skipPause(8)}
if(thevent=='skip9'){skipPause(9)}
if(thevent=='skip10'){skipPause(10)}
if(thevent=='ahead2'){seterrorstate(thevent,l)
jumpPause(2)}
if(thevent=='ahead3'){seterrorstate(thevent,l)
jumpPause(3)}
if(thevent=='ahead4'){seterrorstate(thevent,l)
jumpPause(4)}
if(thevent=='ahead5'){seterrorstate(thevent,l)
jumpPause(5)}
if(thevent=='ahead6'){seterrorstate(thevent,l)
jumpPause(6)}
if(thevent=='ahead7'){seterrorstate(thevent,l)
jumpPause(7)}
if(thevent=='ahead8'){seterrorstate(thevent,l)
jumpPause(8)}
if(thevent=='ahead9'){seterrorstate(thevent,l)
jumpPause(9)}
if(thevent=='ahead10'){seterrorstate(thevent,l)
jumpPause(10)}
if(thevent=='back2'){seterrorstate(thevent,l)
backPause(2)}
if(thevent=='back3'){seterrorstate(thevent,l)
backPause(3)}
if(thevent=='back4'){seterrorstate(thevent,l);backPause(4)}
if(thevent=='back5'){seterrorstate(thevent,l);backPause(5)}
if(thevent=='back6'){seterrorstate(thevent,l);backPause(6)}
if(thevent=='back7'){seterrorstate(thevent,l);backPause(7)}
if(thevent=='back8'){seterrorstate(thevent,l);backPause(8)}
if(thevent=='back9'){seterrorstate(thevent,l);backPause(9)}
if(thevent=='back10'){seterrorstate(thevent,l);backPause(10)}
if(thevent=='previous'||thevent=='back'){seterrorstate(thevent,l)
gotoPreviousPause()}
if(thevent=='close'){closeit()}
if(thevent=='closelms'){for(ik=0; ik<f.length;ik++){f[ik].hasevent=false
if(f[ik].object.innerHTML.toLowerCase().indexOf('<audio')>-1){stopsoundx(f[ik].objectname)
f[ik].object.innerHTML=''}}
t=getObject('eblocker'),t.style.visibility='visible',t.style.zIndex=100000
showxobject('closelms');exi=xgetref('closelms');if(exi!=-1){f[exi].object.style.zIndex=100001}
showxobject('waitanimation');exi=xgetref('waitanimation');if(exi!=-1){f[exi].object.style.zIndex=100002}
hidegroupp('MsgBoxCancel');hidegroupp('MsgBox')
buggingout=z8('completeexit()',2000)}
if(thevent=='submita'){checkanswer('A')}
if(thevent=='submitb'){checkanswer('B')}
if(thevent=='submitc'){checkanswer('C')}
if(thevent=='submitd'){checkanswer('D')}
if(thevent=='submite'){checkanswer('E')}
if(thevent=='submitf'){checkanswer('F')}
if(thevent=='submit'){submitwarning = f[l].hint
checkanswer('final')}
if(thevent=='restart'){seterrorstate(thevent,l)
restart()}
if(thevent=='showhint'){if(gethint()!=''){customalert (gethint(),l)}}
if(thevent=='showmessage'){customalert (f[l].parameter, l)}
if(isNaN(parseFloat(thevent))==false){seterrorstate(thevent,l)
gotoTime (parseFloat(thevent))}}
</SCRIPT>
<SCRIPT>
function showcheck(iscorrect){isup=false,caf=false
if(iscorrect==true){for (iaec=0; iaec<f.length; iaec++){if(f[iaec].og=='CheckAnswerRight'){caf=true;break}}
if(caf==true){showgroup('CheckAnswerRight11')
isup=true}else{isup=false}}else{for (iaec=0; iaec<f.length; iaec++){if(f[iaec].og=='CheckAnswerWrong'){caf=true;break}}
if(caf==true){showgroup('CheckAnswerWrong11')
isup=true}else{isup=false}}
return isup}
var shove=0, shoving=false
function gotoiTime(thetime){if(thetime!=-32768&&thetime!=32768){thetime = thetime * 5}
gotoTime(thetime)}
function gotostepxt(t){if(istouchdevice==false){gotostepx(t)}}
function gotostepxx(t){gotostepx(t)}
function gotostepx(t){if(cactevent==false){return}
t=t-1
gotoiTime(t)
y1(cacteventt)
cacteventt=z8('cactevent=true',250)
cactevent=false}
var cacteventt=0
function gotoTime(thetime){if(isquiz&&qwritten==false){writequizquestion()}
tex=-1, texy=-1, oldpos=thepos
cleardelays()
incrementscores=true
if(thetime<0){incrementscores = false
thetime=-thetime}
if(thetime==32768){incrementscores = false
thetime=0}
if(shove==1&&shoving==false){nswipe=false
try{for (j=0; j<currentobjects.length; j++){i=currentobjects[j]
if(f[i].objectname=='noswipe'){nswipe=true;break}}}catch(err){}
if(nswipe==false){hidegroupp('_kpindex')
hidegroupp('MsgBox')
hidegroupp('MsgBoxCancel')
hidegroupp('BookMarks')
hidegroupp('Thumbs')
shoveit(thetime)
return}}
currentpos=thepos
date_now = new Date ();
time_now = date_now.getTime ();
startTime = time_now - (thetime * 1000)
ctime = thepos
thepos = thetime
if(typeof usepause!='undefined'){if(thetime<ctime){if(usepause[thetime/5]==0){do{thetime=thetime-5}
while (usepause[thetime/5]==0)}}}
for(i=0; i<pauses.length; i++){if(pauses[i]<thetime){pausess[i]=1}else{pausess[i]=0}}
if(scoredobjects.length>0){for(i=0; i<pauses.length; i++){if(pauses[i]>ctime&&pauses[i]<thetime){for (jj=0; jj<scoredobjects.length; jj++){j=scoredobjects[jj]
if(f[j].timeon<=pauses[i]&&f[j].eventoff>pauses[i]&&f[j].timeoff>pauses[i]){if(f[j].score==True){if(incrementscores){if(f[j].ke!='freeform'){f[j].result='correct'}
score=score+1;break}}}}}
if(pauses[i]<ctime&&pauses[i]>=thetime){for (jj=0; jj<scoredobjects.length; jj++){j=scoredobjects[jj]
if(f[j].timeon<=pauses[i]&&f[j].eventoff>pauses[i]&&f[j].timeoff>pauses[i]){if(f[j].score==True){if(incrementscores){score=score-1
if(score<0){score=0}
if(f[j].ke!='freeform'){f[j].result='neutral'}};break}}}}}}
if(thetime<currentpos){for (j=0; j<f.length; j++){if(f[j].z1==0){if(f[j].timeon<=thetime&&f[j].timeoff>thetime){if(tbro=='ie'){if(canfilter==true){object=f[j].object
if(object.style.filter.indexOf('BlendTrans')!=-1){object.filters.BlendTrans.stop()}
if(object.style.filter.indexOf('RevealTrans')!=-1){object.filters.RevealTrans.stop()}}}
showIt (j, f[j].onfil, f[j].onfiltime)}
try{if(f[j].timeon>thetime){object=f[j].object
if(tbro=='ie'){if(canfilter==true){if(object.style.filter.indexOf('BlendTrans')!=-1){object.filters.BlendTrans.stop()}
if(object.style.filter.indexOf('RevealTrans')!=-1){object.filters.RevealTrans.stop()}}}
object.style.visibility='hidden'
object.style.overflow='hidden';
if(i>-1){if(f[j].photo!=''&&f[j].iclass!=''){fxx=getObject('maini' + j)
fxx.className=''}}
if(speechob==f[j].objectname&&speechob!=''){speechSynthesis.cancel()
speechob='',speechon=0
y1(ttns)}
if(issafari&&f[j].onfil>0){object.style.opacity='0'}
object.style.overflow='hidden'
fixFlash(j,0)
f[j].onflag='',f[j].offflag=''}}catch(err){}}}}
checkposition()
for (i=0; i<f.length; i++){if(f[i].timeoff<=thetime){f[i].onflag='1',f[i].offflag=''}
if(f[i].timeon>thetime){f[i].onflag='',f[i].offflag=''}}
for(i=0; i<pauses.length; i++){if(pauses[i]<thetime){pausess[i]=1}else{pausess[i]=0}}
if(pausetime>0){pausetime = 0
if(typeof loadnextfile!='undefined'){y2 (loadnextfile)
loadnextfile=0}
checkposition()}
if(isandroid==true){}else{}}
</SCRIPT>
<SCRIPT>
function gotoNextPause(){if(tbro=='ie'){if(event!=null){event.cancelBubble=true}}
pausefound = false
if(isquiz&&qwritten==false){writequizquestion()}
for(i=0; i<pauses.length; i++){if(pauses[i]>thepos&&pausefound==false){gotoTime(pauses[i])
pausefound = true;break}}
if(thepos==-1){restart()}}
function skipPause(tj){pausefound = false
if(isquiz&&qwritten==false){writequizquestion()}
for(i=0; i<pauses.length; i++){if(thepos>=pauses[i]){currentpausepos = i}}
gpausepos = currentpausepos + tj
if(gpausepos>=0&&gpausepos<pauses.length){gotoTime(-pauses[gpausepos])
pausefound=true}}
function jumpPause(tj){pausefound = false
if(isquiz&&qwritten==false){writequizquestion()}
for(i=0; i<pauses.length; i++){if(thepos>=pauses[i]){currentpausepos = i}}
gpausepos = currentpausepos + tj
if(gpausepos>=0&&gpausepos<pauses.length){gotoTime(pauses[gpausepos])
pausefound=true}
if(thepos==-1){restart()}}
function gotoPreviousPause(){pausefound = false
for (i=pauses.length-1; i>-1; i--){if(pauses[i]<thepos){thetime=pauses[i]
pausefound=true;break}}
if(pausefound==true){gotoTime(thetime)
pausefound=true}
if(pausefound==false){restart()}}
function backPause(jp){jp=jp-1
pausefound = false
for (i=pauses.length-1; i>-1; i--){if(pauses[i]<thepos){if(i-jp>-1){thetime = pauses[i-jp]
pausefound=true;break}}}
if(pausefound==true){gotoTime(thetime)}}
function getmd(x,y){wfine=1, hfine=1, acwidth=cwidth, acheight=cheight
x=x/zratio,y=y/zratio,fred = getObject('presh'),x=x-parseInt(fred.style.left),y=y-parseInt(fred.style.top)
l = -1
for (j=currentobjects.length-1; j>-1; j--){i=currentobjects[j]
if((typeof(i)=='undefined'||i==-1)&&thepos>-1){break}else{if(typeof(i)!='undefined'&&i!=-1){ow=parseInt(f[i].object.style.width),oh=parseInt(f[i].object.style.height),ox=parseInt(f[i].object.style.left),oy=parseInt(f[i].object.style.top),ow=ow*f[i].scale,oh=oh*f[i].scale,processobject=false
if(f[i].object.style.visibility=='visible'&&x>=ox&&x<=ox+ow&&y>=oy&&y<=oy+oh&&f[i].imagedown!=''){l=i;break}
if(f[i].object.style.visibility=='visible'&&x>=ox&&x<=ox+ow&&y>=oy&&y<=oy+oh&&f[i].tdclass!=''){l=i;break}}}}
return l}
function getLayer(x,y, isdouble){if(tbro=='ienn'||issafari==false){x=x+thewinob.scrollLeft,y=y+thewinob.scrollTop}
wfine=1, hfine=1, acwidth=cwidth, acheight=cheight
if(safaripc==false){if(tbro=='ienn'){if(window.innerWidth<cwidth){wfine=0}
if(window.innerHeight<cheight){hfine=0}
acwidth=window.innerWidth+thewinob.scrollLeft-18, acheight=window.innerHeight+thewinob.scrollTop-18}else{if(isdesktop==false){if(document.body.clientWidth<cwidth){wfine=0}
if(document.body.clientHeight<cheight){hfine=0}
acwidth=document.body.clientWidth+document.body.scrollLeft, acheight=document.body.clientHeight+document.body.scrollTop}}}else{if(window.innerWidth<cwidth){wfine=0}
if(window.innerHeight<cheight){hfine=0}
acwidth=window.innerWidth+document.body.scrollLeft-18, acheight=window.innerHeight+document.body.scrollTop-18}
x=x/zratio,y=y/zratio,fred=getObject('presh'),x=x-parseInt(fred.style.left),y=y-parseInt(fred.style.top)
if(menuup){ow=parseInt(tmentos.style.width),oh=parseInt(tmentos.style.height),ox=parseInt(tmentos.style.left),oy=parseInt(tmentos.style.top)
if(x>=ox&&x<=ox+ow&&y>=oy&&y<=oy+oh){return -1}}
l=-1
for (j=currentobjects.length-1; j>-1; j--){i=currentobjects[j]
if((typeof(i)=='undefined'||i==-1)&&thepos>-1){break}else{if(typeof(i)!='undefined'&&i!=-1){ow=parseInt(f[i].object.style.width),oh=parseInt(f[i].object.style.height),ox=parseInt(f[i].object.style.left),oy=parseInt(f[i].object.style.top),ow=ow*f[i].scale,oh=oh*f[i].scale
processobject=false
if(f[i].og!=''){for (kk=currentobjects.length-1; kk>-1; kk--){kkk=currentobjects[kk]
if(typeof(kkk)=='undefined'||kkk==-1){}else{if(f[kkk].downevent=='dragtarget'&&f[kkk].og==f[i].og){processobject=true;break}}}}
if(x>=ox&&x<=ox+ow&&y>=oy&&y<=oy+oh){processit = true
if(isdouble){if(f[i].dblevent==''&&f[i].downevent!='block'){processit=false}}
if(f[i].ke=='freeform'){processit=true}
if(f[i].hasevent){processit=true}
if(f[i].downevent=='mousetarget'){processit=false}
if(f[i].z2>0){if(f[i].object.style.visibility=='hidden'){processit=false}}
if(f[i].object.style.visibility=='hidden'){processit=false}
if(ebgroup!=''){if(f[i].og!=ebgroup){processit=false}}
if(processit){if(f[i].hascevent||f[i].hasevent||f[i].ftext!=''||f[i].qo=='Sound'||f[i].text.indexOf('playerflv.swf')>-1){l = i;break}}}}}}
return l}
var mmoobject=-1, vidclicked=false
function hidemoo(moo){}
var de=0, nt=0, mda=false, pue=true, menuup=false, mennum='', ddlist = false
function gref(){if(navigator.userAgent.indexOf('Edge')>0){vidclicked=true};ddlist=true;return true}
function gref2(){if(navigator.userAgent.indexOf('Edge')>0){vidclicked=false}
try{window.event.cancelBubble = true}catch(err){}}
function NavDown(e){if(vidclicked){vidclicked=false;return}
if(tbro=='ie'){if(showcontextmenu==true&&event.button>1){return}}else{if(showcontextmenu==true&&e.which>1){return}}
if(cactevent==false){return}
if(isandroid&&androidsteptimer2==true){return}
if(istouchdevice==false){y2(ltti);ltto=-1}
if(issafari||safariwk){l=getLayer(e.pageX, e.pageY)
if(l!=-1){if(f[l].ftext!=''){ddlist=true}}else{if(menuup&&l==-1){ow=parseInt(tmentos.style.width),oh=parseInt(tmentos.style.height),ox=parseInt(tmentos.style.left),oy=parseInt(tmentos.style.top)
x=e.pageX,y=e.pageY 
x=x/zratio,y=y/zratio,fred=getObject('presh'),x=x-parseInt(fred.style.left),y=y-parseInt(fred.style.top)
if(x<ox||x>ox+ow||y<oy||y>oy+oh){hidecreatedmenus()}}
return false}}
if(ddlist==true){ddlist=false
if(tbro=='ie'){event.returnValue=true}
return true}
pue=true,mda=false
y1(de)
de=0,cmu=true,fallback=false
modifier=0
if(tbro!='ie'){x=e.pageX,y=e.pageY
if(tbro=='ienn'){if(e.shiftKey){modifier=1}
if(e.ctrlKey){modifier=2}
if(e.altKey){modifier=3}}else{if(e.modifiers & Event.SHIFT_MASK){modifier=1}
if(e.modifiers & Event.CTRL_MASK){modifier=2}
if(e.modifiers & Event.ALT_MASK){modifier=3}}
if(e.which>1){modifier=4}}else{x=event.clientX + document.body.scrollLeft,y=event.clientY + document.body.scrollTop
if(event.shiftKey){modifier=1}
if(event.ctrlKey){modifier=2}
if(event.altKey){modifier=3}
if(event.button>1){modifier=4}}
pix=x,piy=y
l=getLayer(x, y)
if(menuup&&l==-1){ow=parseInt(tmentos.style.width),oh=parseInt(tmentos.style.height),ox=parseInt(tmentos.style.left),oy=parseInt(tmentos.style.top)
if(isfirefox){x=x/zratio;y=y/zratio}
if(x<ox||x>ox+ow||y<oy||y>oy+oh){hidecreatedmenus()}}
if(l>-1&&tbro=='ie'){if(f[l].object.innerHTML.toLowerCase().indexOf('<video')>-1){return}}
if(l>-1&&tbro=='ie'){if(f[l].object.innerHTML.toLowerCase().indexOf('<param')>-1){return}}
if(l>-1&&f[l].hascevent&&istouchdevice==false&&menuup==false){canvasnum=l,canvason=true
canvasdrawstart(x, y, l)
return}
if(l>-1){_mousedownx(l)
if(istouchdevice==false){y2(ltti)
ltt()
ltto=l}}
if(l>-1){if(isitouch==1||isiphone==1||ishoney==1){if(f[l].nohide!=''){return}}}
if(l>-1&&isitouch==0&&isiphone==0&&ishoney==0){if(f[l].drag==true&&menuup==false){dragobject=l
dragstart(l)
dragx=pix,dragy=piy,dragsx=parseInt(f[l].object.style.left),dragsy=parseInt(f[l].object.style.top)
return false}}
if(l==-1&&iskhtml){event.cancelBubble=true
return}
if(l>-1){if(f[l].instruct&&iskhtml){return}
if(f[l].qo=='Sound'){return}
if(l>-1&&isitouch==0&&isiphone==0&&ishoney==0){if(l>-1&&f[l].nohide!=''){f[l].performed++
checkxcustom(l)
xo=f[l].nohide,xo=fur(xo,"(x)",f[l].objectname),xo=fur(xo,"(r)",f[l].rotate),xo=fur(xo,"(o)",f[l].tval),xo=fur(xo,"(l)",parseInt(f[l].object.style.left)),xo=fur(xo,"(t)",parseInt(f[l].object.style.top))
eval (xo)}}
if(f[l].timeon==thepos&&f[i].ke=='freeform'){currentfreeform = i
setfreeformhilite()
return}
if(f[l].text==''){if(f[l].imagedown!=''&&isiphone==0&&isitouch==0&&ishoney==0){if(f[l].hint=='state'){if(f[l].acit==0){swapstate (l)
if(f[j].cfie>0){f[l].acit=z8('restorestate(' + l + ')',f[l].cfie)}}}else{xcr=.92;if(f[i].wwidth>=200){xcr=.94};if(f[i].wwidth>=300){xcr=.96};if(f[i].wwidth>=400){xcr=.97};if(f[i].wwidth>=600){xcr=.989}
if(f[l].metro==1){xscaleliteral(l,xcr)}
try{object=getObject('mainiii' + l)
object.style.display='inline'}catch(err){}}}}
if(isitouch==0&&isiphone==0&&ishoney==0){if(f[l].mds!=''){playSound (f[l].mds, l)}}
oldl=l,ldbl=getLayer(x, y, true),delayevent=0
if(ldbl>-1){delayevent=250}
l=oldl
if(l>-1){if(isandroid&&f[l].downevent=='truefalse'){l=-1}}
if(l>-1){if(isandroid&&f[l].downevent!=''){l=-1}}
if(l>-1){if(modifier==f[l].mod||f[l].mhint=='!move'){if(delayevent==0){processEvent (f[l].downevent,l)}else{de=z8('processEvent (\'' + f[l].downevent + '\',' + l + ')',delayevent)}
if(l>-1){if(f[l].downevent!=''&&f[l].downevent!='dragtarget'&&f[l].mhint!='!move'){pue=false}}}}}
if(tbro=='ie'&&modifier==2){es=z8('hideselect()',1)}
return false}
</SCRIPT>
<SCRIPT>
function NavUp(e){dpmt=-1
if(ietouch){return}
if(cactevent==false){return}
if(pue==false){pue=true
return}
if(istouchdevice){return}
y2(ltti);ltto=-1
if(dragobject>-1&&isitouch==0&&isiphone==0&&ishoney==0){nleft=parseInt(f[dragobject].object.style.left)
ntop=parseInt(f[dragobject].object.style.top)
if(f[dragobject].xdistance!=f[dragobject].xleft||f[dragobject].ydistance!=f[dragobject].xtop){if(Math.abs(nleft-f[dragobject].xdistance)<20&&Math.abs(ntop-f[dragobject].ydistance)<20){nleft=f[dragobject].xdistance,ntop=f[dragobject].ydistance,f[dragobject].object.style.left=nleft,f[dragobject].object.style.top=ntop}}
f[dragobject].lleft=nleft,f[dragobject].ttop=ntop,f[dragobject].isd=false
_dragended (dragobject)
dragended (dragobject)
dragobject = -1}
modifier=0,checkerrors=false
if(mio!=-1){tobj=getObject('main' + mio)
nl=parseInt(tobj.style.left),nt=parseInt(tobj.style.top)
mix=-1, miy=-1, pix=-1, piy=-1, ti=mio, mio=-1
if(Math.abs(nl-f[ti].xdistance)<=f[ti].accuracy&&Math.abs(nt-f[ti].ydistance)<=f[ti].accuracy){if(f[ti].downevent=='dragtarget'){_dragupx(ti)}
processEvent (f[ti].downevent,ti)
return}else{if(f[ti].downevent!=='target'&&f[ti].downevent!='dragtarget'){tobj.style.left=f[ti].lleft,tobj.style.top=f[ti].ttop
if(f[ti].photo!=''){if(f[ti].metro==1){xscaleliteral(ti,1)}
try{object=getObject('mainiii' + ti)
object.style.display='none'}catch(err){}}}
if(f[ti].downevent=='target'){processEvent (f[ti].downevent,ti)
return}
if(f[ti].downevent=='dragtarget'){_dragupx(ti)
processEvent (f[ti].downevent,ti)
return}
checkerrors=true}}
if(tbro!='ie'){x = e.pageX
y = e.pageY
if(tbro=='ienn'){if(e.shiftKey){modifier=1}
if(e.ctrlKey){modifier=2}
if(e.altKey){modifier=3}}else{if(e.modifiers & Event.SHIFT_MASK){modifier=1}
if(e.modifiers & Event.CTRL_MASK){modifier=2}
if(e.modifiers & Event.ALT_MASK){modifier=3}}
if(e.which>1){modifier=4}}else{x=event.clientX + document.body.scrollLeft,y=event.clientY + document.body.scrollTop
if(event.shiftKey){modifier=1}
if(event.ctrlKey){modifier=2}
if(event.altKey){modifier=3}
if(event.button>1){modifier=4}}
l = getLayer(x, y)
if(canvason){canvasdrawend()
canvasnum=-1,canvason=false
return}
if(l>-1){_mouseupx(l)
if(f[l].dblevent==''&&f[l].overevent==''&&f[l].downevent==''&&f[l].upevent==''){checkerrors=true}}
if(l>-1){if(f[l].imagedown!=''&&f[l].dblevent==''){if(f[l].metro==1){xscaleliteral(l,1)}
try{object=getObject('mainiii' + l)
object.style.display='none'}catch(err){}}
if(modifier==f[l].mod){processEvent (f[l].upevent,l)}else{checkerrors=true}}}
function NavDouble(e){es=z8('hideselect()',1)
return false}
var menushower=-1,menuoption=0
function _mousedoublex(l){processEvent (f[l].dblevent,l)
if(f[l].imagedown!=''){if(f[l].metro==1){xscaleliteral(l,1)}
try{object=getObject('mainiii' + l)
object.style.display='none'}catch(err){}}
mousedoublex(f[l].objectname)}
var coimo=-1
function _oimo(x,y){try{if(tbro=='ienn'||issafari==false){x=x+thewinob.scrollLeft;y=y+thewinob.scrollTop};wfine=1, hfine=1, acwidth=cwidth, acheight=cheight
if(safaripc==false){if(tbro=='ienn'){if(window.innerWidth<cwidth){wfine=0};if(window.innerHeight<cheight){hfine=0};acwidth=window.innerWidth+thewinob.scrollLeft-18, acheight=window.innerHeight+thewinob.scrollTop-18}else{if(document.body.clientWidth<cwidth){wfine=0};if(document.body.clientHeight<cheight){hfine=0};acwidth=document.body.clientWidth+document.body.scrollLeft, acheight=document.body.clientHeight+document.body.scrollTop}}else{if(window.innerWidth<cwidth){wfine=0};if(window.innerHeight<cheight){hfine=0};acwidth=window.innerWidth+document.body.scrollLeft-18, acheight=window.innerHeight+document.body.scrollTop-18}
if(isiphone==1||isitouch==1){if((wfine==0&&x>acwidth)||(hfine==0&&y>acheight)){return}};l=-1
for (j=currentobjects.length-1; j>-1; j--){i=currentobjects[j];if((typeof(i)=='undefined'||i==-1)&&thepos>-1){break}else{if(typeof(i)!='undefined'&&i!=-1){ow=parseInt(f[i].object.style.width);oh=parseInt(f[i].object.style.height);ox=parseInt(f[i].object.style.left);oy=parseInt(f[i].object.style.top);if(tbro=='ie'){ow=(zratio)*ow;oh=(zratio)*oh;ox=(zratio)*ox;oy=(zratio)*oy};if(x>=ox&&x<=ox+ow&&y>=oy&&y<=oy+oh){l = i;break}}}}
if(coimo!=-1){f[coimo].imo=false};if(l>-1){f[l].imo=true};if(l==-1){if(coimo!=-1){f[coimo].imo=false}};if(l!=coimo){coimo=l;return l}else{return -1}}catch(err){}}
function CheckButs(e){modifier=0
if(mix>-1){pue=true
tobj=getObject('main' + mio)
if(tbro!='ie'){nl=(e.pageX) - mix,nt=(e.pageY) - miy}else{if(isdesktop){nl=((event.clientX + document.body.scrollLeft)-mix) / zratio,nt=((event.clientY + document.body.scrollTop)-miy) / zratio}else{nl=(event.clientX + document.body.scrollLeft)-mix,nt=(event.clientY + document.body.scrollTop)-miy}}
if(nl<0){nl=0}
if(nt<0){nt=0}
if(nl+f[mio].wwidth>cwidth){nl=cwidth-f[mio].wwidth}
if(nt+f[mio].hheight>cheight){nt=cheight-f[mio].hheight}
tobj.style.left=nl,tobj.style.top=nt
if(f[mio].sequence==false){hamarker=false;for (j=0; j<currentobjects.length; j++){i=currentobjects[j];if(f[i].og!=''&&f[i].og==f[mio].og){if(f[i].ismarker==true){hamarker=true;break}}}                        
if(hamarker==false){for (j=0; j<currentobjects.length; j++){i=currentobjects[j]
if(f[i].og!=''&&f[i].og==f[mio].og&&f[i].ismarker==false){tobj=getObject('main'+i)
xoffset=f[i].lleft-f[mio].lleft
yoffset=f[i].ttop-f[mio].ttop
tobj.style.left = nl + xoffset
tobj.style.top = nt + yoffset}}}}}
if(tbro!='ie'){if(typeof(e)=='undefined'){return}
x = e.pageX
y = e.pageY
if(tbro=='ienn'){if(e.shiftKey){modifier=1}
if(e.ctrlKey){modifier=2}
if(e.altKey){modifier=3}}else{if(e.modifiers & Event.SHIFT_MASK){modifier=1}
if(e.modifiers & Event.CTRL_MASK){modifier=2}
if(e.modifiers & Event.ALT_MASK){modifier=3}}}else{x=event.clientX + document.body.scrollLeft
y=event.clientY + document.body.scrollTop
if(event.shiftKey){modifier=1}
if(event.ctrlKey){modifier=2}
if(event.altKey){modifier=3}}
tpix=x, tpiy=y
cux=_oimo(x,y);if(cux>-1){if(oimo(f[cux].objectname)==false){return}}
l = getLayer(x, y)
if(canvason){canvasdraw(x, y, l)
return}
if(dragobject>-1&&isitouch==0&&isiphone==0&&ishoney==0){lastPositionx=x,lastPositiony=y
newleft=dragsx+lastPositionx/zratio-dragx/zratio,newtop=dragsy+lastPositiony/zratio-dragy/zratio,f[dragobject].object.style.left=newleft,f[dragobject].object.style.top=newtop
_dragging(dragobject)
return false}
if(l!=-1){_mousemove(l,x,y)
if(f[l].ftext!=''){return}
if(istouchdevice==false&&l!=ltto){y2(ltti);ltto=-1}
if(f[l].qo=='Sound'){return}}
for (j=0; j<currentobjects.length; j++){if(typeof(currentobjects[j])=='undefined'||currentobjects[j]==-1){break}
i=currentobjects[j]
if(i!=l&&f[i].imageover!=''&&f[i].mouseover==1&&((f[i].timeon<=thepos&&f[i].timeoff>thepos)||(thepos==-1&&f[i].startup=='true'))){if(i!=menushower){object=getObject('maini' + i)
object.src=fur(f[i].photo,'kpani_','')
f[i].mouseover = 0}}
if(i!=l&&f[i].mos!=''){f[i].mouseover = 0}}
if(l>-1){if(f[l].kme!=''){glossobject=l
showglossary(f[l].kme.toLowerCase())}
if(f[l].mouseover==0){if(f[l].mos!=''){playSound (f[l].mos)
if(f[l].imageover==''){f[l].mouseover=1}}}
if(modifier==f[l].mod){if(f[l].overevent!=''){pue=true}
processEvent (f[l].overevent,l)}
if(f[l].imageover!=''){if(f[l].mouseover==0){object=getObject('maini' + l)
object.src=f[l].imageover
f[l].mouseover = 1}}}
if(typeof(currentfreeform)=='undefined'){currentfreeform=-1}
if(currentfreeform!=-1){return}else{return false}}
</SCRIPT>
<SCRIPT>
function checkkeys(thekey){kefound=false
for (j=0; j<currentobjects.length; j++){i=currentobjects[j]
if(typeof(i)=='undefined'||i==-1){break}
tm=f[i].sck
if(tm==thekey||f[i].ke=='freeform'){kefound=true;break}}
return kefound}
function ikee(){kefound=false
for (j=0; j<currentobjects.length; j++){i=currentobjects[j]
if(typeof(i)=='undefined'||i==-1){break}
tm=f[i].ke
if(tm=='tiny'){kefound=true;break}}
return kefound}
function textdisp(thetext){thetext=fur(thetext,String.fromCharCode(170),'<BR>')
return thetext}
function textstring(achar, index){}
function updatefreeform(ff, thecode){ro=getObject('main'+ff)
if(ro.style.visibility=='hidden'){showIt(l,0,0)}}
function NavKeyP(e,thecode){if(isios==1||isandroid){return}
if(keyeventkilled==true){return}
if(thecode!=2){if(tbro=='ie'){thekey=event.keyCode}else{thekey=e.which}}
_keypressx(thekey)
if(thekey==16){return}
if(thekey==9){ukd=false
for (jjjff=0; jjjff<currentobjects.length; jjjff++){iiiff=currentobjects[jjjff]
if(typeof(iiiff)=='undefined'||iiiff==-1){break}else{if(f[iiiff].ke=='freeform'){ukd=true;break}}}
if(ukd){setnextfreeform()}}
if(checkkey!=-1){thekey=checkkey}
freeformupdated=false
for (j=0; j<currentobjects.length; j++){i=currentobjects[j]
if(typeof(i)=='undefined'||i==-1){break}
if(checkkey!=-1&&thekey!=8&&thekey!=13){}else{if(f[i].ke=='freeform'&&i==currentfreeform){if(thekey==13&&f[i].allowenter==false){}else{updatefreeform(i,thekey)
freeformupdated=true
return}}}}
if(freeformupdated==true){return}
cmu=true
for (j=0; j<currentobjects.length; j++){i=currentobjects[j]
if(typeof(i)=='undefined'||i==-1){break}
tkeyin=String.fromCharCode(thekey);
tkeycompare=String.fromCharCode(f[i].sck);
tkeyin=tkeyin.toLowerCase()
tkeycompare=tkeycompare.toLowerCase()
if(tkeycompare==tkeyin&&(f[i].mod==modifier||f[i].mod==0)){if(f[i].downevent!=''||f[i].upevent!=''||f[i].overevent!=''||f[i].dblevent!=''||f[i].ke!=''){if(thepos<f[i].eventoff||thepos==-1){cmu=false
origi=i
if(f[origi].downevent!=''){processEvent(f[origi].downevent,origi)}
if(f[origi].upevent!=''){processEvent(f[origi].upevent,origi)}
if(f[origi].overevent!=''){processEvent(f[origi].overevent,origi)}
if(f[origi].dblevent!=''){processEvent(f[origi].dblevent,origi)}
if(f[origi].ke!=''){processEvent(f[origi].ke,origi)};break}}}}
if(tbro=='ie'){event.keyCode=0,event.returnValue=false
return false}else{return false}}
var keyeventkilled=true
var modifier=0,checkkey=-1
var canusekeys=true
function NavKey(e,thecode){if(isios==1||isandroid){return}
keyeventkilled=true,modifier=0,checkkey=-1
if(tbro=='ie'){thekey=event.keyCode}else{thekey=e.which}
if(thekey==13){hidekeyboard()}
if(currentfreeform==-1){ssthen=-1;for (j=0; j<currentobjects.length; j++){i=currentobjects[j];if(f[i].object.innerHTML.indexOf('_1_ss.jpg')>-1){ssthen=i;break}};if(ssthen>-1){if(thekey==37){goleft(f[ssthen].oid,f[ssthen].wwidth);return}else{if(thekey==39){goright(f[ssthen].oid,f[ssthen].wwidth);return}}}}
if(thekey==0&&isandroid){return}
if(thekey==122){return}
if(thekey==13&&currentfreeform!=-1){if(f[currentfreeform].objectname=='searchform'){processEvent('search')
return}}
docheck=true
if(currentfreeform!=-1&&thekey==8){docheck=false}
if(currentfreeform!=-1&&thekey==13){docheck=false}
if(currentfreeform!=-1&&thekey==46){docheck=false}
if(currentfreeform!=-1&&thekey==37){docheck=false}
if(currentfreeform!=-1&&thekey==39){docheck=false}
if(docheck==true&&(thekey==0||thekey==8||thekey==13||thekey==27||thekey==9||thekey==46||thekey==37||thekey==39||thekey==40||thekey==38||thekey==33||thekey==34||thekey==35||thekey==36||thekey==112||thekey==113||thekey==114||thekey==115||thekey==116||thekey==117||thekey==118||thekey==119||thekey==120||thekey==121||thekey==122||thekey==123)){keyeventkilled=false
checkkey=thekey
NavKeyP (e,-2)
keyeventkilled=true
if(tbro=='ie'){event.keyCode=0,event.returnValue=false}else{return false}}else{keyeventkilled=false}
if(currentfreeform!=-1&&thekey!=8&&thekey!=46&&thekey!=37){ro=getObject('mainp'+currentfreeform)
if(isandroid||isios==1){if(f[currentfreeform].maxchars==1&&ro.value!=''){setnextfreeform();return false}}else{if(f[currentfreeform].maxchars==1){ro.value='';setnextfreeform();return}}
if(ro.value.length>=f[currentfreeform].maxchars){return false}}
return}
document.write ("<DIV id='presh' style='overflow:hidden;position:absolute;width:" + cwidth + "px;height:" + cheight + "px;left:0px;top:0px;'>")
var thewinob = getObject('presh')
if(tbro!='ie'){fixstuff()}
document.write ("<DIV id='_kpbg' style='visibility:visible;position:absolute;left:0px;top:0px;width:" + cwidth + "px;height:" + cheight + "px'><IMG id='_kpbg1' SRC='as9144_388587118.png' width=" + cwidth + " height=" + cheight + "></DIV>")
if(tbro=='ie'){document.body.onmousedown=NavDown
document.body.onmouseup=NavUp
document.body.ondblclick=NavDouble
document.body.onkeydown=NavKey
document.body.onkeypress=NavKeyP
document.body.onmousemove=CheckButs}
document.write ("<DIV id='fsound' style='overflow:hidden;position:absolute;visibility:hidden;width:100px;height:100px;left:0px;top:0px;'></DIV>")
</SCRIPT>
<SCRIPT>
function showsound(){for(ilxj=0; ilxj<f.length; ilxj++){if(f[ilxj].objectname.toLowerCase()=='kpsoundloader'){f[ilxj].timeon=0;f[ilxj].timeoff=0;f[ilxj].mo_timeon=0;f[ilxj].mo_timeoff=0, f[ilxj].object.style.visibility='hidden';f[ilxj].object.style.overflow='hidden';break}}}
function stopsound(){aap.innerHTML='';omdp=-1;showsound()}
var aap=getObject('fsound')
var omdp=-1
usewebkitaudio=false
function playSoundd(snd, lxmds){fred=z8("playSound('" + snd + "'," + lxmds + ")",500)}
if(usewebkitaudio){var mySource;
function bufferSound(event) {var request = event.target;var source = myAudioContext.createBufferSource();source.buffer = myAudioContext.createBuffer(request.response, false);f[request.mus].soundobject=source}
var myAudioContext=new webkitAudioContext();
for(ilxj=0; ilxj<f.length; ilxj++){f[ilxj].soundobject=-1;f[ilxj].buffer='';if(f[ilxj].mds!=''){tmp=new String(f[ilxj].mds).split('|');useafile='';for(taf=0; taf<tmp.length; taf++){if(tmp[taf].indexOf('mp3')>-1){useafile=tmp[taf];break}};if(useafile==''){for(taf=0; taf<tmp.length; taf++){if(tmp[taf].indexOf('aac')>-1){useafile=tmp[taf];break}}};if(useafile==''){for(taf=0; taf<tmp.length; taf++){if(tmp[taf].indexOf('wav')>-1){useafile=tmp[taf];break}}};if(useafile==''){for(taf=0; taf<tmp.length; taf++){if(tmp[taf].indexOf('m4a')>-1){useafile=tmp[taf];break}}};if(useafile!=''){request = new XMLHttpRequest();request.mus=ilxj;request.soundName = useafile;request.open('GET', useafile, true);request.responseType = 'arraybuffer';request.addEventListener('load', bufferSound, false);request.send()}}}}else{setsounds()}
for(ilxj=0; ilxj<f.length; ilxj++){if(f[ilxj].mds!=''&&f[ilxj].mus=='1'){f[ilxj].mds=''}}
function setsounds(){for(ilxj=0; ilxj<f.length; ilxj++){f[ilxj].soundobject=-1
if(f[ilxj].mds!=''){mymsg="<audio preload id='moa" + ilxj + "'>"
tmp=new String(f[ilxj].mds).split('|')
for(taf=0; taf<tmp.length; taf++){if(tmp[taf].length>4){mymsg=mymsg + "<source src='" + tmp[taf] + "'>"}}
mymsg=mymsg + '</audio>'
document.write ("<DIV style='position:absolute;visibility:hidden;width:1px;height:1px:left:-1000px;top:-1000px;'>" + mymsg + "</DIV>")
f[ilxj].soundobject=getObject('moa'+ilxj)}}}
function playSound(snd, lxmds){if(f[lxmds].mus=='-1'){return}
if(f[lxmds].soundobject!='-1'){if(usewebkitaudio){source = myAudioContext.createBufferSource();source.buffer = f[lxmds].soundobject.buffer;source.connect(myAudioContext.destination);source.noteOn(0);}else{f[lxmds].soundobject.play()}}else{if(snd.indexOf('|')==-1){snd=snd.toLowerCase()}else{tmp=new String(snd).split('|'),useafile=''
for(taf=0; taf<tmp.length; taf++){if(tmp[taf].indexOf('.mp3')>-1&&supports_media('audio/mpeg','audio')){useafile=tmp[taf];break}
if(tmp[taf].indexOf('.m4a')>-1&&supports_media('audio/m4a','audio')){useafile=tmp[taf];break}
if(tmp[taf].indexOf('.aac')>-1&&supports_media('audio/aac','audio')){useafile=tmp[taf];break}
if(tmp[taf].indexOf('.aif')>-1&&supports_media('audio/x-aiff','audio')){useafile=tmp[taf];break}
if(tmp[taf].indexOf('.wav')>-1&&supports_media('audio/wav','audio')){useafile=tmp[taf];break}}
snd=useafile.toLowerCase()}
for(ilxj=0; ilxj<f.length; ilxj++){if(f[ilxj].objectname.toLowerCase()=='kpsoundloader'){f[ilxj].timeon=0;f[ilxj].timeoff=0;f[ilxj].mo_timeon=0;f[ilxj].mo_timeoff=0, f[ilxj].object.style.visibility='hidden';f[ilxj].object.style.overflow='hidden';break}}
positionx('kpsoundloader',-100,-100)
if(aap.innerHTML.indexOf("'" + snd + "'")>-1||aap.innerHTML.indexOf('"' + snd + '"')>-1){omdp=-1;aap.innerHTML='';return}
aaps="<audio id='mds' onplaying='showsound()' onended='stopsound()' src='" + snd + "'></audio>"
aap.innerHTML=aaps,omdp=lxmds,cx=parseInt(f[lxmds].object.style.left), cy=parseInt(f[lxmds].object.style.top), cxx=parseInt(f[lxmds].object.style.width), cyy=parseInt(f[lxmds].object.style.height)
positionx('kpsoundloader',(cxx-52)/2+cx-4,(cyy-47)/2+cy-1)
pts=z8("setonoffx('kpsoundloader',getstepnumber(),getstepnumber()+1)",1)
document.getElementById("mds").play()}}
function customalert(thestring, sobject, customcommand){if(thestring==''){usemessagebox=false
return}
msgfound=false
msgfoundc=false
for (i=0; i<f.length; i++){if(f[i].og=='MsgBox'){msgfound=true;break}}
for (i=0; i<f.length; i++){if(f[i].og=='MsgBoxCancel'){msgfoundc=true;break}}
showmessage=thestring
if(thepos==-1){msgfound=false}
if(msgfound){if(typeof(customcommand)=='undefined'){if(typeof(sobject)!='undefined'&&sobject!=-1){customcommand=f[sobject].hint}else{customcommand = ''}}
if(fur(customcommand,'|cancel','')==''){customcommand='xhidegroup' + customcommand}
if(customcommand==''){customcommand='hidegroup'}
if(customcommand.indexOf('|cancel')!=-1&&msgfoundc==true){showgroup ('MsgBoxCancel10', sobject)}else{showgroup ('MsgBox10', sobject)}
for (j=0; j<currentobjects.length; j++){i=currentobjects[j]
if(typeof(i)=='undefined'||i==-1){break}else{if(f[i].hint=='OK'&&fur(customcommand,'|cancel','')!=''){if(f[i]._ke=='hidegroup'){f[i].ke=fur(customcommand,'|cancel','')}
if(f[i]._overevent=='hidegroup'){f[i].overevent=fur(customcommand,'|cancel','')}
if(f[i]._downevent=='hidegroup'){f[i].downevent=fur(customcommand,'|cancel','')}
if(f[i]._upevent=='hidegroup'){f[i].upevent=fur(customcommand,'|cancel','')}
if(f[i]._dblevent=='hidegroup'){f[i].dblevent=fur(customcommand,'|cancel','')}}}}
haspaused = false
if(pausetime==0){haspaused = true
y2 (loadnextfile)
loadnextfile = 0
pausestart2 = new Date()
pausedfor = pausestart2.getTime()}}else{alert (showmessage)}}
tobj=getObject('starting')
tobj.style.visibility='hidden'
intPath=(getArg('interfacepath'))
function fixcode(s1,s2,s3){sp1=s1.indexOf(s2)
sp2=s1.indexOf(s3)
if(sp1>-1&&sp2>-1){return (s1.substring(0,sp1) + s1.substring(sp2,s1.length))}else{return (s1)}}
function fixtext(i){if(tbro=='ie'){}}
for (i=0; i<f.length; i++){if(intPath!=''){if(f[i].ii=='1'&&f[i].photo!=''){f[i].photo=intPath + f[i].photo}}
var rctopl=0,rcbottoml=0,rctopr=0,rcbottomr=0,xcss=''
if(new String(f[i].rc).indexOf('.')>-1){tmp = new String(f[i].rc).split('.')
if(new String(f[i].rc).substring(1,2)=='1'){rctopl=tmp[1]}
if(new String(f[i].rc).substring(2,3)=='1'){rctopr=tmp[1]}
if(new String(f[i].rc).substring(3,4)=='1'){rcbottomr=tmp[1]}
if(new String(f[i].rc).substring(4,5)=='1'){rcbottoml=tmp[1]}}
for(ixcss=0; ixcss<f.length; ixcss++){f[ixcss].xcss=''
switch (f[ixcss].oid){}}
if(f[i].text!=''){fixtext(i)
bc = ''
if(f[i].backcolor!='transparent'){bc = ' bgcolor=' + f[i].backcolor}
if(f[i].instruct=='true'){}else{tw = ' WIDTH=100% height=' + (f[i].hheight - ((f[i].bwidth)*2)) + 'px '
f[i].rth=(f[i].hheight-((f[i].bwidth)*2))
if((tbro=='nn'||tbro=='ienn')&&iskhtml==false){tw = ' WIDTH=100% height=' + (f[i].hheight) + 'px '
f[i].rth=f[i].hheight}
if(tbro=='ie'){if(f[i].valign=='Top'&&f[i].halign=='left'){if(navp=='Mac'){tw=' '}}}else{if(f[i].bstyle!=''){tw = "bordercolor=" + f[i].bcolor + " border=" + f[i].bwidth + " " + tw}}
if(f[i].ke=='freeform'){if(f[i].parameter.substring(0,3)=='!!!'){f[i].allowenter = true}else{f[i].allowenter = false}
mp=f[i].parameter.indexOf('')
f[i].maxchars=f[i].parameter.substring(mp+1,f[i].parameter.length)
if(f[i].usernote||f[i].feedback){f[i].maxchars=4096;f[i].allowenter=true}}
bt = '<TABLE ' + tw +  bc + ' cellspacing=0 cellpadding=' + f[i].margin + '><TD valign=' + f[i].valign + ' align=' + f[i].halign + '><SPAN id=mainp' + i + '>' + f[i].text + '</span></td></table>'}
if(f[i].ke=='freeform'){tw=f[i].xcss+'background-color:' + f[i].backcolor + ';'
if(f[i].hint=='range'){if(tbro!='ie'){tw=tw + 'width:100%;', tw=tw + 'height:100%;'}else{ptw=tw + 'width:' + (f[i].wwidth) + 'px;', tw=tw + 'height:' + (f[i].hheight) + 'px;'}}else{tw=tw + 'width:' + (f[i].wwidth) + 'px;', tw=tw + 'height:' + (f[i].hheight) + 'px;'}
tw=tw + 'padding:' + f[i].margin + 'px;'
tw=tw + 'border-color:' + f[i].bcolor + ';'
if(tbro=='ie'){tw=tw + 'border-width:0px;'}else{tw=tw + 'border-width:' + f[i].bwidth + 'px;'}
if(f[i].allowenter||f[i].maxchars==4096){tw=tw + 'overflow:auto;resize:none;outline:none;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;'}else{tw=tw + 'overflow:hidden;resize:none;outline:none;margin-top:0px;margin-bottom:0px;margin-left:0px;margin-right:0px;'}
if(rctopl>0||rcbottoml>0||rctopr>0||rcbottomr>0){tw=tw + 'border-bottom-left-radius:' + rcbottoml + 'px;border-bottom-right-radius:' + rcbottomr + 'px;border-top-left-radius:' + rctopl + 'px;border-top-right-radius:' + rctopr + 'px;'}
if(f[i].maxchars>1&&f[i].aspassword==0&&(f[i].allowenter||(isiphone==0&&isitouch==0&&issafari==0))){bt = '<TEXTAREA autocorrect="off" autocapitalize="off" spellcheck="false" style="' + tw + '" id=mainp' + i + '></TEXTAREA>'
if(f[i].sck==1){f[i].sck=0}}else{if(f[i].sck==1){bt = '<INPUT maxlength=' + f[i].maxchars + ' type="number" autocorrect="off" autocapitalize="off" spellcheck="false" style="' + tw + '" id=mainp' + i + '>'
f[i].sck=0}else{ttype='autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"'
if(f[i].hint=='numeric'){ttype=ttype + ' type="number" '}
if(f[i].hint=='email'){ttype=ttype + ' type="email" '}
if(f[i].hint=='url'){ttype=ttype + ' type="url" '}
if(f[i].hint=='everything'){ttype = ' '}
if(f[i].hint=='nocaps'){ttype = ' type="text" autocomplete="off" autocapitalize="off" '}
if(f[i].hint=='nocapsx'){ttype = ' type="text" autocomplete="off" autocapitalize="off" '}
if(f[i].hint=='caps'){ttype = ' type="text" autocomplete="off" autocorrect="off" spellcheck="false" '}
if(f[i].hint=='password'){ttype=ttype + ' type="password" '}
if(f[i].aspassword==1){ttype=ttype + ' type="password" '}
if(f[i].hint=='date'){ttype=ttype + ' type="date" '}
if(f[i].hint=='time'){ttype=ttype + ' type="time" '}
if(f[i].hint=='datetime'){ttype=ttype + ' type="datetime" '}
if(f[i].hint=='month'){ttype=ttype + ' type="month" '}
if(f[i].hint=='datetime-local'){ttype=ttype + ' type="datetime-local" '}
if(f[i].hint=='range'){ttype=ttype + ' type="range" min="0" max="100" '}
if(ttype.indexOf('type=')==-1){ttype='type="text" ' + ttype}
bt = '<INPUT maxlength=' + f[i].maxchars + ' ' + ttype + ' style="' + tw + '" id=mainp' + i + '>'}}}
if(typeof(bt)=='undefined'){bt=''}
if(f[i].percent==true){bt=bt.replace('%%scoreaspercent%%','0%')
bt=bt.replace('%%totalscore%%',totalscore)
bt=bt.replace('%%question%%','0')}
if(tbro!='ie'){f[i].rtext=bt.replace('<SPAN id=mainp' + i + '>','¬¬¬<SPAN id=mainp' + i + '>')
f[i].rtext=fixcode(f[i].rtext,'<SPAN id=mainp' + i + '>','</span>')}
bc = ''
if(f[i].backcolor!='transparent'){bc = ' bgcolor=' + f[i].backcolor
if(tbro=='ie'){bc = 'background-color:' + f[i].backcolor}}
sd=''
if(f[i].bstyle!=''&&tbro=='ie'){sd = ";border-color:" + f[i].bcolor + ";border-style:" + f[i].bstyle + ";border-width:" + f[i].bwidth}
if(f[i].text.indexOf('playerflv.swf')>-1||f[i].text.indexOf('vimeo.com')>-1||f[i].text.indexOf('<video')>-1||f[i].text.indexOf('application/x-shockwave-flash')>-1||f[i].text.indexOf('application/x-oleobject')>-1||f[i].text.indexOf('<IFRAME')>-1||f[i].text.indexOf('clsid:d27cdb6e-ae6d-11cf-96b8-444553540000')>-1||f[i].text.indexOf('CLSID:DE281F3F-F02E-4465-BA50-081DDC97F3D1')>-1||f[i].text.indexOf('clsid:166B1BCA-3F9C-11CF-8075-444553540000')>-1||f[i].text.indexOf('clsid:D27CDB6E-AE6D-11cf-96B8-444553540000')>-1||f[i].text.indexOf('clsid:CFCDAA03-8BE4-11cf-B84B-0020AFBBCCFA')>-1||f[i].text.indexOf('application/x-mplayer2')>-1||f[i].text.indexOf('clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B')>-1){if(f[i].loading!='true'){f[i].ftext = bt
bt=''}}
tw='hidden'
if(f[i].text.indexOf('gotostepx')>-1||f[i].text.indexOf('%%')>-1){f[i].autoscroll=true
if(issafari){tw='hidden'}}
if(f[i].text!=''&&f[i].ke!='freeform'&&f[i].valign=='Top'&&f[i].halign=='left'){f[i].autoscroll=true
if(issafari){tw='hidden'}}
if(f[i].feedback||f[i].usernote){f[i].autoscroll=true}
if(f[i].text.indexOf(' usegrid=')>1){tw='visible'}
nstring="<TABLE style='border-bottom-left-radius:" + rcbottoml + "px;" + f[i].xcss + "border-bottom-right-radius:" + rcbottomr + "px;border-top-left-radius:" + rctopl + "px;border-top-right-radius:" + rctopr + "px;' "
bt=bt.replace('<TABLE ',nstring)
document.write('<DIV id="main' + i + '" style="overflow:' + tw + ';' + bc + ';position:absolute;' + f[i].xcss + 'left:' + f[i].lleft + 'px;top:' + f[i].ttop + 'px;width:' + f[i].wwidth + 'px;height:' + f[i].hheight + 'px;border-bottom-left-radius:' + rcbottoml + 'px;border-bottom-right-radius:' + rcbottomr + 'px;border-top-left-radius:' + rctopl + 'px;border-top-right-radius:' + rctopr + 'px;visibility:hidden' + sd + ';">' + bt + '</DIV>')
if(f[i].text.indexOf('divbg="')>-1){divbg=f[i].text.substring(f[i].text.indexOf('divbg="')+7,f[i].text.length)
if(divbg.indexOf('>')>-1){divbg=divbg.substring(0,divbg.indexOf('>')-1)
if(divbg!=''){tflashdo = getObject('main'+i)
tflashdo.style.backgroundImage='url(' + divbg + ')'}}}}else{loadimage = ''
ihs=''
ihe=''
if(f[i].loading=='true'){loadimage = ' SRC=' + f[i].photo
document.write('<DIV class=' + f[i].theclass + ' id="main' + i + '" style="overflow:hidden;position:absolute;' + f[i].xcss + 'left:' + f[i].lleft + 'px;top:' + f[i].ttop + 'px;width:' + f[i].wwidth + 'px;height:' + f[i].hheight + 'px;border-bottom-left-radius:' + rcbottoml + 'px;border-bottom-right-radius:' + rcbottomr + 'px;border-top-left-radius:' + rctopl + 'px;border-top-right-radius:' + rctopr + 'px;visibility:hidden;">' + ihs + '<IMG border=0 alt="' + f[i].alt + '" ' + loadimage + ' id="maini' + i + '" width=' + f[i].wwidth + ' height=' + f[i].hheight + ';border-bottom-left-radius:' + rcbottoml + 'px;border-bottom-right-radius:' + rcbottomr + 'px;border-top-left-radius:' + rctopl + 'px;border-top-right-radius:' + rctopr + 'px;>' + ihe + '</DIV>')}else{mo=' '
if(f[i].downevent=='truefalse'||f[i].xevent=='truefalse'){ihe='<IMG src="' + f[i].parameter + '"  id="mainiiitf' + i + '"' + ' width=' + f[i].wwidth + ' height=' + f[i].hheight + ' style="position:absolute;' + f[i].xcss + 'top:0px;left:0px;display:none;border-bottom-left-radius:' + rcbottoml + 'px;border-bottom-right-radius:' + rcbottomr + 'px;border-top-left-radius:' + rctopl + 'px;border-top-right-radius:' + rctopr + 'px;">'
document.write('<DIV title="' + f[i].srtitle + '" id="main' + i + '" style="overflow:hidden;position:absolute;left:' + f[i].lleft + 'px;top:' + f[i].ttop + 'px;width:' + f[i].wwidth + 'px;height:' + f[i].hheight + 'px;' + f[i].xcss + 'visibility:hidden;border-bottom-left-radius:' + rcbottoml + 'px;border-bottom-right-radius:' + rcbottomr + 'px;border-top-left-radius:' + rctopl + 'px;border-top-right-radius:' + rctopr + 'px;">' + ihs + '<IMG border=0 ' + loadimage + ' id="maini' + i + '" onload="completed()" onerror="errorcompleted(' + i + ')" width=' + f[i].wwidth + ' height=' + f[i].hheight + ' style="border-bottom-left-radius:' + rcbottoml + 'px;border-bottom-right-radius:' + rcbottomr + 'px;border-top-left-radius:' + rctopl + 'px;border-top-right-radius:' + rctopr + 'px;">' + ihe + '</DIV>')}else{if(f[i].imagedown!=''){ihe='<IMG src="' + f[i].imagedown + '"  id="mainiii' + i + '"' + ' width=' + f[i].wwidth + ' height=' + f[i].hheight + ' style="position:absolute;' + f[i].xcss + 'top:0px;left:0px;display:none;border-bottom-left-radius:' + rcbottoml + 'px;border-bottom-right-radius:' + rcbottomr + 'px;border-top-left-radius:' + rctopl + 'px;border-top-right-radius:' + rctopr + 'px;">'
document.write('<DIV title="' + f[i].srtitle + '" id="main' + i + '" style="overflow:hidden;position:absolute;left:' + f[i].lleft + 'px;top:' + f[i].ttop + 'px;width:' + f[i].wwidth + 'px;height:' + f[i].hheight + 'px;' + f[i].xcss + 'visibility:hidden;border-bottom-left-radius:' + rcbottoml + 'px;border-bottom-right-radius:' + rcbottomr + 'px;border-top-left-radius:' + rctopl + 'px;border-top-right-radius:' + rctopr + 'px;">' + ihs + '<IMG border=0 ' + loadimage + ' id="maini' + i + '" onload="completed()" onerror="errorcompleted(' + i + ')" width=' + f[i].wwidth + ' height=' + f[i].hheight + ' style="border-bottom-left-radius:' + rcbottoml + 'px;border-bottom-right-radius:' + rcbottomr + 'px;border-top-left-radius:' + rctopl + 'px;border-top-right-radius:' + rctopr + 'px;">' + ihe + '</DIV>')}else{document.write('<DIV title="' + f[i].srtitle + '" id="main' + i + '" style="overflow:hidden;position:absolute;left:' + f[i].lleft + 'px;top:' + f[i].ttop + 'px;width:' + f[i].wwidth + 'px;height:' + f[i].hheight + 'px;' + f[i].xcss + 'visibility:hidden;border-bottom-left-radius:' + rcbottoml + 'px;border-bottom-right-radius:' + rcbottomr + 'px;border-top-left-radius:' + rctopl + 'px;border-top-right-radius:' + rctopr + 'px;">' + ihs + '<IMG border=0 ' + loadimage + ' id="maini' + i + '" onload="completed()" onerror="errorcompleted(' + i + ')" width=' + f[i].wwidth + ' height=' + f[i].hheight + ' style="border-bottom-left-radius:' + rcbottoml + 'px;border-bottom-right-radius:' + rcbottomr + 'px;border-top-left-radius:' + rctopl + 'px;border-top-right-radius:' + rctopr + 'px;">' + ihe + '</DIV>')}}}}}
for (i=0; i<f.length; i++){if(f[i].loading=='true'){t=getObject('main'+i)
t.style.visibility='visible'}}
document.write("<IMG src='_kpinvis.gif' name='startup' id='startup' style='position:absolute;left:0px;top:0px;width:540px;height:852px;visibility:hidden;'>")
ebi='_kpinvis.gif'
if(isie7==true||tbro=='ienn'){ebi='_kpoiseethrough.png'}
document.write("<IMG src='" + ebi + "' name='eblocker' id='eblocker' style='opacity:1;position:absolute;left:-1px;top:-1px;width:542px;height:854px;visibility:hidden;'>")
document.write('<DIV name="thestatus" id="thestatus" style="cursor:default;overflow:hidden;position:absolute;left:132px;top:395px;width:280px;height:62px;visibility:visible;"></DIV>')
document.write ('</DIV>')
if(loadingtext==''){updateStatus ('0%')}else{updateStatus (loadingtext + '(0%)')}
try{if(document.all){document.body.onload = preloadfiles(0)}}catch(err){}
</SCRIPT>
<DIV frameborder=0 id='statsframe' style='overflow:hidden;position:absolute;top:0px;left:0px;width:1px;height:1px;visibility:hidden'></DIV>
<SCRIPT>
for(i=0; i<f.length; i++){f[i].acit=0
if(f[i].status==4){statob=i}
if(f[i].msc.indexOf('Hand')>-1||f[i].hascevent){t=getObject('main'+i)
t.style.cursor = 'pointer'}
if(isiphone==1||isitouch==1){if(f[i].hasevent||f[i].ismarker){t=getObject('main'+i)
t.style.cursor = 'pointer'}}
if(f[i].og=='MsgBox'||f[i].og=='MsgBoxCancel'){if(f[i].ke=='hidegroup'){f[i]._ke='hidegroup'}
if(f[i].overevent=='hidegroup'){f[i]._overevent='hidegroup'}
if(f[i].downevent=='hidegroup'){f[i]._downevent='hidegroup'}
if(f[i].upevent=='hidegroup'){f[i]._upevent='hidegroup'}
if(f[i].dblevent=='hidegroup'){f[i]._dblevent='hidegroup'}}}
if(tbro=='ie'||tbro=='ienn'){tmp = navigator.appVersion.split('MSIE')
vers=parseFloat(tmp[1])
if(navigator.userAgent=='LTMM'){vers=6}
for(i=0; i<f.length; i++){if((f[i].srtitle!=''||f[i].alt!='')&&f[i].photo!=''){tx=getObject('maini'+i)
tx.title=f[i].srtitle
tx.alt=f[i].alt}
if(f[i].ma>0){if(i<=f.length-2){if(f[i+1].oid==f[i].oid){if(tbro=='ie'&&navp=='Mac'){y3(i)
f[i].hasdrop = false
f[i+1].hasdrop = false}}}}
if(f[i].og=='MsgBoxQuiz'||f[i].og=='MsgBox'||f[i].og=='MsgBoxCancel'){if(f[i].photo==''){if(f[i].text.indexOf('%%picture%%')==-1){f[i].autoscroll=true}}}
if(isiphone==1||isitouch){}else{tcu=f[i].msc
if(typeof(tcu)=='undefined'||tcu==''||tcu=='0'){tcu='default|default'}
if(tcu.indexOf('|')<1){tcu='default|' + tcu}
tcu=fur(tcu,'||','|')
tcus=tcu.split('|')
t=getObject('main'+i)
t.style.cursor=tcus[1]
if((vers>=6||tbro=='ienn')&&tcus[0]!='default'){t.style.cursor=tcus[0] + ', auto'}}}}
ie8zoom=false
if(isie8){if(screen.deviceXDPI!=screen.systemXDPI){ie8zoom=true}}
if(ie8zoom==false){for(i=0; i<f.length; i++){switch (f[i].oid){case 56:;x13=getObject('main'+i);x13.className='opac90';f[i].tval=0.1;break
case 52:;x13=getObject('main'+i);x13.className='opac90';f[i].tval=0.1;break}}}
if(issafari||isie10||isfirefox){for(i=0; i<f.length; i++){switch (f[i].oid){case 59:;z7(i,'tran59');break
case 57:;z7(i,'tran57');break
case 53:;z7(i,'tran53');break
case 50:;z7(i,'tran50');break
case 49:;z7(i,'tran49');break
case 48:;z7(i,'tran48');break
case 47:;z7(i,'tran47');break
case 46:;z7(i,'tran46');break
case 45:;z7(i,'tran45');break
case 44:;z7(i,'tran44');break
case 43:;z7(i,'tran43');break
case 42:;z7(i,'tran42');break
case 41:;z7(i,'tran41');break
case 39:;z7(i,'tran39');break
case 38:;z7(i,'tran38');break
case 37:;z7(i,'tran37');break
case 36:;z7(i,'tran36');break
case 35:;z7(i,'tran35');break
case 34:;z7(i,'tran34');break
case 33:;z7(i,'tran33');break
case 32:;z7(i,'tran32');break
case 31:;z7(i,'tran31');break
case 30:;z7(i,'tran30');break
case 29:;z7(i,'tran29');break
case 28:;z7(i,'tran28');break
case 27:;z7(i,'tran27');break
case 26:;z7(i,'tran26');break
case 24:;z7(i,'tran24');break
case 23:;z7(i,'tran23');break
case 21:;z7(i,'tran21');break
case 20:;z7(i,'tran20');break
case 19:;z7(i,'tran19');break
case 14:;z7(i,'tran14');break
case 13:;z7(i,'tran13');break
case 12:;z7(i,'tran12');break
case 11:;z7(i,'tran11');break
case 10:;z7(i,'tran10');break
case 9:;z7(i,'tran9');break
case 8:;z7(i,'tran8');break
case 7:;z7(i,'tran7');break
case 6:;z7(i,'tran6');break
case 5:;z7(i,'tran5');break
case 3:;z7(i,'tran3');break
case 2:;z7(i,'tran2');break
case 1:;z7(i,'tran1');break
case 0:;z7(i,'tran0');break}}}
function z7(i,theclass){if(isie10||isfirefox){if(f[i].theclass=='null'){f[i].theclass=''}
if(f[i].theclass!=''){if(isfirefox==false){f[i].theclass=f[i].theclass + ' ' + theclass + ' '}}else{f[i].theclass=theclass}
return}
if(f[i].theclass.indexOf('pice')>-1&&theclass.indexOf('tran')>-1){return}
x13=getObject('main'+i)
if(f[i].theclass!=''&&f[i].theclass!='null'){if(f[i].theclass.indexOf('_kpani')==-1){f[i].theclass=f[i].theclass + ' ' + theclass + ' '}
x13.className = f[i].theclass}else{x13.className = theclass}}
if(tbro!='ie'){document.captureEvents(Event.CLICK | Event.MOUSEDOWN | Event.MOUSEUP | Event.KEYPRESS | Event.DBLCLICK | Event.MOUSEMOVE)
document.onmouseup = NavUp
document.onmousedown = NavDown
document.addEventListener('dblclick',NavDouble,true)
document.onkeypress = NavKeyP
document.onkeydown = NavKey
document.onmousemove = CheckButs}
function hidecreatedmenus(){menuup=false
menushower=-1
try{}catch(err){}}
function mencommand(mctype, mcparameter){if(cactevent==false){return}
pue=false
hidecreatedmenus()
if(mctype==7){xo=mcparameter,xo=fur(xo,'##',''),xo=fur(xo,'__',"'");eval(xo)}
if(mctype==8||mctype==3){mcparameter=mcparameter*5;gotoTime(mcparameter)}
if(mctype==4){gotoNextPause()}
if(mctype==5){gotoPreviousPause()}
if(mcparameter==''){return}
if(mctype==1){mcparameter=fur(mcparameter,"__","'")
customalert (mcparameter)}
if(mctype==2){showgroup(mcparameter + '11', -1, false)}}
</SCRIPT>
<DIV id='stester' style="visibility:hidden;margin-right:0px;margin-left:0px;margin-top:0px;margin-bottom:0px;zIndex:4000;width:300px;font-size:14.705pt;overflow:auto;position:absolute;left:0px;top:0px;height:20px">freddtpp</DIV>
<SCRIPT>
var ddlistsize=13
function sdef(sname,ssize){this.stylename = sname
this.stylesize = ssize}
mystyles=new Array(0)

var doffsetsize = 1
if((issafari==false&&iskhtml==false)||safariwk==true){if(isdesktop){t=getObject('stester')
doffsetsize = (20 / (t.scrollHeight - 4))
t.style.overflow='hidden';}}
</SCRIPT>
<SCRIPT>
for(i=0; i<f.length; i++){if(f[i].ke=='freeform'){nto=getObject('mainp' + i)
ct = fur(f[i].text,'<P class=','')
ct = fur(ct,'|','')
ct = fur(ct,'>','')
try{nto.innerHTML=''
nto.className=ct
nto.value=''}catch(err){}}}
</SCRIPT>
<SCRIPT>
if(tbro=='ienn'){for(i=0; i<f.length; i++){if(f[i].tval<1){f[i].tval=1-f[i].tval}}}
function donothing(){return}
</SCRIPT>
<SCRIPT>
for(i=0; i<f.length; i++){f[i].object=getObject('main'+i)}
</SCRIPT>
<SCRIPT>
for (i=0;i<f.length;i++){if(f[i].hint=='rightclick'){f[i].mod=4;f[i].hint=''}}
function apphasloaded(){}
function apphasdownloaded(){}
function ats(){}
function resettouch(theob){tobx=xgetref(theob);if(tobx>-1){f[tobx].wta=0}}
function resettouchfull(theob){tobx=xgetref(theob);if(tobx>-1){f[tobx].wtaa=0}}
function wastouched(theob){tobx=xgetref(theob);if(tobx>-1){if(f[tobx].wta==1){return true}else{return false}}else{return false}}
function wastouchedatall(theob){tobx=xgetref(theob);if(tobx>-1){if(f[tobx].wtaa==1){return true}else{return false}}else{return false}}
function _mouseupx(tobx){date_now=new Date();time_now=date_now.getTime();clicktime=time_now-pausetime
f[tobx].tmup=clicktime
mouseupx(f[tobx].objectname)}
function _mousemove(l,x,y){mousemovex(l,x,y)}
function _mousedownx(tobx){f[tobx].wta=1,f[tobx].wtaa=1
hidekeyboard()
date_now=new Date();time_now=date_now.getTime();clicktime=time_now-pausetime
f[tobx].tmdt=clicktime,f[tobx].tmup=0
if(f[tobx].dct==0){f[tobx].lct==0;f[tobx].dct=clicktime}else{f[tobx].lct=f[tobx].dct;f[tobx].dct=clicktime}
mousedownx(f[tobx].objectname)
if(f[tobx].dct>f[tobx].lct&&f[tobx].dct-f[tobx].lct>500&&f[tobx].lct>0){f[tobx].dct=clicktime;f[tobx].lct=0}
if(f[tobx].dct>f[tobx].lct&&f[tobx].dct-f[tobx].lct<500&&f[tobx].lct>0){f[tobx].lct=0;f[tobx].dct=0
_mousedoublex(tobx)}}
function _dragupx(tobx){dragupx(f[tobx].objectname)}
function _keypressx(t){for (jggg=0; jggg<currentobjects.length; jggg++){jgg=currentobjects[jggg]
if(f[jgg].sck==t){if(f[jgg].downevent=='checkit'){for (jgggg=0; jgggg<currentobjects.length; jgggg++){jggx=currentobjects[jgggg]
if(f[jggx].sck=='check'){processEvent(f[jggx].downevent,jggx)}}}else{processEvent(f[jgg].downevent,jgg)}}}
tx=String.fromCharCode(t)
keypressx(tx,t)}
for(i=0; i<f.length; i++){f[i].rdragbottom=-1,f[i].rdragright=-1,f[i].rdragtop=-1,f[i].rdragleft=-1}
for (i=0;i<f.length;i++){f[i].acmove=0, f[i].acspeed=0, f[i].direction=0, f[i].restrict=0
if(f[i].hint.substring(0,6)=='moveme'){omds=f[i].hint.split('|')
f[i].acmove=1,f[i].acspeed=parseInt(omds[1])+1,f[i].rdragleft=omds[2],f[i].rdragtop=omds[3]
frp=omds[4];if(frp==0){frp=cwidth}
f[i].rdragright=frp-f[i].wwidth
frp=omds[5];if(frp==0){frp=cheight}
f[i].rdragbottom=frp-f[i].hheight
f[i].direction=omds[6]
f[i].restrict=omds[7]
if(f[i].restrict==1){f[i].rdragright=f[i].rdragleft+f[i].wwidth}
if(f[i].restrict==2){f[i].rdragbottom=f[i].rdragtop+f[i].hheight}}}
function listselected(t){}
function mouseupx(t){}
function cde(){}
function mousedownx(t){}
function mousedoublex(t){}
function longtouchx(t){}
function mousemovex(l,x,y){}
function searchdone(x){}
function dragupx(t){}
function keypressx(tx,t){}
var suc=-1
function getcont(){for (jggg=0; jggg<currentobjects.length; jggg++){jgg=currentobjects[jggg];if(f[jgg].hascevent){canvas = document.getElementById('mainc' + jgg);ctxwidth=f[jgg].mod;ctxcolor=f[jgg].ke;ctx = canvas.getContext('2d');break}}}
function fghj(){}
function xxnotify(nheading,nbody,ntag,nicon){xnotify(nheading,nbody,ntag,nicon)}
try{var speech=new SpeechSynthesisUtterance()
var voices=window.speechSynthesis.getVoices()
var speechobjects=new Array(256)
for (jsp=0; jsp<256; jsp++){speechobjects[jsp]=new SpeechSynthesisUtterance()
speechobjects[jsp].onend=function(event){speechon=0}}}catch(err){var speech=''}
var speechob='',speechon=0
var playsssound=0
function ps2(ihd){if(f[ihd].object.style.visibility=='visible'){processEvent('js',ihd,false)}
y1(playsssound)}
function stoptalk(oname){ofound=xgetref(oname);positionx(oname,f[ofound].xleft,f[ofound].xtop);y2(f[ofound].wcounterv);f[ofound].wcounterv=0}
function talk(oname){ofound=xgetref(oname),y2(f[ofound].wcounter),f[ofound].wcounter=0,f[ofound].wcounterv=z9('talkxx(' + ofound + ',10,10000000,50,' + f[ofound].xleft + ',' + f[ofound].xtop + ')',50)}
function talkxx(ofound,xy,time,interval,sx,sy){obname=f[ofound].objectname;if(speechob!=f[ofound].objectname){positionx(obname,sx,sy);y2(f[ofound].wcounterv);f[ofound].wcounterv=0;return};_kpyoffset=randomx(-xy,xy);positionx(obname,sx, sy+_kpyoffset)}
function xspeaka(acstext,acsrate,acsvol,acspitch,oname,lang){xspeak(acstext,acsrate,acsvol,acspitch,oname,lang)}
var globalspeechrate=1
function manualwordcheck(thewords){return thewords}
function xspeak(acstext,acsrate,acsvol,acspitch,oname,lang){acsrate=acsrate*globalspeechrate
if(isios!=1){acsrate=acsrate*2}
tonn=xgetref(oname);if(tonn>-1){if(f[tonn].qo=='Question'||f[tonn].qo=='A'||f[tonn].qo=='B'||f[tonn].qo=='C'||f[tonn].qo=='D'||f[tonn].qo=='E'||f[tonn].qo=='F'){acstext=f[tonn].object.innerText}}
if(speech==''){return}
y1(ttns);
voices=window.speechSynthesis.getVoices();
tso=xgetref(oname)
if(tso>-1){if(f[tso].voice=='2'){for(var i = 0; i < voices.length; i++ ){if(voices[i].name.indexOf('Male')>-1){speech.voice=speechSynthesis.getVoices()[i]}}}
if(f[tso].voice=='1'){for(var i = 0; i < voices.length; i++ ){if(voices[i].name.indexOf('Female')>-1){speech.voice=speechSynthesis.getVoices()[i]}}}
if(f[tso].voice=='0'||f[tso].voice==''){speech.voice=speechSynthesis.getVoices()[0]}}
newtext=acstext
newtext=fur(newtext,'@@@','%%%')
while (newtext.indexOf('%%%')>-1){spos=newtext.indexOf('%%%')
epos=newtext.indexOf('%%%',spos+1)
ffound=false,varvalue='notfound'
if(spos>-1&&epos>-1){varvalue=newtext.substring(spos+3,epos)}else{newtext=fur(newtext,'%%%','')}
for(j=0; j<f.length; j++){varvalue2=getvaluex(varvalue)
newtext=newtext.replace('%%%' + varvalue + '%%%',varvalue2)
ffound=true}
if(ffound==false){try{varvalue=window[newtext.substring(spos+3,epos)]}catch(err){varvalue=''}
varvalue=fur(varvalue,'[xxxx]','[' + i + ']')
newtext=newtext.replace('%%%' + newtext.substring(spos+3,epos) + '%%%',varvalue)}}
newtext=newtext.replace('%%title%%',document.title)
newtext=newtext.replace('%%msg%%',showmessage)
newtext=newtext.replace('%%username%%',getusername())
newtext=newtext.replace('%%userid%%',getuserid())
newtext=fur(newtext,'?','^%&*.')
newtext=fur(newtext,'^%&*.','?.')
newtext=fur(newtext,' - ',', ')
speech.volume=acsvol/10
if(isios==1){speech.rate=acsrate/5}else{speech.rate=acsrate/10}
speech.pitch=acspitch/10
speech.lang=tlangs[lang-2]
textspeaking=0
if(oname==speechob){if(speechon==2){speakit(newtext,oname,tso)
fredsa=1}else{if(speechon==1){speechSynthesis.cancel()
y1(ttns)
speechon=2}else{speakit(newtext,oname,tso)}}}else{speakit(newtext,oname,tso)}}
var ttns=0, ttnsdelay=2000, autotext=true
var tlangs=new Array('af-ZA','ms-MY','ca-ES','cs-CZ','de-DE','en-AU','en-CA','en-IN','en-NZ','en-ZA','en-GB','en-US','es-AR','es-BO','es-CL','es-CO','es-CR','es-EC','es-SV','es-ES','es-US','es-GT','es-HN','es-MX','es-NI','es-PA','es-PY','es-PE','es-PR','es-DO','es-UY','es-VE','eu-ES','fr-FR','gl-ES','hr_HR','zu-ZA','is-IS','Italiaoit-IT','it-CH','hu-HU','nl-NL','nb-NO','pl-PL','pt-BR','pt-PT','ro-RO','sk-SK','fi-FI','sv-SE','tr-TR','la')
var textspeaking=0, fredsa=0
function speakit(newtext,oname,tso){if(isfirefox){speechobjects=new Array(256)
for (jsp=0; jsp<256; jsp++){speechobjects[jsp]=new SpeechSynthesisUtterance()
speechobjects[jsp].onend=function(event){speechon=0}}}
newtext=fur(newtext,'KnowledgePresenter','Knowledge Presenter')
newtext=fur(newtext,'AppCobra','App Cobra')
newtext=newtext+' '
newtext=manualwordcheck(newtext)
speechSynthesis.cancel();speechob=oname,speechon=1;tts=newtext.split('. ')
y1(ttns),allt=0
for (jsp=0; jsp<tts.length; jsp++){speechobjects[jsp].lang=speech.lang,speechobjects[jsp].voice=speech.voice,speechobjects[jsp].volume=speech.volume,speechobjects[jsp].rate=speech.rate,speechobjects[jsp].pitch=speech.pitch,speechobjects[jsp].text=tts[jsp]+'.'
speechobjects[jsp].onend=function(e){_speechended(oname,jsp)}
if(jsp==0){speechobjects[jsp].onstart=function(e){speechstarted(oname)}}
if(speechobjects[jsp].text!='.'){allt++
if(jsp==0){textspeaking=0;speechSynthesis.speak(speechobjects[jsp])}}}
speechobjects[allt].lang=speech.lang,speechobjects[allt].voice=speech.voice,speechobjects[allt].rate=10,speechobjects[allt].volume=0.1,speechobjects[allt].text=' '
if(f[tso].gotonext){speechobjects[allt].onend=function(e){speechended(oname);if(autotext){y1(ttns);ttns=z8('gotonext()',ttnsdelay)}}}
if(f[tso].gotonext==false){speechobjects[allt].onend=function(e){speechended(oname)}}}
function _speechended(oname,ddd){if(speechon==2){textspeaking=0;speechon=0;return}
if(fredsa==1){textspeaking=-1};fredsa=0
if(isvis(oname)==false){textspeaking=0;speechon=0;return}
textspeaking++;if(textspeaking>0){if(fur(speechobjects[textspeaking].text,' ','')!=''){speechSynthesis.speak(speechobjects[textspeaking])}else{textspeaking=0;speechon=0;speechended(oname)
if(f[xgetref(oname)].gotonext&&autotext){y1(ttns);ttns=z8('gotonext()',ttnsdelay)}}}}
function speechended(oname){}
function speechstarted(oname){}
function replacetext(theob,tsource,ttarget){sart=xgetref(theob)
if(sart>-1){if(f[sart].text.indexOf(tsource)>-1){f[sart].text=fur(f[sart].text,tsource,ttarget)
f[sart].ftext=f[sart].text
updatexobject(theob)}}}
function replacealltext(tsource,ttarget){for (oixp=0;oixp<f.length;oixp++){if(f[oixp].text.indexOf(tsource)>-1){f[oixp].text=fur(f[oixp].text,tsource,ttarget)
f[oixp].ftext=f[oixp].text
updatexobject(f[oixp].objectname)}}}
function replaceparameter(theob,tsource,ttarget){sart=xgetref(theob)
if(sart>-1){if(f[sart].parameter.indexOf(tsource)>-1){f[sart].parameter=fur(f[sart].parameter,tsource,ttarget)}}}
function replaceallparameter(tsource,ttarget){for (oixp=0;oixp<f.length;oixp++){if(f[oixp].parameter.indexOf(tsource)>-1){f[oixp].parameter=fur(f[oixp].parameter,tsource,ttarget)}}}
function xnotify(nheading,nbody,ntag,nicon){if(location.protocol=='file:'){}else{try{if(ntag=''){ntag='n' + randomx(1,1000000)}
if(nicon!=''){nicon=imagesource(nicon)}
if(window.webkitNotifications.checkPermission()==0){var nf = new Notification(nheading,{'body':nbody,'tag':ntag,'icon':nicon})}else{window.webkitNotifications.requestPermission();}}catch(err){}}}
function stepchangex(t){}
function setdimensions(ixc,width,height){ixc=xgetref(ixc);ixcxo=f[ixc].object;ixcxo.innerHTML=ixcxo.innerHTML.replace('width="' + f[ixc].wwidth + '"','width="' + width + '"');ixcxo.innerHTML=ixcxo.innerHTML.replace('height="' + f[ixc].hheight + '"','height="' + height + '"');ixcxo.innerHTML=ixcxo.innerHTML.replace('width=' + f[ixc].wwidth,'width=' + width);ixcxo.innerHTML=ixcxo.innerHTML.replace('height=' + f[ixc].hheight,'height=' + height);ixcxo.style.width=width,ixcxo.style.height=height,f[ixc].wwidth=width,f[ixc].hheight=height}
function colorchanged(ccx,ccy){}
function dynamicsize(theob){xgf=xgetref(theob);if(xgf==-1){return};f[xgf].gtext=f[xgf].ftext}
function stepchangex2(t){}
function updateinfo(sresult){hidexobject('black')
hidexobject('waitanimation')
hidekeyboard()
y1(checkreturninterval)
if(sresult=='success'){gotonext()
xwritedata(escape(document.title + '_results'),myresults)
frex=cint(xreaddata(document.title + '_resultsw'))
xwritedata(escape(document.title + '_resultsw'),frex+1)
return}
if(sresult=='noname'){xmessage (smessage6)
return}
if(sresult=='nopassword'){xmessage (smessage7)
return}
if(sresult=='nolesson'){xmessage (smessage8)
return}
if(sresult=='nocourse'){xmessage (smessage9)
return}
if(sresult=='noresults'){xmessage (smessage10)
return}
if(sresult=='databaseerror'){xmessage (smessage11)
return}
if(sresult=='nodate'){xmessage (smessage12)
return}
if(sresult=='nonamepassword'){xmessage (smessage13)
return}}
function ohc(){}
function xmakemoveable(theob,speed){xgf=xgetref(theob)
f[xgf].acmove=1
f[xgf].acspeed=speed}
function xmakenotmoveable(theob){xgf=xgetref(theob)
f[xgf].acmove=0}
function objectsmoved(){}
function sipw(){}
function sipww(){for (j=0; j<f.length; j++){f[j].object.style.left=f[j].lleft
f[j].object.style.top=f[j].ttop}}
function rafsq(themessage){showamessage(themessage, 'rafsx', true)}
function rafs(){if('webkitRequestFullScreen' in document.documentElement){top.document.body.webkitRequestFullScreen()}
if('mozRequestFullScreen' in document.documentElement){top.document.body.mozRequestFullScreen()}
if('msRequestFullScreen' in document.documentElement){top.document.body.msRequestFullScreen()}}
function customx(){}
function checkxcustom(xlx){}
function calendarselected(){}
function xxcalmonth(){return calmonth+1}
function xxcalmonthstring(){return cmonths[calmonth]}
function xxcalday(){return calday}
function xxcalyear(){return calyear}
function xxtoday(){dx = new Date(); calday = dx.getDate(); calyear = dx.getFullYear(); calmonth=dx.getMonth()
docaldate(calday,calmonth,calyear)}
function xxclearcalendar(){hday=-1,hmonth=-1,hyear=-1
docaldate(calday,calmonth,calyear)}
function xxcalmonthselected(){return hmonth+1}
function xxcalmonthselectedstring(){return cmonths[hmonth]}
function xxcaldayselected(){return hday}
function xxcalyearselected(){return hyear}
function xxsetdate(dd,mm,yy){docaldate(dd,mm-1,yy)}
function xsetdateselected(dd,mm,yy){hday=dd,hmonth=mm-1,hyear=yy
docaldate(dd,mm-1,yy)}
var cdays=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday']
var cmonths=['January','February','March','April','May','June','July','August','September','October','November','December']
var msuffix=['1st','2nd','3rd','4th','5th','6th','7th','8th','9th','10th','11th','12th','13th','14th','15th','16th','17th','18th','19th','20th','21st','22nd','23rd','24th','25th','26th','27th','28th','29th','30th','31st']
function oivx(t){}
function frit(ixk){f[ixk].tval=f[ixk].oldtval
f[ixk].ttimer.className=f[ixk].fronk
f[ixk].object.style.opacity=f[ixk].oldtval}
function oivxx(ilx){fixgraph(ilx)
f[ilx].lct=0;f[ilx].dct=0;f[ilx].tmdt=0,f[ilx].tmup=0
if(f[ilx].text.indexOf('<IFRAME')>-1){if(f[ilx].text.indexOf('id=\'preload\'')>-1){f[ilx].lleft=f[ilx].xleft
f[ilx].object.style.left=f[ilx].lleft}}
if(f[ilx].text.indexOf('<IMG')>-1||f[ilx].text.indexOf('<TABLE')>-1){y1(f[ilx].icounter)
f[ilx].icounter=z8('fixascroll(' + ilx + ')',100)}
if(f[ilx].parameter.indexOf('xspeaka')>-1){if(f[ilx].timeon==thepos){y1 (playsssound)
if(f[ilx].z1>500){if(speechon==0){playsssound = z8('ps2(' + ilx + ')', 500)}}else{playsssound = z8('ps2(' + ilx + ')', 500)}}}
if(f[ilx].fronk!=''&&f[ilx].photo!=''){f[ilx].object.style.opacity=0.01
f[ilx].tval=0.01
f[ilx].ttimer=getObject('maini'+ilx)
f[ilx].ttimer.className=''
y1(f[ilx].stimer)
f[ilx].stimer = z8("frit("+ilx+")",1)}
if(f[ilx].spto==1){y2(f[ilx].sptoe);f[ilx].sptoe=z9("nextsprite('" + f[ilx].objectname + "')",f[ilx].timeouttime)}
if(f[ilx].text.indexOf("'acss")>-1){gss(f[ilx].oid)}
if(f[ilx].autostart==1&&f[ilx].z1>0&&getstepnumber()==f[ilx].timeon){if(getstepnumber()>1&&(gotime==-1||gotime=='')){if(f[ilx].playing==0){try{document.getElementById(f[ilx].objectname).currentTime=0}catch(err){}
y2(f[ilx].playcounter);obname=f[ilx].objectname;document.getElementById(obname).play()
try{document.getElementById(f[ilx].objectname).currentTime=0}catch(err){}
document.getElementById(obname+'_ab').src=obname+'_ab.png',f[ilx].playing = 1,f[ilx].playcounter = z9("txsound('" + obname + "')", 20)}}}
if(f[ilx].vautostart==1&&f[ilx].z1>0&&getstepnumber()==f[ilx].timeon){if(getstepnumber()>1&&(gotime==-1||gotime=='')){if(f[ilx].playing==0){try{document.getElementById(f[ilx].objectname).currentTime=0}catch(err){}
y2(f[ilx].playcounter);obname=f[ilx].objectname;document.getElementById(obname).play()
try{document.getElementById(f[ilx].objectname).currentTime=0}catch(err){}
f[ilx].playing=1,f[ilx].playcounter=z9("txsound('" + obname + "')", 20)}}}
if(f[ilx].vsynch==1&&f[ilx].playing==0){y2(f[ilx].playcounter);obname=f[ilx].objectname;document.getElementById(obname).play()
try{document.getElementById(f[ilx].objectname).currentTime=0}catch(err){}
f[ilx].playcounter=z9("txsound('" + obname + "')", 20)}
if(issafari==true||isiphone==1||isitouch==1){if(f[ilx].theclass.substring(0,6)=='_kpani'){if(f[ilx].object.style.visibility=='visible'){return};xoldval=f[ilx].tval;f[ilx].tval='0.0';f[ilx].object.className=f[ilx].theclass;y1(f[ilx].ttimer);f[ilx].ttimer=z8('f[' + ilx + '].tval="' + xoldval + '";f[' + ilx + '].object.style.opacity="' + xoldval + '"',100)}}else{f[ilx].object.className=f[ilx].theclass}
if(f[ilx].ism){f[ilx].autoscroll=false}
if(f[ilx].object.innerHTML.indexOf('_1_ss.jpg')>-1){f[ilx].autoscroll=false}
if(f[ilx].autoscroll){if(f[ilx].object.scrollHeight>parseInt(f[ilx].object.style.height)){f[ilx].object.style.overflowY='auto'}
if(f[ilx].object.scrollWidth>parseInt(f[ilx].object.style.width)){f[ilx].object.style.overflowX='auto'}}
if(f[ilx].soundobject!='-1'&&f[ilx].mus=='1'){playSound('',ilx)}
if(f[ilx].needsloader==1){showxloader(f[ilx].objectname,f[ilx].loaderobject)}
f[ilx].hideam=0
if(f[ilx].clock==true){y2(f[ilx].clockcounter);setclock(ilx);f[ilx].clockcounter=z9('setclock(' + ilx + ')',500)}
if(f[ilx].status>1||f[ilx].hint=='onoffon'||f[ilx].hint=='onoffoff'||f[ilx].text.indexOf('%%timeout')>-1||f[ilx].text.indexOf('%%thetime')>-1){f[ilx].object.style.overflow='hidden'
f[ilx].object.style.overflowX='hidden'
f[ilx].object.style.overflowY='hidden'
f[ilx].autoscroll=false
if(f[ilx].text.indexOf('%%timeout')>-1||f[ilx].text.indexOf('%%thetime')>-1){y2(f[ilx].stimer);f[ilx].stimer=z9("constantrefresh(" + ilx + ")",1000)}}
if(f[ilx].automated==1){y1(f[ilx].acit);f[ilx].acit=z8("tkitxx(" + ilx + ")",f[ilx].doacim)}
if(f[ilx].automated==2){y1(f[ilx].acit);f[ilx].acit=z8("tkityy(" + ilx + ")",f[ilx].doacim)}
if(f[ilx].automated==3){y1(f[ilx].acit);f[ilx].acit=z8("tkitxx(" + ilx + ")",250)}
if(f[ilx].automated==4){y1(f[ilx].acit);f[ilx].acit=z8("tkityy(" + ilx + ")",250)}
if(f[ilx].automated==5){y1(f[ilx].acit);f[ilx].acit=z8("tkitxx(" + ilx + ")",f[ilx].doacim)}
if(f[ilx].automated==6){y1(f[ilx].acit);f[ilx].acit=z8("tkityy(" + ilx + ")",f[ilx].doacim)}
if(f[ilx].text.indexOf('.pdf')>0){f[ilx].object.style.left=f[ilx].xleft}
if(isios==1||isiphone==1||isitouch==1){if(f[ilx].object.innerHTML.toLowerCase().indexOf('<iframe')>-1){f[ilx].object.style.overflowX='auto'
f[ilx].object.style.overflowY='auto'
f[ilx].autoscroll=true
f[ilx].maxscroll=2000,f[ilx].maxscrolly=2000
f[ilx].object.style.webkitOverflowScrolling='touch'}
if((f[ilx].og=='MsgBox'||f[ilx].og=='MsgBoxCancel')&&f[ilx].text!=''){f[ilx].maxscroll=f[ilx].object.scrollHeight-f[ilx].hheight,f[ilx].maxscrolly=f[ilx].object.scrollWidth-f[ilx].wwidth;if(f[ilx].maxscroll>1||f[ilx].maxscrolly>1){f[ilx].hasevent=true,f[ilx].autoscroll=true,f[ilx].object.style.overflow='auto',f[ilx].object.style.overflowX='auto',f[ilx].object.style.overflowY='auto',f[ilx].object.style.webkitOverflowScrolling='touch'}}}}
function constantrefresh(yig){if(f[yig].object.style.visibility=='hidden'){y2(f[yig].stimer)};writepercent(yig)}
function oihx(t){}
function oihxx(ilx){if(speechob==f[ilx].objectname&&speechob!=''){speechSynthesis.cancel()
speechob='',speechon=0
y1(ttns)}
if(f[ilx].text.indexOf('<IFRAME')>-1){if(f[ilx].text.indexOf('id=\'preload\'')>-1){f[ilx].lleft=-2000
f[ilx].object.style.left=-2000}}
f[ilx].lct=0;f[ilx].dct=0;f[ilx].tmdt=0,f[ilx].tmup=0
f[ilx].wta=0
if(f[ilx].text.indexOf('<audio')>-1){stopsoundx(f[ilx].objectname)}
if(f[ilx].text.indexOf('.pdf')>0){f[ilx].object.style.left=-1000}
if(isfirefox==true||issafari==true||isiphone==1||isitouch==1){if(f[ilx].theclass.substring(0,6)=='_kpani'){f[ilx].object.className=''}}
f[ilx].object.style.overflow='hidden',f[ilx].object.style.overflowX='hidden',f[ilx].object.style.overflowY='hidden',f[ilx].object.style.webkitOverflowScrolling='none'}
function oimo(t){}
function finishx(){}
function monkeydone(){}
function firsttouch(xx,yy){}
function secondtouch(xx,yy){}
function firsttouchstart(xx,yy){}
function secondtouchstart(xx,yy){}
function firsttouchend(xx,yy){}
function secondtouchend(xx,yy){}
var ctxeraser=false, canvas=0, ctx=0, ctxundo=false, ctxwidth=2, ctxcolor='#000000', restorePoints = [];
for (j=0; j<f.length; j++){if(f[j].hascevent){canvas = document.getElementById('mainc' + j);
ctx = canvas.getContext('2d');
ctxcolor=f[j].ke;ctxwidth=f[j].mod;;break}}
function clearcanvas(){if(ctxundo){imgsrc = canvas.toDataURL("image/png");
restorePoints.push(imgsrc);}
canvas.width = canvas.width;}
function saveasimage(imgsrc){floater=window.open('', '', 'toolbar=yes,location=no,resizable=yes,directories=no,menubar=yes,scrollbars=yes')
if(floater){}else{alert ('Could not open a new window, probably due to a pop-up blocker being used with your browser.');return}
floater.document.open();floater.document.write ('<html><HEAD><TITLE>Save Image</TITLE><meta name="viewport" content="width=device-width, user-scalable=yes, minimal-ui"/></HEAD><body leftmargin=0 topmargin=0 rightmargin=0 bottommargin=0 bgcolor="white">')
imgsrc = canvas.toDataURL("image/png");
floater.document.write ("<IMG SRC='" + imgsrc + "'></body></html>")
floater.document.close();floater.focus()
return}
function canvasrestore(){if(ctxundo){if(restorePoints.length > 0) {canvas.width = canvas.width;
var oImg = new Image();
var oImg2 = new Image();
oImg.onload = function(){ctx.drawImage(oImg, 0, 0);
imgsrc = canvas.toDataURL("image/png");
restorePoints.push(imgsrc);}
oImg2.src = restorePoints.pop();
oImg.src = restorePoints.pop();}}}
var hasdrawn=false, cvx=0, cvy=0, preventdraw=false
function canvasdrawstart(xx,yy,ll){if(preventdraw){return}
tempsig=ll
if(tempsig==signatureobject){signaturedata=signaturedata + '-,-,' + parseInt(xx-parseInt(f[canvasnum].object.style.left)) + ',' + parseInt(yy-parseInt(f[canvasnum].object.style.top)) + ','}
xx=xx/zratio, yy=yy/zratio,xx=xx-parseInt(presh.style.left),yy=yy-parseInt(presh.style.top)
ctx.beginPath();
ctx.lineWidth=ctxwidth,ctx.lineCap='round',ctx.miterLimit=1
if(ctxeraser){ctx.lineWidth=20,ctx.strokeStyle=f[ll].backcolor}else{ctx.strokeStyle = ctxcolor}
cvx=xx/zratio, cvy=yy/zratio
ctx.moveTo((xx-parseInt(f[canvasnum].object.style.left))/1,(yy-parseInt(f[canvasnum].object.style.top))/1)}
function clearsignature(){signaturedata=''
if(signatureobject>-1){signaturecanvas.width=signaturecanvas.width}}
function canvasdraw(xx,yy){if(preventdraw){return}
if(tempsig==signatureobject){ 
signaturedata=signaturedata + parseInt(xx-parseInt(f[canvasnum].object.style.left)) + ',' + parseInt(yy-parseInt(f[canvasnum].object.style.top)) + ','}
xx=xx/zratio, yy=yy/zratio,xx=xx-parseInt(presh.style.left),yy=yy-parseInt(presh.style.top)
ctx.lineTo((xx-parseInt(f[canvasnum].object.style.left))/1,(yy-parseInt(f[canvasnum].object.style.top))/1)
hasdrawn=true
ctx.stroke();}
function canvasdrawend(){if(preventdraw){return}
if(hasdrawn==false){xx=cvx,yy=cvy,xx=xx*zratio, yy=yy*zratio
ctx.moveTo((xx-parseInt(f[canvasnum].object.style.left))/1,(yy-parseInt(f[canvasnum].object.style.top))/1)
xx++,yy++
ctx.lineTo((xx-parseInt(f[canvasnum].object.style.left))/1,(yy-parseInt(f[canvasnum].object.style.top))/1)
ctx.stroke();}
ctx.closePath()
if(ctxundo){imgsrc = canvas.toDataURL("image/png");}
hasdrawn=false
cde()}
function shoveit(target){cstep=thepos, mptarget=target
if(mptarget<0){return}
if(mptarget>=duration){return}
wildswipelr=true, scrollr=false,scrolll=false
if(target<cstep){scrolll=true,scrollli=cstep-target}
if(target>cstep){scrollr=true,scrollri=target-cstep}
for (j=0; j<f.length; j++){f[j].ogg='',f[j].oggg=0
if(f[j].timeon==f[j].timeoff||f[j].hint.indexOf('nomove')>-1){}else{if(f[j].timeon<=cstep&&f[j].timeoff>cstep){f[j].ogg='swiperlr'
f[j].ojleft=f[j].lleft}
if(f[j].ogg!='swiperlr'&&f[j].timeon==cstep+scrollri&&f[j].timeoff>cstep+scrollri&&scrollr==true&&f[j].z1==0){f[j].ogg='swiperlr'
f[j].ojleft=f[j].lleft+cwidth
f[j].oldclassname=f[j].object.className
f[j].object.style.left=f[j].ojleft
f[j].object.style.opacity=f[j].tval
f[j].object.style.visibility = 'visible'
oivxx(j)
f[j].onflag = '1'
f[j].className=f[j].oldclassname}
if(f[j].ogg!='swiperlrx'&&f[j].ogg!='swiperlr'&&f[j].timeon<=cstep-scrollli&&f[j].timeoff>cstep-scrollli&&scrolll==true&&f[j].z1==0){f[j].ogg='swiperlr'
f[j].ojleft=f[j].lleft-cwidth
f[j].oldclassname=f[j].object.className
f[j].object.style.left=f[j].ojleft
f[j].object.style.opacity=f[j].tval
f[j].object.style.visibility = 'visible'
oivxx(j)
f[j].onflag = '1'
f[j].className=f[j].oldclassname}}}
y2(mpint)
mptimer=0
if(isiphone==1||cwidth<=320){mpint=z9('movepage()',25)}else{mpint=z9('movepage()',10)}}
var mptimer = 0, mpint = 0, mptarget = 0, moved=32
function movepage(){if(mptarget>thepos){mptimer=mptimer-moved}else{mptimer=mptimer+moved}
if(Math.abs(parseFloat(mptimer))>(cwidth/1)){y2(mpint)
mptimer=0
for (j=0; j<f.length; j++){f[j].ogg=''}
shoving=true
gotoTime(mptarget)
shoving=false
for (xj=0; xj<f.length; xj++){if(f[xj].timeon>thepos||f[xj].timeoff<=thepos){hideobject (xj)}}
updateobs();hidem();sipww();setupmove()
wildswipe=false, wildswipeud=false, wildswipelr=false, scrolll=false, scrollr=false, scrollu=false, scrolld=false}
if(mptarget>thepos){for (i=0; i<f.length; i++){if(f[i].ogg=='swiperlr'){doit=true
if(f[i].timeon<=thepos&&f[i].timeoff>thepos&&f[i].timeoff>mptarget&&f[i].timeon<=mptarget){doit=false}
if(doit){f[i].ojleft=f[i].ojleft-moved;f[i].object.style.left=f[i].ojleft}}}}else{for (i=0; i<f.length; i++){if(f[i].ogg=='swiperlr'){doit=true
if(f[i].timeon<=thepos&&f[i].timeoff>thepos&&f[i].timeoff>mptarget&&f[i].timeon<=mptarget){doit=false}
if(doit){f[i].ojleft=f[i].ojleft+moved;f[i].object.style.left=f[i].ojleft}}}}}
for(ilx=0; ilx<f.length; ilx++){if(issafari==true||isiphone==1||isitouch==1){f[ilx].ttimer=0;if(f[ilx].loading==false&&f[ilx].theclass!='null'){if(f[ilx].theclass.substring(0,6)=='_kpani'){f[ilx].object.className = ''}}}}
for(ilx=0; ilx<f.length; ilx++){f[ilx].stimertype=0;f[ilx].stimerdirection=0;f[ilx].stimer=0}
</SCRIPT>
<SCRIPT>
for(ixc=0; ixc<f.length; ixc++){if(f[ixc].objectname=='kpsoundloader'){f[ixc].og='', f[ixc].timeon=0, f[ixc].timeoff=0, f[ixc].hatimeon=0, f[ixc].hatimeoff=0, f[ixc].mo_timeon=0, f[ixc].mo_timeoff=0, f[ixc].eventoff=0;break}}
function saveimage(object, name){usercanvas.style.visibility="visible";ww=getxwidth("img6052"), hh=getxheight("img6052"), usercanvas.width = usercanvas.width;usercanvas.style.WebkitTransform='scale(1)';usercanvas.style.left=10, usercanvas.style.top=10, usercanvas.style.width=ww, usercanvas.style.height=hh;thesrc1=xgetref("img6052"), thesrc=(getObject('maini'+thesrc1)), ctxx =usercanvas.getContext('2d');ctxx.canvas.width=ww;ctxx.canvas.height=hh;ctxx.drawImage(thesrc,0,0,ww,hh);its = usercanvas.toDataURL("image/png");localStorage.setItem("testimage" ,its)}
function partialimagetocanvas(theob,xll,xtt,xww,xhh, xalpha,xrotate){ctx.save();thesrc1=xgetref(theob);thesrc=getObject('maini'+thesrc1);ctx.globalAlpha = xalpha;if(xrotate!=0){ctx.translate(xll+(xll/2),xtt+(xtt/2));ctx.rotate(xrotate * 0.0174532925);ctx.translate(-xll-(xll/2),-xtt-(xtt/2));}ctx.drawImage(thesrc,xll,xtt,xww,xhh);ctx.globalAlpha = 1;if(xrotate!=0){ctx.translate(0,0);ctx.rotate(0);};ctx.restore()}
var fitw = -1, fith = -1
function getcontext(){fitw=-1,fith=-1;for (jj=0; jj<currentobjects.length; jj++){j=currentobjects[jj];if(f[j].hascevent){fitw=parseInt(f[j].object.style.width);fith= parseInt(f[j].object.style.height);break}}}
var oImgx = new Image(),isc=0
function imageblobtocanvas(timage){ontopx('ipadloader');showxobject('ipadloader');oImgx = new Image();oImgx.onload=checkisize();oImgx.src=timage}
function checkisize(){if(oImgx.width==0){isc=z8('checkisize()',1000);return};getcontext();ww=oImgx.width;imageselwid=ww;hh=oImgx.height;imageselheight=hh;wratio=ww/fitw,hratio=hh/fith;if(wratio<hratio){ww=imageselwid/hratio,hh=imageselheight/hratio}else{ww=imageselwid/wratio,hh=imageselheight/wratio};ll=(fitw-ww)/2,tt=(fith-hh)/2;ctx.drawImage(oImgx,ll,tt,ww,hh);kll=ll,ktt=tt,kww=ww,khh=hh;hidexobject('ipadloader')}
positionx('kpsoundloader',-100,-100)
for(ixc=0; ixc<f.length; ixc++){if(f[ixc].hint=='setcanvascolor'){f[ixc].downevent='js';f[ixc].parameter="setthecolor(('" + f[ixc].objectname + "'))";f[ixc].hasevent=true}}
function xmessage(themessage){showamessage(themessage,'',false)}
function movesteps(x){jumpPause(x)}
function moveback(x){backPause(x)}
function gotonext(){gotoNextPause()}
function gotoprevious(){gotoPreviousPause()}
function reloadlesson(){processEvent('reload1')}
function saveandreloadlesson(){processEvent('reload2')}
function launchurl(x){aKS = window.open(unescape(x), 'cwo', '');}
function showamessage(x, y, z){cxstring='';if(z==true){cxstring='|cancel'};customalert(x,'-1',y+cxstring)}
function getstepnumber(){xthepos=thepos+5;xthepos=xthepos/5;return xthepos}
function getduration(){return duration}
function getzoom(){return zratio}
function getie(){if(tbro=='ie'){return true}else{return false}}
function getie8(){if(tbro=='ie'&&isie8){return true}else{return false}}
function getie10(){if(tbro=='ie'&&isie10){return true}else{return false}}
function getff(){if(tbro=='ienn'){return true}else{return false}}
function getsafari(){if(issafari){return true}else{return false}}
function getiphone(){if(isiphone==1){return true}else{return false}}
function getresults(){return showResults(0)}
function gethoney(){if(ishoney==1){return true}else{return false}}
function gettouch(){if(ishoney==1||isiphone==1||isitouch==1){return true}else{return false}}
function setcomplete(){stlmssc()}
function setcompletenosubmit(){stlmsscnr()}
function updateobs(){aic=0, currentobjects=new Array(f.length);for(jk=0; jk<f.length; jk++){if(f[jk].object.style.visibility=='visible'){currentobjects[aic]=jk;aic++}};currentobjects.length=aic}
var dt='', draggedimage='',loadedimage='',imageselnum=-1, imageselwid=-1, imageselheight=-1
function fitximage(theob){for(ilx=0; ilx<f.length; ilx++){if(f[ilx].objectname.toLowerCase()==theob.toLowerCase()){f[i].niw=0, f[i].nih=0, f[i].nid='',
fitw=parseInt(f[ilx].object.style.width), fith=parseInt(f[ilx].object.style.height), f[ilx].nid=loadedimage,f[ilx].nih=imageselheight,f[ilx].niw=imageselwid
wratio=imageselwid / fitw,hratio=imageselheight/fith;if(wratio<hratio){ww=imageselwid/hratio,hh=imageselheight/hratio}else{ww=imageselwid/wratio,hh=imageselheight/wratio}
f[ilx].object.innerHTML="<TABLE style='width:" + fitw + "px;height:" + fith + "px;' cellspacing=0 cellpadding=0><TD align=center valign=middle><IMG style='overflow:scroll;width:" + ww + "px;height:" + hh + "px;' SRC='" + loadedimage + "'></TABLE>";break}}}
function imageloadedfromfile(){xll=parseInt(f[imageselnum].object.style.left)
xtt=parseInt(f[imageselnum].object.style.top)
xww=parseInt(f[imageselnum].object.style.width)
xhh=parseInt(f[imageselnum].object.style.height)
positionx('ipadloader',xll+(xww-getxwidth("ipadloader"))/2,xtt+(xhh-getxheight("ipadloader"))/2)
ontopx('ipadloader');showxobject('ipadloader')
tof=250;if(isandroid||isios==1||ishoney==1){tof=1100}
fresco=z8("newImg=new Image();newImg.onload=imageloadfinal();newImg.src=loadedimage",tof)}
function hidexloader(){fileloaddiv.style.visibility='hidden'}
function showxloader(thexobject, thetarget){for(ilx=0; ilx<f.length; ilx++){if(f[ilx].objectname.toLowerCase()==thexobject.toLowerCase()){if(tbro=='ie'){fileloaddiv.style.left=parseInt(f[ilx].object.style.left)*zratio,fileloaddiv.style.top=parseInt(f[ilx].object.style.top)*zratio;fileloaddiv.style.width=parseInt(f[ilx].object.style.width)*zratio;fileloaddiv.style.height=parseInt(f[ilx].object.style.height)*zratio}else{fileloaddiv.style.left=parseInt(f[ilx].object.style.left)+parseInt(thewinob.style.left);fileloaddiv.style.top=parseInt(f[ilx].object.style.top)+parseInt(thewinob.style.top);fileloaddiv.style.width=f[ilx].object.style.width;fileloaddiv.style.height=f[ilx].object.style.height;};fileloaddiv.style.zIndex=50000;fileloaddiv.style.visibility='visible';break}}
for(ilx=0; ilx<f.length; ilx++){if(f[ilx].objectname.toLowerCase()==thetarget.toLowerCase()){imageselnum=ilx;break}}}
var fileloadref = -1
for(ilx=0; ilx<f.length; ilx++){if(f[ilx].objectname.toLowerCase()=='fileloader'){fileloadref=ilx;break}}
function ximageloaded(t){}
function ximagedragged(){}
function imagedragfinal(){newImg.src=draggedimage,ww=newImg.width;if(ww==0){xcv=z8('imagedragfinal()',100);return};hh=newImg.height, fitw=parseInt(f[imageselnum].object.style.width), fith= parseInt(f[imageselnum].object.style.height),wratio=ww / fitw,hratio=hh/fith
if(wratio<hratio){ww=ww/hratio,hh=hh/hratio}else{ww=ww/wratio,hh=hh/wratio}
f[imageselnum].object.innerHTML="<TABLE style='width:" + fitw + "px;height:" + fith + "px;' cellspacing=0 cellpadding=0><TD align=center valign=middle><IMG style='overflow:scroll;width:" + ww + "px;height:" + hh + "px;' SRC='" + draggedimage + "'></TABLE>"
ximagedragged()}
function imagedragged(){xll=parseInt(f[imageselnum].object.style.left),xtt=parseInt(f[imageselnum].object.style.top),xww=parseInt(f[imageselnum].object.style.width),xhh=parseInt(f[imageselnum].object.style.height);positionx('ipadloader',xll+(xww-getxwidth('ipadloader'))/2,xtt+(xhh-getxheight('ipadloader'))/2);ontopx('ipadloader');showxobject('ipadloader');fresco=z8('newImg=new Image();newImg.onload=imagedragfinal();newImg.src=draggedimage',500)}
function setnewtarget(iid, iidt){imageselnum=iidt;dt=f[iid].object;filedragdiv.style.left=parseInt(f[iid].object.style.left)+parseInt(thewinob.style.left);filedragdiv.style.top=parseInt(f[iid].object.style.top)+parseInt(thewinob.style.top);filedragdiv.style.width=f[iid].object.style.width;filedragdiv.style.height=f[iid].object.style.height;filedragdiv.style.visibility='visible'}
function setdragtarget(thetarget, theimage){_target=-1,_image=-1
for(ilx=0; ilx<f.length; ilx++){if(f[ilx].objectname.toLowerCase()==thetarget.toLowerCase()){_target=ilx;break;}}
for(ilx=0; ilx<f.length; ilx++){if(f[ilx].objectname.toLowerCase()==theimage.toLowerCase()){_image=ilx;break;}}
if(_target>-1&&_image>-1){setnewtarget(_target,_image)}}
function noProp(e){e.stopPropagation();e.preventDefault();}
function getImage(e){e.stopPropagation();e.preventDefault();di=e.dataTransfer.files
if(di[0].type.substring(0,5)!='image'){return}
var ir=new FileReader();ir.onload=(function(fi){return function(ei){draggedimage=ei.target.result;imagedragged(dt)}})(di[0]);ir.readAsDataURL(di[0])}
function onbottomx(obname){for(ixc=0; ixc<f.length; ixc++){if(f[ixc].objectname==obname){f[ixc].object.style.zIndex=onbottom
updateobsx2(obname)
onbottom--;break}}}
localstoragereaderror=false
localstoragewriteerror=false
function xreaddata(xname){if(tbro=='ie'&&location.protocol=='file:'){localstoragereaderror=true}else{try{lsx=localStorage[xname]}catch(err){localstoragereaderror=true}
if(typeof lsx=='undefined'){lsx=''}
return lsx}}
function xwritedata(xname, xdata){localstoragewriteerror=false
if(tbro=='ie'&&location.protocol=='file:'){localstoragewriteerror=true}else{try{localStorage[xname]=xdata}catch(err){localstoragewriteerror=true}}}
function updateobsx2(x){aic=1,fob=0
currentobjects=new Array(f.length)
for(jk=0; jk<f.length; jk++){if(f[jk].objectname==x){currentobjects[0]=jk}
if(f[jk].object.style.visibility=='visible'&&f[jk].objectname!=x){currentobjects[aic]=jk
aic++}}
aic++
currentobjects.length=aic}
function updateobsx(x){aic=1;fob=0;oldobjects=new Array(f.length);oldobjects=currentobjects + ',';currentobjects=new Array(f.length);for(jk=0; jk<f.length; jk++){if(f[jk].objectname==x){fob=jk};if(f[jk].object.style.visibility=='visible'&&f[jk].objectname!=x){if(oldobjects.indexOf(','+jk+',')>-1){currentobjects[aic]=jk;aic++}}};currentobjects[aic]=fob;aic++;currentobjects.length=aic}
function hidexobject(thexobject){for(ilx=0; ilx<f.length; ilx++){if(f[ilx].objectname.toLowerCase()==thexobject.toLowerCase()){hideobject(ilx);break}}}
function showxobject(thexobject){for(ilx=0; ilx<f.length; ilx++){if(f[ilx].objectname.toLowerCase()==thexobject.toLowerCase()){showobject(ilx);if(exclusivegroup){updateobs2(thexobject)}else{updateobs()};break}}}
function hidethisgroup(theob){fk=xgetref(theob);hidegroupp(f[fk].og)}
function setxtitle(thexobject,title){for(ilx=0; ilx<f.length; ilx++){if(f[ilx].objectname.toLowerCase()==thexobject.toLowerCase()){f[ilx].object.title=title;break}}}
function updateobs2(thexobject){aic=0;clen=currentobjects.length;currentobjects.length=clen+1;for(jk=0; jk<f.length; jk++){if(f[jk].objectname==thexobject){currentobjects[clen]=jk}}}
function hidekeyboard(){if(navigator.userAgent.toLowerCase().indexOf('windows phone')>-1||isiphone==1||isitouch==1||isblackberry||ishoney==1){wast=false;if(document.activeElement.type=='text'){wast=true}
for(i=0;i<f.length;i++){if(f[i].ke=='freeform'){try{getObject('mainp' + i).blur()}catch(err){}}}
if(wast){resizeit();currentfreeform=-1}}}
function hidexpermanent(thexobject){setonoffx(thexobject,1,1)}
function setonoffx(thexobject,xon,xoff){xon=(xon-1)*5;xoff=(xoff-1)*5;for(ilx=0; ilx<f.length; ilx++){if(f[ilx].objectname.toLowerCase()==thexobject.toLowerCase()){f[ilx].timeon=xon;f[ilx].timeoff=xoff;f[ilx].mo_timeon=xon;f[ilx].mo_timeoff=xoff;if(xoff<=thepos||xon>thepos){hidexobject(thexobject)}else{showxobject(thexobject)};break}}}
function restoreonoffx(thexobject){for(ilx=0; ilx<f.length; ilx++){if(f[ilx].objectname.toLowerCase()==thexobject.toLowerCase()){f[ilx].timeon=f[ilx].xtimeon;f[ilx].timeoff=f[ilx].xtimeoff;f[ilx].mo_timeon=f[ilx].xtimeon;f[ilx].mo_timeoff=f[ilx].xtimeoff;if(f[ilx].xtimeon>thepos||f[ilx].xtimeon+f[ilx].xtimeoff<=thepos){hidexobject(thexobject)}else{showxobject(thexobject)};break}}}
function dayofyear(){doy=new Date();thisdate=new Date(doy.getFullYear(),0,1)
return Math.ceil((doy-thisdate)/86400000)}
function xgetstate(l){ll=xgetref(l);if(ll==-1){return};return (getstate(ll))}
function getstate(l){if(f[l].ximagedown==''){return};object=getObject('maini' + l);if(f[l].xphoto==f[l].photo){return 'down'}else{return 'up'}}
function xrestorestate(l){ll=xgetref(l);if(ll==-1){return};restorestate(ll)}
function restorestate(l){y1(f[l].acit);f[l].acit=0;if(f[l].ximagedown==''){return};object=getObject('maini' + l);object.src=f[l].xphoto;f[l].imagedown=f[l].ximagedown;f[l].photo=f[l].xphoto}
function xswapstate(l){ll=xgetref(l);if(ll==-1){return};swapstate2(ll)}
function swapstate(l){swapstate2(l);xswappedonoff(f[l].objectname,xgetstate(f[l].objectname))}
function swapstate2(l){if(f[l].ximagedown==''){return};object=getObject('maini' + l);object.src=f[l].imagedown;rdf=f[l].imagedown;f[l].imagedown=f[l].photo;f[l].photo=rdf;if(f[l].parameter!=''){cstate=getstate(l);if(cstate=='up'){showgroupp(f[l].parameter)}else{hidegroupp(f[l].parameter)}}}
function xupstate(l){ll=xgetref(l);if(ll==-1){return};upstate(ll)}
function upstate(l){if(f[l].ximagedown==''){return};object=getObject('maini' + l);object.src=f[l].ximagedown;f[l].imagedown=f[l].xphoto;f[l].photo=f[l].ximagedown;}
function downstate(l){if(f[l].xphoto==''){return};object=getObject('maini' + l);object.src=f[l].xphoto;f[l].imagedown=f[l].ximagedown;f[l].photo=f[l].xphoto;}
function xdownstate(l){l=xgetref(l);downstate(l)}
function xswappedonoff(ob,obs){}
var ontop=50000, onbottom=-1
for(i=0; i<f.length; i++){f[i].tmdt=0,f[i].tmup=0,f[i].dct=0,f[i].lct=0,f[i].loaderobject='';f[i].needsloader=0;f[i].wta=0,f[i].wtaa=0,f[i].hideam=0, f[i].niw=0, f[i].nih=0, f[i].nid='',f[i].tx=0, f[i].ty=0,f[i].vautostart=0, f[i].isvideo=0, f[i].vsynch=0, f[i].autostart=0, f[i].oldclassname='',f[i].gtnsx=0,f[i].loop=0,f[i].synch=0,f[i].playing=0,f[i].playcounter=0,f[i].xtimeon=f[i].timeon,f[i].xtimeoff=f[i].timeoff,f[i].swipegroup='',f[i].ttval=f[i].tval,f[i].tag='',f[i].tops=0,f[i].tag2='',f[i].tag3='',f[i].ximagedown=f[i].imagedown,f[i].xphoto=f[i].photo,f[i].xleft=f[i].lleft,f[i].vertop=f[i].ttop,f[i].verheight=f[i].hheight,f[i].hortop=f[i].ttop,f[i].horheight=f[i].hheight,f[i].xtop=f[i].ttop,f[i].xwidth=f[i].wwidth,f[i].xheight=f[i].hheight,f[i].icounterv=0,f[i].icounter=0,f[i].processing=false}
for(i=0; i<f.length; i++){if(f[i].text!=''&&f[i].valign.toLowerCase()=='top'&&f[i].halign.toLowerCase()=='left'){f[i].autoscroll=true}
if(f[i].text.indexOf('abarw.png')>-1||f[i].text.indexOf('abar.png')>-1||f[i].text.indexOf('<audio')>-1||f[i].text.indexOf('<video')>-1||f[i].clock){f[i].autoscroll=false}
if(f[i].text.indexOf('javascript:gotostepx')>-1||f[i].text.indexOf('%%')>-1){f[i].autoscroll=true}
f[i].performed=0, f[i].rotate=0, f[i].scale=1, f[i].aleft=0,f[i].atop=0, f[i].srleft=[i].xleft, f[i].srtop=f[i].xtop, f[i].drag=false
if(f[i].mos!=''){f[i].downevent='dragtarget';f[i].drag=true;f[i].mos='';f[i].xleft=f[i].xdistance;f[i].xtop=f[i].ydistance;f[i].xdistance=f[i].lleft;f[i].ydistance=f[i].ttop;f[i].lleft=f[i].xleft;f[i].ttop=f[i].xtop}}
function ontopx(obname){for(ixc=0; ixc<f.length; ixc++){if(f[ixc].objectname==obname){f[ixc].object.style.zIndex=ontop;updateobsx(obname);ontop++;break}}}
function hidexdelay(thexobject, timeout){sethdelay=z8("hidexobject('" + thexobject + "')",timeout)}
function showxdelay(thexobject, timeout){setsdelay=z8("showxobject('" + thexobject + "')",timeout)}
function opacityx(delay, obname, opacity){if(delay>0){opacxdelay=z8("opacityx(0,'" + obname + "'," + opacity + ")",delay);return};for(ixc=0; ixc<f.length; ixc++){if(f[ixc].objectname==obname){f[ixc].tval=opacity;if(getsafari()){f[ixc].object.style.opacity=opacity}else{if(getff()){f[ixc].object.style.MozOpacity=opacity}else{fredx=z8('f[' + ixc + '].object.style.filter="alpha(opacity=' + (opacity*100) + ')"',1)}};f[ixc].ttval=f[ixc].opacity;break}}}
for (j=0; j<f.length; j++){f[j].loadedimagewidth=f[j].wwidth,f[j].loadedimageheight=f[j].hheight}
function htor(p,q,t){if(t<0){t+=1};if(t>1){t-=1};switch(true){case(t<1/6):return(p+(q-p)*6*t);break;case(t<1/2):return q;break;case(t<2/3):return(p+(q-p)*(2/3-t)*6);break};return p}
function ecl(e){if(typeof camerawarning2=='undefined'){camerawarning2="You have elected not to allow access to your device camera."}
alert (camerawarning2)
vidallowed=false}
var vidallowed=true, uctimer=0, theusercamera=''
navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;
function getcanvasurl(thecanvas){ctx1=xgetref(thecanvas)
if(ctx1!=''){canvasob=document.getElementById('mainc'+ctx1)
return canvasob.toDataURL("image/png")}}
function setusercamera(){if(location.protocol=='file:'){alert ("Your device camera cannot be accessed in local, 'FILE:' protocol. Upload this app to a server for this feature to work.")}else{theusercamera=getObject('usercamera')
if(!navigator.getUserMedia){if(typeof camerawarning=='undefined'){camerawarning="Your browser or device does not support direct camera capture."}
alert (camerawarning)
vidallowed=false}else{vidallowed=true}
if(navigator.getUserMedia){navigator.getUserMedia({audio:false,video:true},function(stream){theusercamera.src=window.URL.createObjectURL(stream)},ecl)}else{ecl()}}}
function cameratocanvas(thecanvas){tocontext=getcanvascontext(thecanvas);tocontext.drawImage(usercamera,0,0,getxwidth(thecanvas),getxheight(thecanvas))}
function cameratocanvaspartial(thecanvas,x1,y1,x2,y2){tocontext=getcanvascontext(thecanvas);tocontext.drawImage(usercamera,x1,y1,x2,y2)}
function setcanvascolorx(thecanvas,thecolor){jgb=xgetref(thecanvas)
if(jgb>-1){if(f[jgb].hascevent){canvasx=document.getElementById('mainc' + jgb)
tocontext=canvasx.getContext('2d')
tocontext.beginPath()
tocontext.rect(0,0,getxwidth(thecanvas),getxheight(thecanvas))
tocontext.fillStyle=thecolor
tocontext.fill()}}}
function setcanvasborderx(thecanvas,thewidth,thecolor){jgb=xgetref(thecanvas)
if(jgb>-1){if(f[jgb].hascevent){canvasx=document.getElementById('mainc' + jgb)
tocontext=canvasx.getContext('2d')
 tocontext.beginPath()
tocontext.rect(0,0,getxwidth(thecanvas),getxheight(thecanvas))
tocontext.fillStyle='transparent'
tocontext.fill()
tocontext.lineWidth=thewidth
tocontext.strokeStyle=thecolor
tocontext.stroke();}}}
function preparecanvas(thecanvas,ww,hh){jgb=xgetref(thecanvas)
if(jgb>-1){if(f[jgb].hascevent){canvasx=document.getElementById('mainc' + jgb)
canvasx.width=ww,canvasx.height=hh
canvasx.style.width=ww,canvasx.style.height=hh
f[jgb].wwidth=ww
f[jgb].hheight=hh
f[jgb].object.style.width=ww
f[jgb].object.style.height=hh}}}
function flipcanvas(thecanvas){if(ischrome&&location.protocol=='file:'){alert ("You must run this app/lesson from a web server for canvas functions to work in the Chrome browser.")
return}
canvasob="", cnum=xgetref(thecanvas)
if(cnum>-1){canvasob=document.getElementById('mainc'+cnum)
ww=canvasob.height, hh=canvasob.width
tcanvasob=document.getElementById('tempcanvas')
tcanvasob.style.left=-10000,tcanvasob.style.top=-10000
tcanvasob.width=ww,tcanvasob.height=hh,tcanvasob.style.width=ww,tcanvasob.style.height=hh
ctxx=tcanvasob.getContext('2d')
ctxxx=canvasob.getContext('2d').canvas
ctxx.scale(1,-1);ctxx.drawImage(ctxxx,0,-hh,ww,hh);ctxx.scale(1,-1)
preparecanvas(thecanvas,hh,ww)
satx=getcanvascontext(thecanvas)
timageob=tcanvasob.getContext('2d').canvas
satx.drawImage(timageob,0,0,hh,ww)
hideloader()}}
function mirrorcanvas(thecanvas){if(ischrome&&location.protocol=='file:'){alert ("You must run this app/lesson from a web server for canvas functions to work in the Chrome browser.")
return}
canvasob="", cnum=xgetref(thecanvas)
if(cnum>-1){canvasob=document.getElementById('mainc'+cnum)
ww=canvasob.height, hh=canvasob.width
tcanvasob=document.getElementById('tempcanvas')
tcanvasob.style.left=-10000,tcanvasob.style.top=-10000
tcanvasob.width=ww,tcanvasob.height=hh,tcanvasob.style.width=ww,tcanvasob.style.height=hh
ctxx=tcanvasob.getContext('2d')
ctxxx=canvasob.getContext('2d').canvas
ctxx.scale(-1,1);ctxx.drawImage(ctxxx,-ww,0,ww,hh);ctxx.scale(-1,1)
preparecanvas(thecanvas,hh,ww)
satx=getcanvascontext(thecanvas)
timageob=tcanvasob.getContext('2d').canvas
satx.drawImage(timageob,0,0,hh,ww)
hideloader()}}
var mcounter=0, _msatx=0, _mtio=0, _mww=0, _mhh=0
function delayit(){_msatx.drawImage(_mtio,0,0,_mww,_mhh);hideloader()}
function rotatecanvas270(thecanvas){if(ischrome&&location.protocol=='file:'){alert ("You must run this app/lesson from a web server for canvas functions to work in the Chrome browser.")
return}
canvasob="", cnum=xgetref(thecanvas)
if(cnum>-1){canvasob=document.getElementById('mainc'+cnum)
ww=canvasob.height, hh=canvasob.width
tcanvasob=document.getElementById('tempcanvas')
tcanvasob.style.left=-10000,tcanvasob.style.top=-10000
tcanvasob.width=ww,tcanvasob.height=hh,tcanvasob.style.width=ww,tcanvasob.style.height=hh
ctxx=tcanvasob.getContext('2d')
ctxxx=canvasob.getContext('2d').canvas
ctxx.rotate(270 * Math.PI / 180);
ctxx.drawImage(ctxxx,-hh,0,hh,ww)
ctxx.rotate(-270 * Math.PI / 180)
preparecanvas(thecanvas,parseInt(tcanvasob.style.width),parseInt(tcanvasob.style.height))
satx=getcanvascontext(thecanvas)
timageob=tcanvasob.getContext('2d').canvas
satx.drawImage(timageob,0,0,parseInt(tcanvasob.style.width),parseInt(tcanvasob.style.height))
hideloader()}}
function rotatecanvas180(thecanvas){if(ischrome&&location.protocol=='file:'){alert ("You must run this app/lesson from a web server for canvas functions to work in the Chrome browser.")
return}
canvasob="", cnum=xgetref(thecanvas)
if(cnum>-1){canvasob=document.getElementById('mainc'+cnum)
ww=canvasob.height, hh=canvasob.width
tcanvasob=document.getElementById('tempcanvas')
tcanvasob.style.left=-10000,tcanvasob.style.top=-10000
tcanvasob.width=ww,tcanvasob.height=hh,tcanvasob.style.width=ww,tcanvasob.style.height=hh
ctxx=tcanvasob.getContext('2d')
ctxxx=canvasob.getContext('2d').canvas
ctxx.rotate(180 * Math.PI / 180);
ctxx.drawImage(ctxxx,0,-ww,hh,ww)
ctxx.rotate(-180 * Math.PI / 180)
preparecanvas(thecanvas,parseInt(tcanvasob.style.width),parseInt(tcanvasob.style.height))
satx=getcanvascontext(thecanvas)
timageob=tcanvasob.getContext('2d').canvas
satx.drawImage(timageob,0,0,parseInt(tcanvasob.style.width),parseInt(tcanvasob.style.height))
hideloader()}
}
function rotatecanvas90(thecanvas){if(ischrome&&location.protocol=='file:'){alert ("You must run this app/lesson from a web server for canvas functions to work in the Chrome browser.")
return}
canvasob="", cnum=xgetref(thecanvas)
if(cnum>-1){canvasob=document.getElementById('mainc'+cnum)
ww=canvasob.height, hh=canvasob.width
tcanvasob=document.getElementById('tempcanvas')
tcanvasob.style.left=-10000,tcanvasob.style.top=-10000
tcanvasob.width=ww,tcanvasob.height=hh,tcanvasob.style.width=ww,tcanvasob.style.height=hh
ctxx=tcanvasob.getContext('2d')
ctxxx=canvasob.getContext('2d').canvas
ctxx.rotate(90 * Math.PI / 180);
ctxx.drawImage(ctxxx,0,-ww,hh,ww)
ctxx.rotate(-90 * Math.PI / 180)
preparecanvas(thecanvas,parseInt(tcanvasob.style.width),parseInt(tcanvasob.style.height))
satx=getcanvascontext(thecanvas)
timageob=tcanvasob.getContext('2d').canvas
satx.drawImage(timageob,0,0,parseInt(tcanvasob.style.width),parseInt(tcanvasob.style.height))
hideloader()}}
var lastfileloaded="", lastfiledate="", lastfilesize="", lastfiletype=""
function loadfromfile(e){fullyresetobject(f[imageselnum].objectname)
xll=parseInt(f[imageselnum].object.style.left),xtt=parseInt(f[imageselnum].object.style.top),xww=parseInt(f[imageselnum].object.style.width),xhh=parseInt(f[imageselnum].object.style.height)
positionx('ipadloader',xll+(xww-getxwidth("ipadloader"))/2,xtt+(xhh-getxheight("ipadloader"))/2)
ontopx('ipadloader')
filesx = e.target.files;fxx=filesx[0]
lastfileloaded="", lastfiledate="", lastfilesize="", lastfiletype=""
lastfileloaded=fxx.name, lastfiledate=fxx.lastModifiedDate.toLocaleDateString(), lastfilesize=fxx.size, lastfiletype=fxx.type
ir=new FileReader();ir.onload=(function(fi){return function(ei){loadedimage=ei.target.result;showxobject('ipadloader');imageloadedfromfile()}})(fxx);fref=z8("ir.readAsDataURL(fxx)",10)}
var graphcolors=new Array("#8e0505","#030071","#005412","#8e0505","#030071","#005412","#8e0505","#030071","#005412","#8e0505","#030071","#005412","#8e0505","#030071","#005412","#8e0505","#030071","#005412")
var graphcolors2=new Array("#ff6060","#acaaff","#8bffa4","#ff6060","#acaaff","#8bffa4","#ff6060","#acaaff","#8bffa4","#ff6060","#acaaff","#8bffa4","#ff6060","#acaaff","#8bffa4","#ff6060","#acaaff","#8bffa4")
function drawgraph(thecanvas,thestyle, lowval, highval, grid,thedata, thevalue, screenvalue){ctx=getcanvascontext(thecanvas)
wwidth=f[ctxxo].wwidth
hheight=f[ctxxo].hheight
ctx.lineWidth=0;
grd=ctx.createLinearGradient(0,0,0,hheight);
grd.addColorStop(0,"#8a8989");
grd.addColorStop(1,"white");
ctx.fillStyle=grd;
ctx.fillRect(0,0,wwidth,hheight);
ctx.lineWidth=1;
ctx.strokeStyle="#000000";
thedatas=thedata.split("|")
columnwidth=(wwidth-(2*thestyle))/thedatas.length
thevalues=thevalue.split("|")
screenvalues=screenvalue.split("|")
for(ix=0; ix<thedatas.length; ix++){thisval=thevalues[ix]
thisrealval=thisval/highval * hheight
rowtop=hheight-thisrealval
grd=ctx.createLinearGradient(0,0,0,hheight);
grd.addColorStop(0,graphcolors[ix]);
grd.addColorStop(1,graphcolors2[ix]);
ctx.fillStyle=grd;
ctx.fillRect(ix*columnwidth+thestyle*2,rowtop,columnwidth-(thestyle*2),hheight-rowtop);
ctx.strokeRect(ix*columnwidth+thestyle*2,rowtop,columnwidth-(thestyle*2),hheight-rowtop);}
if(grid>0){ctx.lineWidth=1;
ctx.globalAlpha=0.3;
ctx.strokeStyle="white";
gheight=hheight/grid
for(ix=1; ix<grid; ix++){thisval=ix*gheight
ctx.beginPath();
ctx.moveTo(0,thisval);
ctx.lineTo(wwidth,thisval);
ctx.stroke();}
ctx.globalAlpha=1;}
for(ix=0; ix<thedatas.length; ix++){
ctx.font="18px Arial";
txt=thedatas[ix]
xww=ctx.measureText(txt).width
minheight=xww+20
ctx.font="16px Arial Bold";
ctx.fillStyle="#000000";
txt=screenvalues[ix]
xww=ctx.measureText(txt).width
xll=ix*columnwidth + (columnwidth-xww)/2 + thestyle
xtt=10
thisval=thevalues[ix]
thisrealval=thisval/highval * hheight
rowtop=hheight-thisrealval
xtt=rowtop-8
if(xtt>(hheight-minheight)){xtt=hheight-minheight}
ctx.fillStyle="#000000";
ctx.fillText(txt,xll+1,xtt+1);
ctx.fillStyle="#FFFFFF";
ctx.fillText(txt,xll,xtt);
ctx.font="18px Arial";
txt=thedatas[ix]
xww=ctx.measureText(txt).width
xll=ix*columnwidth + columnwidth/2+4.5 + thestyle
xtt=hheight-10
xhh=18
xrotate=270
ctxx.save()
ctxx.translate(xll,xtt)
ctxx.rotate(xrotate * 0.0174532925)
ctxx.translate(-xll,-xtt)
ctx.fillStyle="#000000";
ctx.fillText(txt,xll+1,xtt+1);
ctx.fillStyle="#FFFFFF";
ctx.fillText(txt,xll,xtt);
ctxx.restore()}
ctx.lineWidth=4;
ctx.strokeStyle="#000000";
ctx.strokeRect(1,1,wwidth-2,hheight-2);}
var actualimagewidth=0, actualimageheight=0
function imageloadfinal(){newImg.src=loadedimage,ww=newImg.width
if(ww==0){xcv=z8('imageloadfinal()',100);return}
resetxobject(f[imageselnum].objectname)
hh=newImg.height,fitw=parseInt(f[imageselnum].object.style.width),fith=parseInt(f[imageselnum].object.style.height),wratio=ww/fitw,hratio=hh/fith,imageselwid=ww,imageselheight=hh
if(wratio<hratio){ww=ww/hratio,hh=hh/hratio}else{ww=ww/wratio,hh=hh/wratio}
ww=parseInt(ww),hh=parseInt(hh)
f[imageselnum].object.innerHTML="<TABLE style='width:" + ww + "px;height:" + hh + "px;' cellspacing=0 cellpadding=0><TD align=center valign=middle><IMG id='maini" + imageselnum + "' style='overflow:scroll;width:" + ww + "px;height:" + hh + "px;' SRC='" + loadedimage + "'></TABLE>"
f[imageselnum].loadedimagewidth=imageselwid,f[imageselnum].loadedimageheight=imageselheight
actualimagewidth=imageselwid
actualimageheight=imageselheight
f[imageselnum].object.style.width=ww
f[imageselnum].object.style.height=hh
f[imageselnum].object.style.left=f[imageselnum].xleft + (f[imageselnum].xwidth-ww)/2
f[imageselnum].object.style.top=f[imageselnum].xtop + (f[imageselnum].xheight-hh)/2
f[imageselnum].photo=loadedimage
hidexobject('ipadloader')
ximageloaded()}
function canvastocanvas(fromcanvas, tocanvas, _xl, _xt, _xw, _xh, tol, tot){xtocanvas=xgetref(tocanvas)
xfromcanvas=xgetref(fromcanvas)
if(xtocanvas==-1||xfromcanvas==-1){return}
canvasto=document.getElementById('mainc' + xtocanvas)
canvasfrom=document.getElementById('mainc' + xfromcanvas)
fromcontext=getcanvascontext(fromcanvas)
tocontext=getcanvascontext(tocanvas)
if(typeof _xl=='undefined'){_xl=0}
if(typeof _xt=='undefined'){_xt=0}
if(typeof tol=='undefined'){tol=0}
if(typeof tot=='undefined'){tot=0}
if(typeof _xw=='undefined'){_xw=parseInt(canvasfrom.style.width)}
if(typeof _xh=='undefined'){_xh=parseInt(canvasfrom.style.height)}
if(_xl==0&&_xt==0&&tol==0&&tot==0&&_xw==parseInt(canvasfrom.style.width)&&_xh==parseInt(canvasfrom.style.height)){preparecanvas(tocanvas,parseInt(canvasfrom.style.width),parseInt(canvasfrom.style.height))
timageob=fromcontext.canvas
tocontext.drawImage(timageob,_xl,_xt,_xw,_xh)}else{fx=fromcontext.getImageData(_xl, _xt, _xw, _xh)
tocontext.putImageData(fx, tol, tot);}
hidexobject('ipadloader')
}
function saveimagelocal(xcanvas,iname){if(ischrome&&location.protocol=='file:'){alert ("You must run this app/lesson from a web server for canvas functions to work in the Chrome browser.")
return}
ctx1=xgetref(xcanvas)
canvasob=document.getElementById('mainc'+ctx1)
its=canvasob.toDataURL("image/png")
localStorage.setItem(iname,its)}
var localreaderror=false
function loadimagelocal(iname,itarget){localreaderror=false
try{its=localStorage.getItem(iname)
if(typeof its=='undefined'){its=''}
if(its==null){its=''}
if(its==''){localreaderror=true}else{loadnewpicture(itarget,its,getxwidth(itarget),getxheight(itarget))}}catch(err){localreaderror=true}
}
function savecanvas(xcanvas, thestring){if(ischrome&&location.protocol=='file:'){alert ("You must run this app/lesson from a web server for canvas functions to work in the Chrome browser.")
return}
ctxx = getcanvascontext(xcanvas)
ctx1=xgetref(xcanvas)
if(tbro=='ie'){xmessage('<B><A HREF="javascript:saveasimage()">' + thestring + '</A></B>')}else{canvasob=document.getElementById('mainc'+ctx1),imgsrc=canvasob.toDataURL("image/png");
temss='<B><A target=_null HREF="' + imgsrc + '">' + thestring + '</A></B>'
if(ischrome){temss=temss + '<BR><BR><B><A download="MyImage" HREF="' + imgsrc + '">Direct Download.</A></B>'}
xmessage(temss)}}
function imagetocanvas(theimage, thecanvas){canvasob="", cnum=-1;for (j=0; j<f.length; j++){if(f[j].objectname==thecanvas){if(f[j].hascevent){cnum=j;break}}}
if(cnum>-1){for (j=0; j<f.length; j++){if(f[j].objectname==theimage){if(f[j].tag!=''){ww=f[j].tag, hh=f[j].tag2}else{ww=getxwidth(f[j].objectname), hh=getxheight(f[j].objectname)}
fitw=parseInt(getxwidth(f[cnum].objectname)), fith=parseInt(getxheight(f[cnum].objectname))
wratio=ww/fitw,hratio=hh/fith
if(wratio<hratio){ww=ww/hratio,hh=hh/hratio}else{ww=ww/wratio,hh=hh/wratio}
ll=(fitw-ww)/2,tt=(fith-hh)/2,canvasob=document.getElementById('mainc'+cnum),canvasob.width=ww,canvasob.height=hh,canvasob.style.width=ww,canvasob.style.height=hh
f[cnum].object.style.left=ll + f[cnum].xleft,f[cnum].object.style.top=tt + f[cnum].xtop,f[cnum].object.style.width=ww,f[cnum].object.style.height=hh
ctxx=canvasob.getContext('2d'), ctxxx=getObject("maini" + j);ctxx.drawImage(ctxxx,0,0,ww,hh);hideloader();break}}}}
function canvastoimage(thecanvas, theimage){if(ischrome&&location.protocol=='file:'){alert ("You must run this app/lesson from a web server for canvas functions to work in the Chrome browser.")
return}
canvasob="", cnum=-1;for (j=0; j<f.length; j++){if(f[j].objectname==thecanvas){if(f[j].hascevent){cnum=j;break}}}
if(cnum>-1){for (j=0; j<f.length; j++){if(f[j].objectname==theimage){canvasob=document.getElementById('mainc'+cnum)
imgsrc=canvasob.toDataURL("image/png");
fullyresetobject(theimage)
ww=parseInt(f[cnum].object.style.width),hh=parseInt(f[cnum].object.style.height)
fitw=parseInt(f[j].xwidth),fith=parseInt(f[j].xheight)
wratio=ww/fitw,hratio=hh/fith,imageselwid=ww, imageselheight=hh
if(wratio<hratio){ww=ww/hratio,hh=hh/hratio}else{ww=ww/wratio,hh=hh/wratio}
ww=parseInt(ww),hh=parseInt(hh)
nl=(fitw-ww)/2+new Number(f[j].xleft)
nt=(fith-hh)/2+new Number(f[j].xtop)
setdimensions(theimage,ww,hh)
positionx(theimage,nl,nt)
f[j].object.innerHTML="<IMG id='maini" + j + "' style='width:" + ww + "px;height:" + hh + "px;' SRC='" + imgsrc + "'>"
f[j].tag=ww,f[j].tag2=hh,f[j].tag3=imgsrc,imgsrc="";break}}}}
function trimimage(theimage,lleft,ttop,wwidth,hheight){if(ischrome&&location.protocol=='file:'){alert ("You must run this app/lesson from a web server for canvas functions to work in the Chrome browser.")
return}
tcanvasob=document.getElementById('tempcanvas')
tcanvasob.style.left=-10000,tcanvasob.style.top=-10000
tcanvasob.width=wwidth, tcanvasob.height=hheight
tcanvasob.style.width=wwidth, tcanvasob.style.height=hheight
ctxx=tcanvasob.getContext('2d'),j=xgetref(theimage),ctxxx=getObject("maini" + j)
ctxx.drawImage(ctxxx,lleft,ttop,wwidth,hheight,0,0,wwidth,hheight)
imgsrc=tcanvasob.toDataURL("image/png");f[j].loadedimagewidth=wwidth,f[j].loadedimageheight=hheight
ww=wwidth,hh=hheight
fitw=parseInt(f[j].object.style.width),fith=parseInt(f[j].object.style.height)
wratio=ww/fitw,hratio=hh/fith,imageselwid=ww, imageselheight=hh
if(wratio<hratio){ww=ww/hratio,hh=hh/hratio}else{ww=ww/wratio,hh=hh/wratio}
f[j].object.innerHTML="<TABLE style='width:" + fitw + "px;height:" + fith + "px;' cellspacing=0 cellpadding=0><TD align=center valign=middle><IMG id='maini" + j + "' style='overflow:scroll;width:" + ww + "px;height:" + hh + "px;' SRC='" + imgsrc + "'></TABLE>"
f[j].photo=imgsrc
tcanvasob.width=tcanvasob.width,imgsrc=""}
function resizeimage(theimage,wwidth,hheight){if(ischrome&&location.protocol=='file:'){alert ("You must run this app/lesson from a web server for canvas functions to work in the Chrome browser.")
return}
tcanvasob=document.getElementById('tempcanvas'),
tcanvasob.style.left=-10000,tcanvasob.style.top=-10000
tcanvasob.width=wwidth, tcanvasob.height=hheight,tcanvasob.style.width=wwidth, tcanvasob.style.height=hheight
ctxx=tcanvasob.getContext('2d'),j=xgetref(theimage),ctxxx=getObject("maini" + j)
ctxx.drawImage(ctxxx,0,0,wwidth,hheight)
imgsrc=tcanvasob.toDataURL("image/png");f[j].loadedimagewidth=wwidth,f[j].loadedimageheight=hheight,ww=wwidth,hh=hheight,fitw=parseInt(f[j].object.style.width),fith= parseInt(f[j].object.style.height),wratio=ww/fitw,hratio=hh/fith,imageselwid=ww,imageselheight=hh
if(wratio<hratio){ww=ww/hratio,hh=hh/hratio}else{ww=ww/wratio,hh=hh/wratio}
f[j].object.innerHTML="<TABLE style='width:" + fitw + "px;height:" + fith + "px;' cellspacing=0 cellpadding=0><TD align=center valign=middle><IMG id='maini" + j + "' style='overflow:scroll;width:" + ww + "px;height:" + hh + "px;' SRC='" + imgsrc + "'></TABLE>"
tcanvasob.width=tcanvasob.width,imgsrc=""}
function centerit(o1,o2){sr1=xgetref(o1),sr2=xgetref(o2);centerx(o1,parseInt(f[sr2].object.style.left)+(parseInt(f[sr2].object.style.width)-parseInt(f[sr1].object.style.width))/2,parseInt(f[sr2].object.style.top)+(parseInt(f[sr2].object.style.height)-parseInt(f[sr1].object.style.height))/2)}
function imagetoimage(o1,o2){imagetoshow=xgetref(o1),bigpreview=xgetref(o2)
if(f[imagetoshow].tag!=''){ww=f[imagetoshow].tag, hh=f[imagetoshow].tag2,isrc=f[imagetoshow].tag3
fitw=parseInt(f[bigpreview].object.style.width),fith=parseInt(f[bigpreview].object.style.height)
wratio=ww/fitw,hratio=hh/fith,imageselwid=ww, imageselheight=hh
if(wratio<hratio){ww=ww/hratio,hh=hh/hratio}else{ww=ww/wratio,hh=hh/wratio}
f[bigpreview].object.innerHTML="<TABLE style='width:" + fitw + "px;height:" + fith + "px' cellspacing=0 cellpadding=0><TD align=center valign=middle><IMG id='maini" + j + "' style='overflow:scroll;width:" + ww + "px;height:" + hh + "px' SRC='" + isrc + "'></TABLE>"}else{isource=imagesource(o1),imageselnum2=xgetref(o2),fitw=parseInt(f[imageselnum2].object.style.width),fith=parseInt(f[imageselnum2].object.style.height)
tmi=xgetref(o1),ww=f[tmi].loadedimagewidth,hh=f[tmi].loadedimageheight
wratio=ww/fitw,hratio=hh/fith,imageselwid=ww,imageselheight=hh
if(wratio<hratio){ww=ww/hratio,hh=hh/hratio}else{ww=ww/wratio,hh=hh/wratio}
f[imageselnum2].object.innerHTML="<TABLE style='width:" + parseInt(fitw) + "px;height:" + parseInt(fith) + "px;' cellspacing=0 cellpadding=0><TD align=center valign=middle><IMG id='maini" + imageselnum2 + "' style='overflow:scroll;width:" + parseInt(ww) + "px;height:" + parseInt(hh) + "px;' SRC='" + isource + "'></TABLE>"
f[imageselnum2].loadedimagewidth=imageselwid,f[imageselnum2].loadedimageheight=imageselheight
f[imageselnum2].photo=isource
f[imageselnum2].tag=ww
f[imageselnum2].tag2=hh
f[imageselnum2].tag3=isource
isource=""}}
function addimagetocanvas(theob,thecanvas,xll,xtt,xww,xhh,xalpha,xrotate){if(ischrome&&location.protocol=='file:'){alert ("You must run this app/lesson from a web server for canvas functions to work in the Chrome browser.")
return}
jgb=xgetref(thecanvas)
if(jgb>-1){if(f[jgb].hascevent){canvasx=document.getElementById('mainc' + jgb)
tocontext=canvasx.getContext('2d')
tocontext.save()
thesrc1=xgetref(theob)
if(f[thesrc1].hascevent){timageob=document.getElementById('tempimage')
canvasob=document.getElementById('mainc'+thesrc1)
imgsrc=canvasob.toDataURL("image/png")
timageob.src=imgsrc
thesrc=timageob}else{thesrc=getObject('maini'+thesrc1)}
tocontext.globalAlpha=xalpha
if(xrotate!=0){tocontext.translate(xll+(xll/2),xtt+(xtt/2))
tocontext.rotate(xrotate * 0.0174532925)
tocontext.translate(-xll-(xll/2),-xtt-(xtt/2))}
tocontext.drawImage(thesrc,xll,xtt,xww,xhh)
tocontext.globalAlpha=1
if(xrotate!=0){tocontext.translate(0,0)
tocontext.rotate(0)}
tocontext.restore()}}}
function getcanvascontext(thecanvas){ctxx=-1, ctxxo=-1;for (j=0; j<f.length; j++){if(f[j].objectname==thecanvas){if(f[j].hascevent){ctxxo=j,canvasob=document.getElementById('mainc'+j),ctxx=canvasob.getContext('2d');break}}};return ctxx}
function hideloader(){hidexobject("ipadloader")}
function showloader(overob){xf=xgetref(overob),xll=parseInt(f[xf].object.style.left),xtt=parseInt(f[xf].object.style.top),xww=parseInt(f[xf].object.style.width),xhh=parseInt(f[xf].object.style.height)
positionx('ipadloader',xll+(xww-getxwidth("ipadloader"))/2,xtt+(xhh-getxheight("ipadloader"))/2);ontopx('ipadloader');showxobject('ipadloader')}
function getcontx(context){xf=xgetref(context)
fith=-1,fitw=-1
if(xf!=-1){usercanvas = document.getElementById('mainc' + xf);
ctx=usercanvas.getContext('2d');
fitw=parseInt(f[xf].object.style.width),fith=parseInt(f[xf].object.style.height)
return ctx}else{return -1}}
function canvasgreyscale(context,_xl,_xt,_xw,_xh){xcv=z8('canvasgreyscale2("' + context + '",' + _xl + ',' + _xt + ',' + _xw + ',' + _xh + ')',100)}
function canvasgreyscale2(context,_xl,_xt,_xw,_xh){ctx=getcontx(context)
if(fith==-1||fitw==-1){hidexobject('ipadloader');return}
if(typeof _xl=='undefined'){_xl=0}
if(typeof _xt=='undefined'){_xt=0}
if(typeof _xw=='undefined'){_xw=fitw}
if(typeof _xh=='undefined'){_xh=fith}
imP=ctx.getImageData(_xl,_xt,_xw,_xh)
tid = imP.data
for (ihg=0; ihg<tid.length; ihg+=4){gs=(tid[ihg]+tid[ihg+1]+tid[ihg+2])/3
tid[ihg]=gs
tid[ihg+1]=gs
tid[ihg+2]=gs}
ctx.putImageData(imP, _xl, _xt)
hidexobject('ipadloader')}
function canvasinvert(context,_xl,_xt,_xw,_xh){xcv=z8('canvasinvert2("' + context + '",' + _xl + ',' + _xt + ',' + _xw + ',' + _xh + ')',100)}
function canvasinvert2(context,_xl,_xt,_xw,_xh){ctx=getcontx(context)
if(fith==-1||fitw==-1){hidexobject('ipadloader');return}
if(typeof _xl=='undefined'){_xl=0}
if(typeof _xt=='undefined'){_xt=0}
if(typeof _xw=='undefined'){_xw=fitw}
if(typeof _xh=='undefined'){_xh=fith}
imP=ctx.getImageData(_xl,_xt,_xw,_xh)
tid = imP.data
for (ihg=0; ihg<tid.length; ihg+=4){tid[ihg] = 255-tid[ihg]
tid[ihg+1] = 255-tid[ihg+1]
tid[ihg+2] = 255-tid[ihg+2]}
ctx.putImageData(imP, _xl, _xt)
hidexobject('ipadloader')}
function canvasnoise(context,_xl,_xt,_xw,_xh){xcv=z8('canvasnoise2("' + context + '",' + _xl + ',' + _xt + ',' + _xw + ',' + _xh + ')',100)}
function canvasnoise2(context,_xl,_xt,_xw,_xh){ctx=getcontx(context)
if(fith==-1||fitw==-1){hidexobject('ipadloader');return}
if(typeof _xl=='undefined'){_xl=0}
if(typeof _xt=='undefined'){_xt=0}
if(typeof _xw=='undefined'){_xw=fitw}
if(typeof _xh=='undefined'){_xh=fith}
imP=ctx.getImageData(_xl,_xt,_xw,_xh)
tid = imP.data
for (ihg=0; ihg<tid.length; ihg+=4){tid[ihg] =  randomx(0, 255)
tid[ihg+1] = randomx(0, 255)
tid[ihg+2] = randomx(0, 255)}
ctx.putImageData(imP, _xl, _xt)
hidexobject('ipadloader')}
function canvasbrighten(bam, context,_xl,_xt,_xw,_xh){xcv=z8('canvasbrighten2(' + bam + ',"' + context + '",' + _xl + ',' + _xt + ',' + _xw + ',' + _xh + ')',100)}
function canvasbrighten2(bam, context,_xl,_xt,_xw,_xh){ctx=getcontx(context)
if(fith==-1||fitw==-1){hidexobject('ipadloader');return}
if(typeof _xl=='undefined'){_xl=0}
if(typeof _xt=='undefined'){_xt=0}
if(typeof _xw=='undefined'){_xw=fitw}
if(typeof _xh=='undefined'){_xh=fith}
imP=ctx.getImageData(_xl,_xt,_xw,_xh)
d = imP.data
for (ihg=0; ihg<d.length; ihg+=4){d[ihg]=d[ihg]+bam
d[ihg+1]=d[ihg+1]+bam
d[ihg+2]=d[ihg+2]+bam}
ctx.putImageData(imP, _xl, _xt)
hidexobject('ipadloader')}
function canvassaturate(bam, context,_xl,_xt,_xw,_xh,xdelay){bam=bam/100
if(typeof xdelay=='undefined'){xdelay=100}
xcv=z8('canvassaturate2(' + bam + ',"' + context + '",' + _xl + ',' + _xt + ',' + _xw + ',' + _xh + ')',xdelay)}
function canvassaturate2(bam, context,_xl,_xt,_xw,_xh){ctx=getcontx(context)
if(fith==-1||fitw==-1){hidexobject('ipadloader');return}
if(typeof _xl=='undefined'){_xl=0}
if(typeof _xt=='undefined'){_xt=0}
if(typeof _xw=='undefined'){_xw=fitw}
if(typeof _xh=='undefined'){_xh=fith}
imP=ctx.getImageData(_xl,_xt,_xw,_xh)
d = imP.data
for (ihg=0; ihg<d.length; ihg+=4) {r=d[ihg]/255,g=d[ihg+1]/255,b=d[ihg+2]/255,topcol=Math.max(r,g,b),bottomcol=Math.min(r,g,b)
var h,s,l=(topcol+bottomcol)/2
    if(topcol==bottomcol){h=s=0}else{dd=topcol-bottomcol;s=l>0.5?dd/(2-topcol-bottomcol):dd/(topcol+bottomcol)
        switch(topcol){case r:h=(g-b)/dd+(g<b?6:0);break;case g:h=(b-r)/dd+2;break;case b:h=(r-g)/dd+4;break};h/=6}
s=s+bam
if(s==0){r=g=b=l}else{q=l<0.5?l*(1+s):l+s-l*s;p=2*l-q,r=htor(p,q,h+1/3),g=htor(p,q,h),b=htor(p,q,h-1/3);}
d[ihg]=r*255, d[ihg+1]=g*255, d[ihg+2]=b*255}
ctx.putImageData(imP, _xl, _xt)
hidexobject('ipadloader')}
function canvashue(bam, context,_xl,_xt,_xw,_xh,xdelay){if(typeof xdelay=='undefined'){xdelay=100}
xcv=z8('canvashue2(' + bam + ',"' + context + '",' + _xl + ',' + _xt + ',' + _xw + ',' + _xh + ')',xdelay)}
function canvashue2(bam, context,_xl,_xt,_xw,_xh){ctx=getcontx(context)
if(fith==-1||fitw==-1){hidexobject('ipadloader');return}
if(typeof _xl=='undefined'){_xl=0}
if(typeof _xt=='undefined'){_xt=0}
if(typeof _xw=='undefined'){_xw=fitw}
if(typeof _xh=='undefined'){_xh=fith}
imP=ctx.getImageData(_xl,_xt,_xw,_xh)
d = imP.data
for (ihg=0; ihg<d.length; ihg+=4) {r=d[ihg]/255,g=d[ihg+1]/255,b=d[ihg+2]/255,topcol=Math.max(r,g,b),bottomcol=Math.min(r,g,b)
var h,s,l=(topcol+bottomcol)/2
    if(topcol==bottomcol){h=s=0}else{dd=topcol-bottomcol;s=l>0.5?dd/(2-topcol-bottomcol):dd/(topcol+bottomcol)
        switch(topcol){case r:h=(g-b)/dd+(g<b?6:0);break;case g:h=(b-r)/dd+2;break;case b:h=(r-g)/dd+4;break};h/=6}
h=h+bam
if(s==0){r=g=b=l}else{q=l<0.5?l*(1+s):l+s-l*s;p=2*l-q,r=htor(p,q,h+1/3),g=htor(p,q,h),b=htor(p,q,h-1/3);}
d[ihg]=r*255, d[ihg+1]=g*255, d[ihg+2]=b*255}
ctx.putImageData(imP, _xl, _xt)
hidexobject('ipadloader')}
function canvascontrast(bam, context,_xl,_xt,_xw,_xh){xcv=z8('canvascontrast2(' + bam + ',"' + context + '",' + _xl + ',' + _xt + ',' + _xw + ',' + _xh + ')',100)}
function canvascontrast2(bam, context,_xl,_xt,_xw,_xh){ctx=getcontx(context)
if(fith==-1||fitw==-1){hidexobject('ipadloader');return}
if(typeof _xl=='undefined'){_xl=0}
if(typeof _xt=='undefined'){_xt=0}
if(typeof _xw=='undefined'){_xw=fitw}
if(typeof _xh=='undefined'){_xh=fith}
imP=ctx.getImageData(_xl,_xt,_xw,_xh)
d = imP.data
for (ihg=0; ihg<d.length; ihg+=4) {txval= (d[ihg]+d[ihg+1]+d[ihg+2])/3;if(txval>127){tval=bam}else{tval=-bam}
nv1=d[ihg]+tval;if(nv1>255){nv1=255};if(nv1<0){nv1=0};d[ihg]=nv1
nv1=d[ihg+1]+tval;if(nv1>255){nv1=255};if(nv1<0){nv1=0};d[ihg+1]=nv1
nv1=d[ihg+2]+tval;if(nv1>255){nv1=255};if(nv1<0){nv1=0};d[ihg+2]=nv1}
ctx.putImageData(imP, _xl, _xt)
hidexobject('ipadloader')}
function canvassharpen2(bam,context,_xl,_xt,_xw,_xh){matrix=[0,-1,0,-1,5,-1,0,-1,0]
strength=.2 * (bam+1)
if(strength>1){strength=1}
matrixrip(context,getxwidth(context),getxheight(context),strength)
hidexobject('ipadloader')}
var matrix=new Array(0,0,0,0,0,0,0,0,0)
function matrixrip(thecanvas,w,h,strength){ctx=getcontx(thecanvas),matrixc=Math.round(Math.sqrt(matrix.length)),matrixh=(matrixc*0.5)|0,finalcanvas=ctx.createImageData(w,h),workingbuffer=finalcanvas.data,originalbuffer=ctx.getImageData(0,0,w,h).data,y=h
while(y--){x=w;
while (x--) {var sy=y,sx=x,dOs=(y*w+x)*4,r=0,g=0,b=0,a=0;
for (var cy=0;cy<matrixc;cy++){for (var cx=0;cx<matrixc;cx++){var scy=sy+cy-matrixh,scx=sx+cx-matrixh;
if(scy>=0&&scy<h&&scx>=0&&scx<w){var sOs=(scy*w+scx)*4;var wt=matrix[cy*matrixc+cx];r+=originalbuffer[sOs]*wt;g+=originalbuffer[sOs + 1] * wt;b+=originalbuffer[sOs + 2] * wt;a+=originalbuffer[sOs + 3] * wt;}}}
workingbuffer[dOs]=r*strength+originalbuffer[dOs]*(1-strength),workingbuffer[dOs+1]=g*strength+originalbuffer[dOs+1]*(1-strength),workingbuffer[dOs+2]=b*strength+originalbuffer[dOs+2]*(1-strength),workingbuffer[dOs+3]=originalbuffer[dOs+3];}}
ctx.putImageData(finalcanvas,0,0);}
function canvasrgb(bam, bam2, bam3, context,_xl,_xt,_xw,_xh){xcv=z8('canvasrgb2(' + bam + ',' + bam2 + ',' + bam3 + ',"' + context + '",' + _xl + ',' + _xt + ',' + _xw + ',' + _xh + ')',100)}
function canvasrgb2(bam, bam2, bam3, context,_xl,_xt,_xw,_xh){ctx=getcontx(context)
if(fith==-1||fitw==-1){hidexobject('ipadloader');return}
if(typeof _xl=='undefined'){_xl=0}
if(typeof _xt=='undefined'){_xt=0}
if(typeof _xw=='undefined'){_xw=fitw}
if(typeof _xh=='undefined'){_xh=fith}
imP=ctx.getImageData(_xl,_xt,_xw,_xh)
d = imP.data
for (ihg=0; ihg<d.length; ihg+=4) {nv1=d[ihg]+bam;if(nv1>255){nv1=255};if(nv1<0){nv1=0};d[ihg]=nv1
nv1=d[ihg+1]+bam2;if(nv1>255){nv1=255};if(nv1<0){nv1=0};d[ihg+1]=nv1
nv1=d[ihg+2]+bam3;if(nv1>255){nv1=255};if(nv1<0){nv1=0};d[ihg+2]=nv1}
ctx.putImageData(imP, _xl, _xt)
hidexobject('ipadloader')}
function canvassharpen(bam, context,_xl,_xt,_xw,_xh){xcv=z8('canvassharpen2(' + bam + ',"' + context + '",' + _xl + ',' + _xt + ',' + _xw + ',' + _xh + ')',100)}
function xplayaudio(object){xf=xgetref(context);if(xf>-1){playSound(f[lx].mds,xf)}}
function xrotateto(obname,fromx,tox,delay,totaltime){xrotate(obname,fromx);for(ixc=0; ixc<f.length; ixc++){if(f[ixc].objectname==obname){currentval=fromx;newval=tox;odiff=(newval-currentval)/(totaltime/delay);y1(f[ixc].fcounter);f[ixc].fcounterv=0;f[ixc].fcounter=z9("_xrotateto(" + ixc + "," + fromx + "," + odiff + "," + totaltime/delay + ")",(totaltime/delay));break}}}
function _xrotateto(ixc,fromx,byx,ototal){f[ixc].fcounterv=f[ixc].fcounterv+1;f[ixc].rotate=fromx + f[ixc].fcounterv*byx;f[ixc].object.style.WebkitTransform='rotate(' + f[ixc].rotate + 'deg)';f[ixc].object.style.MozTransform='rotate(' + f[ixc].rotate + ')';f[ixc].object.style.msTransform='rotate(' + f[ixc].rotate + 'deg)';if(f[ixc].fcounterv>=ototal){y1(f[ixc].fcounter);f[ixc].pcounter=0};if(f[ixc].object.style.visibility=='hidden'){y1(f[ixc].fcounter);f[ixc].fcounter=0}}
function xscaleto(obname,fromx,tox,delay,totaltime,alignx){xscale(obname,fromx);for(ixc=0; ixc<f.length; ixc++){if(f[ixc].objectname==obname){oxl=parseInt(f[ixc].object.style.left);oxt=parseInt(f[ixc].object.style.top);oxw=parseInt(f[ixc].object.style.width) * fromx;oxh=parseInt(f[ixc].object.style.height) * fromx;currentval=fromx;newval=tox;odiff=(newval-currentval)/(totaltime/delay);y1(f[ixc].pcounter);f[ixc].pcounterv=0;f[ixc].pcounter=z9("_xscaleto(" + ixc + "," + fromx + "," + odiff + "," + totaltime/delay + "," + alignx + "," + tox + "," + oxl + "," + oxt + "," + oxw + "," + oxh + ")",(totaltime/delay));break}}}
function _xscaleto(ixc,fromx,byx,ototal,alignx,tox,oxl,oxt,oxw,oxh){f[ixc].pcounterv=f[ixc].pcounterv+1;f[ixc].scale=fromx + f[ixc].pcounterv*byx;f[ixc].object.style.WebkitTransform='scale(' + f[ixc].scale + ')';f[ixc].object.style.WebkitTransformOrigin='0% 0%';f[ixc].object.style.MozTransform='scale(' + f[ixc].scale + ')';f[ixc].object.style.MozTransformOrigin='0% 0%';f[ixc].object.style.msTransform='scale(' + f[ixc].scale + ')';f[ixc].object.style.msTransformOrigin='0% 0%'
if(alignx==1){f[ixc].object.style.left=oxl + (oxw-(parseInt(f[ixc].object.style.width)*f[ixc].scale))/2;f[ixc].object.style.top=oxt + (oxh-(parseInt(f[ixc].object.style.height)*f[ixc].scale))/2}
if(alignx==2){f[ixc].object.style.left=oxl + (oxw-(parseInt(f[ixc].object.style.width)*f[ixc].scale))/2};if(alignx==3){f[ixc].object.style.left=oxl + (oxw-(parseInt(f[ixc].object.style.width)*f[ixc].scale))/1};if(alignx==4){f[ixc].object.style.top=oxt + (oxh-(parseInt(f[ixc].object.style.height)*f[ixc].scale))/1}
if(alignx==5){f[ixc].object.style.left=oxl + (oxw-(parseInt(f[ixc].object.style.width)*f[ixc].scale))/2;f[ixc].object.style.top=oxt + (oxh-(parseInt(f[ixc].object.style.height)*f[ixc].scale))/1}
if(alignx==6){f[ixc].object.style.left=oxl + (oxw-(parseInt(f[ixc].object.style.width)*f[ixc].scale))/1;f[ixc].object.style.top=oxt + (oxh-(parseInt(f[ixc].object.style.height)*f[ixc].scale))/1}
if(alignx==7){f[ixc].object.style.top=oxt + (oxh-(parseInt(f[ixc].object.style.height)*f[ixc].scale))/2};if(alignx==8){f[ixc].object.style.top=oxt + (oxh-(parseInt(f[ixc].object.style.height)*f[ixc].scale))/2;f[ixc].object.style.left=oxl + (oxw-(parseInt(f[ixc].object.style.width)*f[ixc].scale))/1}
if(f[ixc].pcounterv>=ototal){y1(f[ixc].pcounter);f[ixc].pcounter=0};if(f[ixc].object.style.visibility=='hidden'){y1(f[ixc].pcounter);f[ixc].pcounter=0}}
function xmoveto(obname,fromx,fromy,tox,toy,delay,totaltime){positionx(obname,fromx,fromy);for(ixc=0; ixc<f.length; ixc++){if(f[ixc].objectname==obname){currentvalx=parseInt(f[ixc].object.style.left);currentvaly=parseInt(f[ixc].object.style.top);newvalx=tox;newvaly=toy;odiffx=(newvalx-currentvalx)/(totaltime/delay);odiffy=(newvaly-currentvaly)/(totaltime/delay);y1(f[ixc].ocounter);f[ixc].ocounterv=0;f[ixc].ocounter=z9("_xmoveto(" + ixc + "," + fromx + "," + fromy + "," + odiffx + "," + odiffy + "," + totaltime/delay + "," + tox + "," + toy + ")",(delay));break}}}
function xmovedone(obname){}
function _xmoveto(ixc,fromx,fromy,byx,byy,ototal,tox,toy){f[ixc].ocounterv=f[ixc].ocounterv+1;f[ixc].object.style.left=fromx + f[ixc].ocounterv*byx;f[ixc].object.style.top=fromy + f[ixc].ocounterv*byy;if(f[ixc].ocounterv>=ototal){y1(f[ixc].ocounter);f[ixc].ocounter=0;f[ixc].object.style.left=tox;f[ixc].object.style.top=toy;xmovedone(f[ixc].objectname);if(f[ixc].hideam==1){f[ixc].hideam=0;hidexobject(f[ixc].objectname)}};if(f[ixc].object.style.visibility=='hidden'){y1(f[ixc].ocounter);f[ixc].ocounter=0}}
function _xopacityto(ixc,percc){f[ixc].tval=f[ixc].tval+percc;f[ixc].object.style.opacity=f[ixc].tval;f[ixc].object.style.MozOpacity=f[ixc].tval;fredx=z8('f[' + ixc + '].object.style.filter="alpha(opacity=' + (f[ixc].tval*100) + ')"',1);f[ixc].rcounterv=f[ixc].rcounterv-1;if(f[ixc].rcounterv==0||f[ixc].object.style.visibility=='hidden'){y1(f[ixc].rcounter);f[ixc].rcounter=0}}
function xopacityto(obname,from,percc,delay,totaltime){xopacity(obname,from);for(ixc=0; ixc<f.length; ixc++){if(f[ixc].objectname==obname){currentval=f[ixc].tval;newval=percc;odiff=(newval-currentval)/(totaltime/delay);y1(f[ixc].rcounter);f[ixc].rcounterv=totaltime/delay;f[ixc].rcounter=z9("_xopacityto(" + ixc + "," + odiff + ")",(delay));break}}}
function xrestoreopacity(obname){for(ixc=0; ixc<f.length; ixc++){if(f[ixc].objectname==obname){f[ixc].tval=1;f[ixc].object.style.opacity=f[ixc].tval;f[ixc].object.style.MozOpacity=f[ixc].tval;fredx=z8('f[' + ixc + '].object.style.filter="alpha(opacity=' + (f[ixc].tval*100) + ')"',1);break}}}
function xrestoresize(obname){for(ixc=0; ixc<f.length; ixc++){if(f[ixc].objectname==obname){f[ixc].scale=1;f[ixc].object.style.WebkitTransform='scale(' + f[ixc].scale + ')';f[ixc].object.style.WebkitTransformOrigin='0% 0%';f[ixc].object.style.MozTransform='scale(' + f[ixc].scale + ')';f[ixc].object.style.MozTransformOrigin='0% 0%';f[ixc].object.style.msTransform='scale(' + f[ixc].scale + ')';f[ixc].object.style.msTransformOrigin='0% 0%';break}}}
function xrestorepos(obname){for(ixc=0; ixc<f.length; ixc++){if(f[ixc].objectname==obname){f[ixc].object.style.left=f[ixc].xleft;f[ixc].object.style.top=f[ixc].xtop}}}
function xopacity(obname, opacity){for(ixc=0; ixc<f.length; ixc++){if(f[ixc].objectname==obname){f[ixc].tval=opacity;f[ixc].object.style.opacity=opacity;f[ixc].object.style.MozOpacity=opacity;fredx=z8('f[' + ixc + '].object.style.filter="alpha(opacity=' + (opacity*100) + ')"',1);break}}}
function xalign(theob,thetype){ewid=getxwidth(theob);ehit=getxheight(theob);if(thetype=='topleft'){neleft=0, netop=0};if(thetype=='topcenter'){neleft=(cwidth-ewid)/2, netop=0};if(thetype=='topright'){neleft=cwidth-ewid, netop=0};if(thetype=='bottomleft'){neleft=0, netop=cheight-ehit};if(thetype=='bottomcenter'){neleft=(cwidth-ewid)/2, netop=cheight-ehit};if(thetype=='bottomright'){neleft=cwidth-ewid, netop=cheight-ehit};if(thetype=='center'){neleft=(cwidth-ewid)/2, netop=(cheight-ehit)/2};if(thetype=='centerleft'){neleft=0, netop=(cheight-ehit)/2};if(thetype=='centerright'){neleft=cwidth-ewid, netop=(cheight-ehit)/2};positionx(theob,neleft,netop)}
function positionx(theob,xx,yy){for(ilx=0; ilx<f.length; ilx++){if(f[ilx].objectname.toLowerCase()==theob.toLowerCase()){f[ilx].object.style.left=xx,f[ilx].object.style.top=yy}}}
function xrotate(theob,percc){ilx=xgetref(theob);if(ilx>-1){f[ilx].rotate=f[ilx].rotate+percc;xprocessobject(ilx)}}
function xrotatefixed(theob,percc){ilx=xgetref(theob);if(ilx>-1){f[ilx].rotate=percc;xprocessobject(ilx)}}
function xscale(theob,percc){ilx=xgetref(theob);if(ilx>-1){f[ilx].scale=f[ilx].scale*percc;xprocessobject2(ilx)}}
function xscaleliteral(theob,percc){ilx=theob;if(ilx>-1){f[ilx].scale=percc;xprocessobject(ilx)}}
function xscalecenter(theob,percc){ilx=xgetref(theob);if(ilx>-1){lmpos=getxwidth(theob)*f[ilx].scale,lmpos2=getxwidth(theob)*(f[ilx].scale*percc),wc=(lmpos2-lmpos)/2,tmpos=getxheight(theob)*f[ilx].scale,tmpos2=getxheight(theob)*(f[ilx].scale*percc),tc=(tmpos2-tmpos)/2,lmpos=getxleft(theob),tmpos=getxtop(theob);f[ilx].scale=f[ilx].scale*percc;xprocessobject2(ilx);positionx(theob,lmpos-wc,tmpos-tc)}}
function xprocessobject(tbn){f[tbn].object.style.WebkitTransformOrigin='50% 50%',f[tbn].object.style.MozTransformOrigin='50% 50%',f[tbn].object.style.msTransformOrigin='50% 50%',f[tbn].object.style.WebkitTransform='scale(' + f[tbn].scale + ') rotate(' + f[tbn].rotate + 'deg) translate3d(0,0,0)',f[tbn].object.style.MozTransform='scale(' + f[tbn].scale + ') rotate(' + f[tbn].rotate + 'deg) translate3d(0,0,0)',f[tbn].object.style.msTransform='scale(' + f[tbn].scale + ') rotate(' + f[tbn].rotate + 'deg) translate3d(0,0,0)'}
function xprocessobject2(tbn){f[tbn].object.style.WebkitTransformOrigin='0% 0%',f[tbn].object.style.MozTransformOrigin='0% 0%',f[tbn].object.style.msTransformOrigin='0% 0%',f[tbn].object.style.WebkitTransform='scale(' + f[tbn].scale + ') rotate(' + f[tbn].rotate + 'deg) translate3d(0,0,0)',f[tbn].object.style.MozTransform='scale(' + f[tbn].scale + ') rotate(' + f[tbn].rotate + 'deg) translate3d(0,0,0)',f[tbn].object.style.msTransform='scale(' + f[tbn].scale + ') rotate(' + f[tbn].rotate + 'deg) translate3d(0,0,0)'}
function centerx(theob,xx,yy){positionx(theob,xx-(getxwidth(theob)/2),yy-(getxheight(theob)/2))}
function showontop(t){showxobject(t);ontopx(t)}
function resetallobjects(xobs){allxobs=xobs.split('_');for(ix=0; ix<allxobs.length; ix++){fullyresetobject(allxobs[ix])}}
function showgroupmodal(thegroup){showgroup(thegroup + '11')}
function fullyresetobject(t){resetxobject(t,true,true,true)}
function setobjectgroup(t,thegroup){cref=xgetref(t);f[cref].og=thegroup}
function resetxobject(obname,image,position,dimensions){ixc=xgetref(obname);if(ixc!=-1){f[ixc].object.style.opacity=f[ixc].tval,f[ixc].ttval=f[ixc].tval
if(image==true||f[ixc].photo!=''){ixcx=getObject("maini" + ixc),ixcx.src=f[ixc].xphoto,f[ixc].photo=f[ixc].xphoto}
if(position==true){f[ixc].lleft=f[ixc].xleft,f[ixc].ttop=f[ixc].xtop,f[ixc].object.style.left=f[ixc].xleft,f[ixc].object.style.top=f[ixc].xtop}
if(dimensions==true){ixcxo=f[ixc].object,ixcxo.innerHTML=ixcxo.innerHTML.replace('width="' + parseInt(f[ixc].object.style.width) + '"','width="' + f[ixc].xwidth + '"'),ixcxo.innerHTML=ixcxo.innerHTML.replace('height="' + parseInt(f[ixc].object.style.height) + '"','height="' + f[ixc].xheight + '"')
ixcxo.innerHTML=fur(ixcxo.innerHTML,'width:' + parseInt(f[ixc].object.style.width) + 'px','width:' + f[ixc].xwidth + 'px')
ixcxo.innerHTML=fur(ixcxo.innerHTML,'height:' + parseInt(f[ixc].object.style.height) + 'px','height:' + f[ixc].xheight + 'px')
ixcxo.style.width=f[ixc].xwidth,ixcxo.style.height=f[ixc].xheight,f[ixc].wwidth=f[ixc].xwidth,f[ixc].hheight=f[ixc].xheight}}}
function movetox(theob,timedelay,steps, startx, starty, endx, endy){for(ilx=0; ilx<f.length; ilx++){if(f[ilx].objectname.toLowerCase()==theob.toLowerCase()){movexobject (0,theob,startx, starty,false,false,1,0,-10000,false);buildx=startx, buildy=starty, tstepsx=(endx-startx)/steps, tstepsy=(endy-starty)/steps;for (ilxx=1; ilxx<steps+1; ilxx++){buildx=buildx + "_" + parseInt((startx + (ilxx*tstepsx)))};for (ilxx=1; ilxx<steps+1; ilxx++){buildy=buildy + "_" + parseInt((starty + (ilxx*tstepsy)))};movealongx(timedelay,theob,buildx,buildy)}}}
function movealongx(delay,theob,xcords,ycords){ttimesx=xcords.split("_"), ttimesy=ycords.split("_");for(xma=0; xma<ttimesx.length; xma++){movexobject (delay*xma,theob,ttimesx[xma], ttimesy[xma],false,false,1,0,-10000,false)}}
function movexobject(delay, obname,left,top, leftrel, toprel, times, interval, trans, transrel){usezratio=zratio;if(tbro=='ie'){usezratio=1};if(delay>0){movexdelay=z8("movexobject(0,'" + obname + "'," + left + "," + top + "," + leftrel + "," + toprel + "," + times + "," + interval + "," + trans + "," + transrel + ")",delay);return}
ofound=-1, xleft=left, xtop=top, xtrans=trans; for(ixcf=0; ixcf<f.length; ixcf++){if(f[ixcf].objectname==obname){if(left!=-10000){if(leftrel){left=parseInt(f[ixcf].object.style.left)+(left*usezratio)}else{left=left*usezratio};f[ixcf].object.style.left=left, f[ixcf].lleft=left, f[ixcf].zlleft=left/usezratio}
if(top!=-10000){if(toprel){top=parseInt(f[ixcf].object.style.top)+(top*usezratio)}else{top=top*usezratio};f[ixcf].ttop=top, f[ixcf].zttop=top/usezratio, f[ixcf].object.style.top=top};if(trans!=-10000){actualtrans=f[ixcf].ttval;if(transrel){actualtrans=(new Number(actualtrans))+(new Number(trans))};if(getsafari()){f[ixcf].object.style.opacity=actualtrans}else{if(getff()){f[ixcf].object.style.MozOpacity=actualtrans}else{f[ixcf].object.style.filter="alpha(opacity=" + (actualtrans*100) + ")"}};f[ixcf].ttval=actualtrans};ofound=ixcf;break}}
if(times>0&&interval>0&&ofound!=-1){if(f[ofound].icounterv==0){f[ofound].icounter=0;f[ofound].icounterv=z9("movexobject(0,'" + obname + "'," + xleft + "," + xtop + "," + leftrel + "," + toprel + "," + times + "," + interval + "," + xtrans + "," + transrel + ")",interval)}else{f[ofound].icounter=f[ofound].icounter+1;if(f[ofound].icounter>=times-1){y2(f[ofound].icounterv);f[ofound].icounterv=0}}}}
function positionxdelay(delay, theob,xx,yy){apositionxdelay=z8("cleareffectsx('" + theob + "');positionx('" + theob + "'," + xx + "," + yy + ")",delay)}
function loadnewpicture(obname,picurl,width,height){for(ixc=0; ixc<f.length; ixc++){if(f[ixc].objectname==obname){ixcx=getObject("maini" + ixc),ixcx.src=picurl,f[ixc].photo=picurl,ixcxo=f[ixc].object,ixcxo.innerHTML=ixcxo.innerHTML.replace('"' + f[ixc].wwidth + '"','"' + width + '"'),ixcxo.innerHTML=ixcxo.innerHTML.replace('"' + f[ixc].hheight + '"','"' + height + '"'),ixcxo.style.width=width,ixcxo.style.height=height,f[ixc].wwidth=width,f[ixc].hheight=height;break}}}
function updatexobject(obname){for(ixc=0; ixc<f.length; ixc++){if(f[ixc].objectname==obname){writepercent(ixc);break}}}
function isinsidex(thesource,thetarget){ll=getxleft(thesource),tt=getxtop(thesource),ww=getxwidth(thesource),hh=getxheight(thesource),centerpointx=ll+ww/2,centerpointy=tt+hh/2
if(centerpointx>getxleft(thetarget)&&centerpointx<getxleft(thetarget)+getxwidth(thetarget)&&centerpointy>getxtop(thetarget)&&centerpointy<getxtop(thetarget)+getxheight(thetarget)){return true}else{return false}}
function getxleftadjusted(obname){isvisx='';ixc=xgetref(obname);if(ixc>-1){isvisx = parseInt(f[ixc].object.style.left);ale=f[ixc].scale*parseInt(f[ixc].object.style.width)-parseInt(f[ixc].object.style.width);isvisx=isvisx-parseInt(ale/2)};return isvisx}
function getxtopadjusted(obname){isvisx='';ixc=xgetref(obname);if(ixc>-1){isvisx = parseInt(f[ixc].object.style.top);ale=f[ixc].scale*parseInt(f[ixc].object.style.height)-parseInt(f[ixc].object.style.height);isvisx=isvisx-parseInt(ale/2)};return isvisx}
function getxleft(obname){isvisx='';ixc=xgetref(obname);if(ixc>-1){isvisx = parseInt(f[ixc].object.style.left)};return isvisx}
function getxtop(obname){isvisx='';ixc=xgetref(obname);if(ixc>-1){isvisx = parseInt(f[ixc].object.style.top)};return isvisx}
function getxwidth(obname){isvisx="";for(ixc=0; ixc<f.length; ixc++){if(f[ixc].objectname==obname){isvisx = parseInt(f[ixc].object.style.width)*f[ixc].scale;break}};return isvisx}
function getxheight(obname){isvisx="";for(ixc=0; ixc<f.length; ixc++){if(f[ixc].objectname==obname){isvisx = parseInt(f[ixc].object.style.height)*f[ixc].scale;break}};return isvisx}
function setxtag(obname,tag, delay){for(ixc=0; ixc<f.length; ixc++){if(f[ixc].objectname==obname){if(delay>0){tagdelay=z8("setxtag('" + obname + "',0)",delay)}else{f[ixc].tag=tag};break}}}
function setxtag2(obname,tag, delay){for(ixc=0; ixc<f.length; ixc++){if(f[ixc].objectname==obname){if(delay>0){tagdelay=z8("setxtag2('" + obname + "',0)",delay)}else{f[ixc].tag2=tag};break}}}
function setxtag3(obname,tag, delay){for(ixc=0; ixc<f.length; ixc++){if(f[ixc].objectname==obname){if(delay>0){tagdelay=z8("setxtag3('" + obname + "',0)",delay)}else{f[ixc].tag3=tag};break}}}
function getxtag(obname){isvisx="";for(ixc=0; ixc<f.length; ixc++){if(f[ixc].objectname==obname){isvisx = f[ixc].tag;break}};return isvisx}
function getxtag2(obname){isvisx="";for(ixc=0; ixc<f.length; ixc++){if(f[ixc].objectname==obname){isvisx = f[ixc].tag2;break}};return isvisx}
function getxtag3(obname){isvisx="";for(ixc=0; ixc<f.length; ixc++){if(f[ixc].objectname==obname){isvisx = f[ixc].tag3;break}};return isvisx}
function randomx(start, end){return Math.floor(Math.random()*((end-start)+1))+start}
function imagesource(obname){isvisx="";for(ixc=0; ixc<f.length; ixc++){if(f[ixc].objectname==obname){isvisx = f[ixc].photo;break}};return isvisx}
function isvis(obname){isvisx=false;for(ixc=0; ixc<f.length; ixc++){if(f[ixc].objectname==obname){if(f[ixc].object.style.visibility=="visible"){isvisx=true;break}}};return isvisx}
function getvaluex(obname){for(ixc=0; ixc<f.length; ixc++){if(f[ixc].objectname==obname){return getObject('mainp' + ixc).value}}}
function setvaluex(obname, newval){for(ixc=0; ixc<f.length; ixc++){if(f[ixc].objectname==obname){getObject('mainp' + ixc).value=newval}}}
function soundxduration(obname){return document.getElementById(obname).duration}
function soundxcurrent(obname){return document.getElementById(obname).currentTime}
function setthecolor(tx){lpos=-1, tpos=-1;for (j=0; j<f.length; j++){if(f[j].objectname==tx){ctxcolor=f[j].backcolor;positionx('colortick',getxleft(tx)+(getxwidth(tx)-23)/2,getxtop(tx)+(getxheight(tx)-23)/2);ontopx('colortick');showxobject('colortick');break}}}
function nextsprite(obname){frx=xgetref(obname);if(frx==-1){return};if(f[frx].sprites!=''){if(f[frx].object.style.visibility=='hidden'){y2(f[frx].sptoe);return};fssn=f[frx].sprites.split('|');f[frx].sno=f[frx].sno+1;if(f[frx].sno>=fssn.length){f[frx].sno=0};usp=fssn[f[frx].sno];f[frx].ir.src=f[usp].photo}}
function previoussprite(obname){frx=xgetref(obname);if(frx==-1){return};if(f[frx].sprites!=''){if(f[frx].object.style.visibility=='hidden'){y2(f[frx].sptoe);return};fssn=f[frx].sprites.split('|');f[frx].sno=f[frx].sno-1;if(f[frx].sno<0){f[frx].sno=fssn.length-1};usp=fssn[f[frx].sno],f[frx].ir.src=f[usp].photo}}
function setsprite(obname,sn){frx=xgetref(obname);if(frx==-1){return};if(f[frx].sprites!=''){if(f[frx].sno==sn-1){return};fssn=f[frx].sprites.split('|');f[frx].sno=sn-1,usp=fssn[f[frx].sno],f[frx].ir.src=f[usp].photo}}
function stopsoundx(obname){document.getElementById(obname+'_ab').src=obname+'_abn.png';for(ixc=0; ixc<f.length; ixc++){if(f[ixc].objectname==obname){f[ixc].playing=0;y2(f[ixc].playcounter);break}}
if(ixc>0){try{document.getElementById(f[ixc].objectname).pause();document.getElementById(f[ixc].objectname).currentTime=0}catch(err){}}}
function txs2(playpos,totalplay){}
function txsound(obname){txs(obname), tpa=xgetref(obname)
if(f[tpa].pb1>-1&&f[tpa].pb2>-1){perc=(document.getElementById(obname).currentTime / document.getElementById(obname).duration)
pb1=f[tpa].pb1, pb2=f[tpa].pb2
pbleft=getxleft(f[pb2].objectname)+1-10
pbtop=getxtop(f[pb2].objectname)+1
pbwidth=getxwidth(f[pb2].objectname)-getxwidth(f[pb1].objectname)-1+20
if(f[pb1].isd==false){f[pb1].object.style.left=pbleft + (perc * pbwidth)}
txs2(document.getElementById(obname).currentTime,document.getElementById(obname).duration)}
resetit=false
try{if(document.getElementById(obname).currentTime==document.getElementById(obname).duration&&document.getElementById(obname).duration>0){resetit=true}}catch(err){}
if(resetit){gtns=0
if(f[tpa].loop==1){return}
if(f[tpa].gtnsx==1){gtns=1}
if(f[tpa].isvideo==0){document.getElementById(obname+'_ab').src=obname+'_abn.png'}
ixc=xgetref(obname)
if(ixc>-1){f[ixc].playing=0
y2(f[ixc].playcounter)
try{document.getElementById(f[ixc].objectname).pause()}catch(err){}}
if(gtns==1){gotoNextPause()}}}
for(ixc=0; ixc<f.length; ixc++){if(f[ixc].xevent!=''||f[ixc].xxevent!=''){if(isiphone==0&&isitouch==0){f[ixc].og='', f[ixc].timeon=0, f[ixc].timeoff=0, f[ixc].hatimeon=0, f[ixc].hatimeoff=0, f[ixc].mo_timeon=0, f[ixc].mo_timeoff=0, f[ixc].eventoff=0}}
if(f[ixc].text.indexOf('<audio')>-1){if(f[ixc].text.indexOf('this.play()')>-1){f[ixc].loop=1}
if(f[ixc].text.indexOf('<SYNCHRONIZEME>')>-1){f[ixc].synch=1}
if(f[ixc].text.indexOf('<AUTOSTARTME>')>-1){f[ixc].autostart=1}
if(f[ixc].text.indexOf('<GTNS>')>-1){f[ixc].gtnsx=1}}
if(f[ixc].text.indexOf('<video')>-1){f[ixc].isvideo=1
if(f[ixc].text.indexOf('<SYNCHRONIZEME>')>-1){f[ixc].vsynch=1}
if(f[ixc].text.indexOf('<AUTOSTARTME>')>-1){f[ixc].vautostart=1}}}
function txs(obname){ctp=document.getElementById(obname)
if(ctp==null){return}            
ct=ctp.currentTime*1000
for(ixc=0; ixc<f.length; ixc++){if(f[ixc].objectname==obname){if(f[ixc].isvideo==1){f[ixc].playing=1
if(document.getElementById(obname).paused==true){f[ixc].playing=0}}
if(f[ixc].playing==1&&ct>0){if(f[ixc].synch==1||f[ixc].vsynch==1){ctx=ct + f[ixc].z1
for(iii=0; iii<f.length; iii++){if(f[iii].timeon==thepos){otc=f[iii].z1 + f[iii].z2
hideshowit = 0
if(f[iii].z1>0||f[iii].hidelay>0){timeon=f[iii].z1
timeoff = 99999999999999
if(f[iii].z2>0){timeoff=timeon+f[iii].z2}
if(ctx>=timeon&&ctx<=timeoff){hideshowit=1}else{hideshowit=2}}
if(f[iii].z2>0){if(ctx>otc&&f[iii].object.style.visibility=='visible'){hidexobject(f[iii].objectname)}}
if(hideshowit==2){if(f[iii].object.style.visibility=='visible'){hidexobject(f[iii].objectname)}}
if(hideshowit==1){if(f[iii].object.style.visibility=='hidden'){z6 (iii)
if(f[iii].objectname=='pause'){document.getElementById(obname).pause();document.getElementById(obname+'_ab').src=obname+'_abn.png';f[ixc].playing=0;y2(f[ixc].playcounter)}}}}}}
if(f[ixc].object.style.visibility=='hidden'){document.getElementById(obname).pause();
try{document.getElementById(obname).currentTime=0}catch(err){}
if(f[ixc].isvideo==0){document.getElementById(obname+'_ab').src=obname+'_abn.png'};
f[ixc].playing=0
y2(f[ixc].playcounter)}};break}}}
function allowdragx(obname){for(ixc=0; ixc<f.length; ixc++){if(f[ixc].objectname==obname){f[ixc].drag=1;f[ixc].hasevent=true}}}
function preventdragx(obname){for(ixc=0; ixc<f.length; ixc++){if(f[ixc].objectname==obname){f[ixc].drag=0;f[ixc].hasevent=false}}}
function pausesoundx(obname){tao=xgetref(obname);
if(f[tao].object.innerHTML.indexOf('flashplayer.swf')>-1){fixFlash(tao,1);return}
f[tao].playing=0
y2(f[tao].playcounter)
try{document.getElementById(obname).pause()
document.getElementById(obname+'_ab').src=obname+'_abn.png'}catch(err){}}
function playsoundx(obname){tao=xgetref(obname);
if(f[tao].object.innerHTML.indexOf('flashplayer.swf')>-1){fixFlash(tao,0);return}
if(f[tao].playing==1){pausesoundx(obname);return};for(ixc=0; ixc<f.length; ixc++){if(f[ixc].playing==1&&ixc!=tao){if(isvis(f[ixc].objectname)){pausesoundx(f[ixc].objectname)}}};document.getElementById(obname).play();document.getElementById(obname+'_ab').src=obname+'_ab.png';f[tao].playing=1;f[tao].playcounter=z9("txsound('" + obname + "')",100)}
function xgetref(obname){obname=new String(obname);fref=-1;for(ilx=0; ilx<f.length; ilx++){if(f[ilx].objectname.toLowerCase()==obname.toLowerCase()){fref=ilx;break}}return fref}
function setsoundposx(obname,xval){try{document.getElementById(obname).currentTime=0}catch(err){}}
function volumesoundx(obname,xval){document.getElementById(obname).volume=xval}
function getvaluemx(obname,dval){for(ixc=0; ixc<f.length; ixc++){if(f[ixc].objectname==obname + 'acob' + dval){return getObject('mainp' + ixc).value}}}
function setvaluemx(obname,dval, newval){for(ixc=0; ixc<f.length; ixc++){if(f[ixc].objectname==obname + 'acob' + dval){getObject('mainp' + ixc).value=newval}}}
function getvalueddx(obname,dval){for(ixc=0; ixc<f.length; ixc++){if(f[ixc].objectname==obname + (dval-1)){return getObject('dd' + (f[ixc].oid)).value}}}
function applyclassx(obname, theclass, complete){for(ixc=0; ixc<f.length; ixc++){if(f[ixc].objectname==obname){cname=f[icx].object.className;if(complete==true||cname==''){f[icx].object.className=theclass}else{f[icx].object.className=cname + ' ' + theclass}}}}
function centerxdelay(delay,theob,xx,yy){sethdelay=z8("centerx('" + theob + "'," + xx + "," + yy + ")",delay)}
function centershowx(theob,xx,yy){centerx(theob,xx,yy);showxobject(theob)}
function overlapx(object1,object2){olapx=false;x2=getxwidth(object1)/2 + getxleft(object1);y2=getxheight(object1)/2 + getxtop(object1);if(isvis(object1)&&isvis(object2)&&x2>=getxleft(object2)&&x2<=getxleft(object2)+getxwidth(object2)&&y2>=getxtop(object2)&&y2<=getxtop(object2)+getxheight(object2)){olapx=true};tx=x2, ty=y2;return olapx}
function hidexall(xobs){allxobs=xobs.split("_");for(ix=0; ix<allxobs.length; ix++){hidexobject(allxobs[ix])}}
function showxall(xobs){allxobs=xobs.split("_");for(ix=0; ix<allxobs.length; ix++){showxobject(allxobs[ix])}}
function xfadeout(obname, mseconds){xopacityto(obname,getxopacity(obname),0,10,mseconds);hidexdelay(obname,mseconds+1);cvb=z8("xopacity('" + obname + "')",mseconds+1)}
function getxopacity(obname){jkl=xgetref(obname);if(jkl==-1){return 0}else{return f[jkl].tval}}
function getxrotation(obname){jkl=xgetref(obname);if(jkl==-1){return 0}else{return f[jkl].rotate}}
function getxscale(obname){jkl=xgetref(obname);if(jkl==-1){return 0}else{return f[jkl].scale}}
function offbottomx(theob,timedelay,stepdelay){for(ilx=0; ilx<f.length; ilx++){if(f[ilx].objectname.toLowerCase()==theob.toLowerCase()){startx=parseInt(f[ilx].object.style.left);starty=parseInt(f[ilx].object.style.top);startw=parseInt(f[ilx].object.style.width) * f[ilx].scale;starth=parseInt(f[ilx].object.style.height) * f[ilx].scale;f[ilx].hideam=1;xmoveto(theob,startx,starty,startx,cheight,stepdelay,timedelay)}}}
</SCRIPT>
<SCRIPT>
function offtopx(theob,timedelay,stepdelay){for(ilx=0; ilx<f.length; ilx++){if(f[ilx].objectname.toLowerCase()==theob.toLowerCase()){startx=parseInt(f[ilx].object.style.left);starty=parseInt(f[ilx].object.style.top);startw=parseInt(f[ilx].object.style.width) * f[ilx].scale;starth=parseInt(f[ilx].object.style.height) * f[ilx].scale;f[ilx].hideam=1;xmoveto(theob,startx,starty,startx,-starth,stepdelay,timedelay)}}}
function offleftx(theob,timedelay,stepdelay){for(ilx=0; ilx<f.length; ilx++){if(f[ilx].objectname.toLowerCase()==theob.toLowerCase()){startx=parseInt(f[ilx].object.style.left);starty=parseInt(f[ilx].object.style.top);startw=parseInt(f[ilx].object.style.width) * f[ilx].scale;starth=parseInt(f[ilx].object.style.height) * f[ilx].scale;f[ilx].hideam=1;xmoveto(theob,startx,starty,-startw,starty,stepdelay,timedelay)}}}
function offrightx(theob,timedelay,stepdelay){for(ilx=0; ilx<f.length; ilx++){if(f[ilx].objectname.toLowerCase()==theob.toLowerCase()){startx=parseInt(f[ilx].object.style.left);starty=parseInt(f[ilx].object.style.top);startw=parseInt(f[ilx].object.style.width) * f[ilx].scale;starth=parseInt(f[ilx].object.style.height) * f[ilx].scale;f[ilx].hideam=1;xmoveto(theob,startx,starty,cwidth,starty,stepdelay,timedelay)}}}
for(i=0; i<f.length; i++){f[i].imo=false,f[i].ocounterv=0,f[i].ocounter=0,f[i].fcounterv=0,f[i].fcounter=0,f[i].scounterv=0,f[i].scounter=0,f[i].pcounterv=0,f[i].pcounter=0,f[i].rcounterv=0,f[i].rcounter=0,f[i].wcounterv=0,f[i].wcounter=0}
function setdimensionx(ixc,width,height){width=parseInt(width);height=parseInt(height);ixcxo=f[ixc].object, ixcxo.innerHTML=ixcxo.innerHTML.replace('"' + f[ixc].wwidth + '"','"' + width + '"'), ixcxo.innerHTML=ixcxo.innerHTML.replace('"' + f[ixc].hheight + '"','"' + height + '"'), ixcxo.innerHTML=ixcxo.innerHTML.replace('width=' + f[ixc].wwidth,'width=' + width), ixcxo.innerHTML=ixcxo.innerHTML.replace('height=' + f[ixc].hheight,'height=' + height), ixcxo.style.width=width, ixcxo.style.height=height, f[ixc].wwidth=width, f[ixc].hheight=height}
function setdimensionx2(ixc,width,height){width=parseInt(width);height=parseInt(height);ixcxo=f[ixc].object, ixcxo.innerHTML=ixcxo.innerHTML.replace('"' + parseInt(f[ixc].object.style.width) + '"','"' + width + '"'), ixcxo.innerHTML=ixcxo.innerHTML.replace('"' + parseInt(f[ixc].object.style.height) + '"','"' + height + '"'), ixcxo.innerHTML=ixcxo.innerHTML.replace('width=' + parseInt(f[ixc].object.style.width),'width=' + width), ixcxo.innerHTML=ixcxo.innerHTML.replace('height=' + parseInt(f[ixc].object.style.height),'height=' + height), ixcxo.style.width=width, ixcxo.style.height=height}
function wobblexx(ofound,xy,time,interval,sx,sy){obname=f[ofound].objectname;f[ofound].wcounter=f[ofound].wcounter+1;if(f[ofound].wcounter>=(time/interval)-1){positionx(obname,sx,sy);y2(f[ofound].wcounterv);f[ofound].wcounterv=0;return};_kpxoffset=randomx(-xy,xy);_kpyoffset=randomx(-xy,xy);positionx(obname,sx+_kpxoffset, sy+_kpyoffset)}
function opacityxx(ixc, opacity){if(getsafari()){f[ixc].object.style.opacity=opacity}else{if(getff()){f[ixc].object.style.MozOpacity=opacity}else{f[ixc].object.style.filter="alpha(opacity=" + (opacity*100) + ")"}};f[ixc].ttval=f[ixc].opacity}
function movecyclexx(ofound,time,interval,startpx,startpy,finalpx,finalpy){obname=f[ofound].objectname;f[ofound].pcounter=f[ofound].pcounter+1;_kpxwidth=parseInt(f[ofound].object.style.width);_kpxheight=parseInt(f[ofound].object.style.height);if(f[ofound].pcounter>=(time/interval)+1){_kpcenterx=finalpx + (_kpxwidth)/2;_kpcentery=finalpy + (_kpxheight)/2;centerx(obname,_kpcenterx, _kpcentery);y2(f[ofound].pcounterv);f[ofound].scounterv=0;return};_kpxlefti=(finalpx-startpx) / (time/interval);_kpxleft=startpx + f[ofound].pcounter * _kpxlefti;_kpxtopi=(finalpy-startpy) / (time/interval);_kpxtop=startpy + f[ofound].pcounter * _kpxtopi;f[ofound].object.style.left=_kpxleft;f[ofound].aleft=_kpxleft;if(f[ofound].object.style.visibility=='hidden'){hideifws(ofound)}}
function zoomcyclexx2(ofound,time,interval,startpercentx,startpercenty,finalpercentx,finalpercenty){obname=f[ofound].objectname;f[ofound].scounter=f[ofound].scounter+1;if(f[ofound].scounter>=(time/interval)+1){_kpxwidth=finalpercentx;_kpxheight=finalpercenty;setdimensionx2(ofound,_kpxwidth, _kpxheight);y2(f[ofound].scounterv);f[ofound].scounterv=0;return};_kpxperc=(finalpercentx-startpercentx) / (time/interval);_kpxwidth=startpercentx + f[ofound].scounter * _kpxperc;_kpyperc=(finalpercenty-startpercenty) / (time/interval);_kpxheight=startpercenty + f[ofound].scounter * _kpyperc;setdimensionx2(ofound,_kpxwidth, _kpxheight);if(f[ofound].object.style.visibility=="hidden"){hideifws(ofound)}centerx(f[ofound].objectname,f[ofound].tx,f[ofound].ty)}
function zoomcyclexx(ofound,time,interval,startpercentx,startpercenty,finalpercentx,finalpercenty){obname=f[ofound].objectname;f[ofound].scounter=f[ofound].scounter+1;if(f[ofound].scounter>=(time/interval)+1){_kpxwidth=finalpercentx;_kpxheight=finalpercenty;setdimensionx(ofound,_kpxwidth, _kpxheight);y2(f[ofound].scounterv);f[ofound].scounterv=0;return};_kpxperc=(finalpercentx-startpercentx) / (time/interval);_kpxwidth=startpercentx + f[ofound].scounter * _kpxperc;_kpyperc=(finalpercenty-startpercenty) / (time/interval);_kpxheight=startpercenty + f[ofound].scounter * _kpyperc;setdimensionx(ofound,_kpxwidth, _kpxheight);if(f[ofound].object.style.visibility=="hidden"){hideifws(ofound)}centerx(f[ofound].objectname,f[ofound].tx,f[ofound].ty)}
function opacitycyclexx(ofound,time,interval,starta, enda){obname=f[ofound].objectname;f[ofound].ocounter=f[ofound].ocounter+1;if(f[ofound].ocounter>=(time/interval)+1){_kpxtran=enda/100;opacityxx(ofound,_kpxtran);y2(f[ofound].ocounterv);f[ofound].ocounterv=0;return};_kpxtrani=(enda-starta) / (time/interval);_kpxtran=(starta + (f[ofound].ocounter * _kpxtrani))/100;if(_kpxtran>100){_kpxtran=100};opacityxx(ofound,_kpxtran);if(f[ofound].object.style.visibility=="hidden"){hideifws(ofound)}}
function rotatecyclexx(ofound,time,interval,starta, enda){obname=f[ofound].objectname;f[ofound].rcounter=f[ofound].rcounter+1;if(f[ofound].rcounter>=(time/interval)+1){_kpxrotate=enda;rotatexx(ofound, (_kpxrotate));y2(f[ofound].rcounterv);f[ofound].rcounterv=0;return};_kpxrotatei=(enda-starta) / (time/interval);_kpxrotate=(f[ofound].rcounter * _kpxrotatei);rotatexx(ofound, (_kpxrotate));if(f[ofound].object.style.visibility=="hidden"){hideifws(ofound)}}
function flashcyclexx(ofound,times,offtime,ontime,israndom){f[ofound].fcounter=f[ofound].fcounter+1;if(f[ofound].fcounter>=(times)-1){y1(f[ofound].fcounterv);f[ofound].fcounterv=0;return};y1(f[ofound].fcounterv);if(israndom){if(f[ofound].object.style.visibility=='visible'){usetime=offtime}else{usetime=ontime}}else{usetime=randomx(offtime,ontime)};if(f[ofound].object.style.visibility=='visible'){f[ofound].object.style.visibility='hidden';f[ofound].object.style.overflow='hidden'}else{hideifws(ofound)};f[ofound].fcounterv=z8("flashcyclexx(" + ofound + "," + times + "," + offtime + "," + ontime + ")",usetime)}
var ierotate=new Array(0,80,70,44,30,24,20,17,15,14,12.5,11.5,11,10.2,9.7,9,8.5,8,7.6,7.3,7.1,6.85,6.68,6.4,6.25,6,5.9,5.7,5.6,5.54,5.5,5.4,5.3,5.2,5.16,5.1,5,4.95,4.93,4.91,4.9,4.88,4.86,4.858,4.856,4.84)
function hideifws(ofound){cs=getstepnumber()-1;if((f[ofound].hatimeon/5)>cs||(f[ofound].hatimeoff/5)<=cs){y2(f[ofound].wcounterv);y2(f[ofound].fcounterv);y2(f[ofound].ocounterv);y2(f[ofound].scounterv);y2(f[ofound].pcounterv);y2(r[ofound].pcounterv);if(f[ofound].object.style.visibility=='visible'){f[ofound].object.style.visibility=='hidden';f[ofound].object.style.overflow='hidden';updateobs()}}else{f[ofound].object.style.visibility=='visible';updateobs()}}
function hideandclearx(t){for(ixc=0; ixc<f.length; ixc++){if(f[ixc].objectname==t){tob=ixc;break}};y2(f[tob].wcounterv);y2(f[tob].fcounterv);y2(f[tob].ocounterv);y2(f[tob].scounterv);y2(f[tob].pcounterv);y2(r[tob].pcounterv);if(f[tob].object.style.visibility=='visible'){f[tob].object.style.visibility=='hidden';updateobs()}}
function rotatexx(ixc, degrees, mx, my){f[ixc].rotate=degrees;if(getsafari()){f[ixc].object.style.WebkitTransform='rotate(' + degrees + 'deg)'}else{if(getff()){f[ixc].object.style.MozTransform='rotate(' + degrees + 'deg)';nl=parseInt(f[ixc].object.style.left) + f[ixc].aleft;nt=parseInt(f[ixc].object.style.top) + f[ixc].atop;f[ixc].object.style.left=nl;f[ixc].object.style.top=nt}else{var deg2radians = Math.PI * 2 / 360,deg=degrees,rad = deg * deg2radians,costheta = Math.cos(rad),sintheta = Math.sin(rad),M11 = costheta,M12 = -sintheta,M21 = sintheta,M22 = costheta,degg=Math.abs(degrees)
if(degg>90){do{degg=degg-90}while (degg > 90)};degg=Math.round(degg,1);if(degg>45){degg=90-degg};obname=f[ixc].objectname;if(degg==0||degg==90||degg==180||deg==270){nl=f[ixc].srleft,nt=f[ixc].srtop}else{ox=ierotate[degg],nl=f[ixc].srleft - (f[ixc].xwidth/ox),nt=f[ixc].srtop - (f[ixc].xheight/ox)}
nl=nl + f[ixc].rcounter * f[ixc].aleft;nt=nt + f[ixc].rcounter * f[ixc].atop;f[ixc].object.style.left=nl;f[ixc].object.style.top=nt;f[ixc].object.style.filter="progid:DXImageTransform.Microsoft.Matrix(sizingMethod='auto expand',M11=" + M11 + ", M12=" + M12 + ", M21=" + M21 + ", M22=" + M22 + ")"}}}
function setoffset(theob,ll,tt){ofound=xgetref(theob);if(ofound==-1){return};f[ofound].object.style.left=ll + parseInt(f[ofound].object.style.left);f[ofound].object.style.top=tt + parseInt(f[ofound].object.style.top)}
function cleareffectsx(theob){for(i=0; i<f.length; i++){if(f[i].objectname==theob){y2(f[i].icounterv);f[i].icounterv=0;y2(f[i].ocounterv);f[i].ocounterv=0;y2(f[i].fcounterv);f[i].fcounterv=0;y2(f[i].scounterv);f[i].scounterv=0;y2(f[i].pcounterv);f[i].pcounterv=0;y2(f[i].rcounterv);f[i].rcounterv=0;y2(f[i].wcounterv);f[i].wcounterv=0;break}}}
var scroller=0, scrollob=0
function startautoscroll(obname,speed,direction,stype){amount=1, bis=0
if(obname==''){for(il=0; il<currentobjects.length; il++){ilx=currentobjects[il]
if(f[ilx].object.style.visibility=='visible'&&f[ilx].photo==''&&f[ilx].object.scrollHeight>parseInt(f[ilx].object.style.height)){if(parseInt(f[ilx].object.style.height)>bis){bis=parseInt(f[ilx].object.style.height)
obname = f[ilx].objectname}}}}
if(isNaN(speed)==false){amount=speed}
for(ilx=0; ilx<f.length; ilx++){if(f[ilx].objectname.toLowerCase()==obname.toLowerCase()){f[ilx].stimerdirection=direction
f[ilx].stimertype=stype
if(f[ilx].stimer!=0){if(ishoney==1){f[ilx].object.style.overflow='auto'}
y2(f[ilx].stimer)
f[ilx].stimer=0}else{if(ishoney==1){scrollob.style.overflow='hidden'}
f[ilx].stimer=z9("xautoscroll('" + obname + "'," + amount + ")", 40)};break}}}
function xautoscroll(obname, amount){for(ilx=0; ilx<f.length; ilx++){if(f[ilx].objectname.toLowerCase()==obname.toLowerCase()){if(f[ilx].stimerdirection=='right'){if(f[ilx].object.style.visibility=='hidden'){if(ishoney==1){f[ilx].object.style.overflow='auto'}
y2(f[ilx].stimer)
f[ilx].stimer=0}else{if(f[ilx].stimer!=0&&f[ilx].object.scrollLeft + parseInt(f[ilx].object.style.width) >= f[ilx].object.scrollWidth){if(f[ilx].stimertype==0){if(ishoney==1){f[ilx].object.style.overflow='auto'}
y2(f[ilx].stimer)
f[ilx].stimer=0}else{f[ilx].stimerdirection='left'}}else{f[ilx].object.scrollLeft=f[ilx].object.scrollLeft+amount}}}
if(f[ilx].stimerdirection=='left'){if(f[ilx].object.style.visibility=='hidden'){if(ishoney==1){f[ilx].object.style.overflow='auto'}
y2(f[ilx].stimer)
f[ilx].stimer=0}else{if(f[ilx].stimer!=0&&f[ilx].object.scrollLeft==0){if(f[ilx].stimertype==0){if(ishoney==1){f[ilx].object.style.overflow='auto'}
y2(f[ilx].stimer)
f[ilx].stimer=0}else{f[ilx].stimerdirection='right'}}else{f[ilx].object.scrollLeft=f[ilx].object.scrollLeft-amount}}}
if(f[ilx].stimerdirection=='up'){if(f[ilx].object.style.visibility=='hidden'){if(ishoney==1){f[ilx].object.style.overflow='auto'}
y2(f[ilx].stimer)
f[ilx].stimer=0}else{if(f[ilx].stimer!=0&&f[ilx].object.scrollTop==0){if(f[ilx].stimertype==0){if(ishoney==1){f[ilx].object.style.overflow='auto'}
y2(f[ilx].stimer)
f[ilx].stimer=0}else{f[ilx].stimerdirection='down'}}else{f[ilx].object.scrollTop=f[ilx].object.scrollTop-amount}}}
if(f[ilx].stimerdirection=='down'){if(f[ilx].object.style.visibility=='hidden'){if(ishoney==1){f[ilx].object.style.overflow='auto'}
y2(f[ilx].stimer)
f[ilx].stimer=0}else{if(f[ilx].stimer!=0&&f[ilx].object.scrollTop + parseInt(f[ilx].object.style.height) >= f[ilx].object.scrollHeight){if(f[ilx].stimertype==0){if(ishoney==1){f[ilx].object.style.overflow='auto'}
y2(f[ilx].stimer)
f[ilx].stimer=0}else{f[ilx].stimerdirection='up'}}else{f[ilx].object.scrollTop=f[ilx].object.scrollTop+amount}}};break}}}
function stopautoscroll(obname){for(ilx=0; ilx<f.length; ilx++){if(f[ilx].objectname.toLowerCase()==obname.toLowerCase()){if(ishoney==1){f[ilx].object.style.overflow='auto'}
y2(f[ilx].stimer)
f[ilx].stimer=0;break}}}
</SCRIPT>
<SCRIPT>
function xscrollreturntop(obname){y2(scroller)
bis=0
if(obname==''){for(il=0; il<currentobjects.length; il++){ilx=currentobjects[il]
if(f[ilx].object.style.visibility=='visible'&&f[ilx].photo==''&&f[ilx].object.scrollHeight>parseInt(f[ilx].object.style.height)){if(parseInt(f[ilx].object.style.height)>bis){bis=parseInt(f[ilx].object.style.height)
obname = f[ilx].objectname}}}}
for(ilx=0; ilx<f.length; ilx++){if(f[ilx].objectname.toLowerCase()==obname.toLowerCase()){scrollob=f[ilx].object
if(ishoney==1){scrollob.style.overflow='hidden'}
scrollob.scrollTop=0
if(ishoney==1){scrollob.style.overflow='auto'};break}}}
function xscrollreset(obname){y2(scroller)
for(ilx=0; ilx<f.length; ilx++){if(f[ilx].objectname.toLowerCase()==obname.toLowerCase()){scrollob=f[ilx].object
scrollob.innerHTML=scrollob.innerHTML
scrollob.scrollTop=0;break}}}
function xscrollback(obnamex){y2(scroller)
eval(obnamex).history.back()}
function xscrollforward(obnamex){y2(scroller)
eval(obnamex).history.forward()}
function xscrollreturnleft(obname){y2(scroller)
for(ilx=0; ilx<f.length; ilx++){if(f[ilx].objectname.toLowerCase()==obname.toLowerCase()){scrollob=f[ilx].object
scrollob.scrollLeft=0;break}}}
function xscrollleft(obname){y2(scroller)
for(ilx=0; ilx<f.length; ilx++){if(f[ilx].objectname.toLowerCase()==obname.toLowerCase()){scrollob=f[ilx].object
scroller=z9('scrollleft2()',10);break}}}
function scrollleft2(){sdist=10
if(scrollob.innerHTML.toLowerCase().indexOf('pdf')>-1){sdist=35}
scrollob.scrollLeft=scrollob.scrollLeft-sdist}
function xscrollright(obname){y2(scroller)
for(ilx=0; ilx<f.length; ilx++){if(f[ilx].objectname.toLowerCase()==obname.toLowerCase()){scrollob=f[ilx].object
scroller=z9('scrollright2()',10);break}}}
function scrollright2(){sdist=10
if(scrollob.innerHTML.toLowerCase().indexOf('pdf')>-1){sdist=35}
scrollob.scrollLeft=scrollob.scrollLeft+sdist}
function xscrollup(obname){y2(scroller)
for(ilx=0; ilx<f.length; ilx++){if(f[ilx].objectname.toLowerCase()==obname.toLowerCase()){scrollob=f[ilx].object
scroller=z9('scrollup2()',10);break}}}
function scrollup2(){sdist=10
if(scrollob.innerHTML.toLowerCase().indexOf('pdf')>-1){sdist=35}
scrollob.scrollTop=scrollob.scrollTop-sdist}
function xscrolldown(obname){y2(scroller)
for(ilx=0; ilx<f.length; ilx++){if(f[ilx].objectname.toLowerCase()==obname.toLowerCase()){scrollob=f[ilx].object
scroller=z9('scrolldown2()',10);break}}}
function scrolldown2(){sdist=10
if(scrollob.innerHTML.toLowerCase().indexOf('pdf')>-1){sdist=35}
scrollob.scrollTop=scrollob.scrollTop+sdist}
function rotatex(delay, obname, degrees){if(delay>0){rotatexdelay=z8("rotatex(0,'" + obname + "'," + degrees + ")",delay);return};for(ixc=0; ixc<f.length; ixc++){if(f[ixc].objectname==obname){f[ixc].rotate=degrees;if(getsafari()){f[ixc].object.style.WebkitTransform='rotate(' + degrees + 'deg)'}else{if(getff()){f[ixc].object.style.MozTransform='rotate(' + degrees + 'deg)'}else{degg=Math.abs(degrees);if(degg>90){do{degg=degg-90}while (degg > 90)};degg=Math.round(degg,1);if(degg>45){degg=90-degg};ox=ierotate[degg];positionx(obname,getxleft(obname)-getxwidth(obname)/ox,getxtop(obname)-getxheight(obname)/ox);var deg2radians = Math.PI * 2 / 360;deg=degrees;rad = deg * deg2radians;costheta = Math.cos(rad);sintheta = Math.sin(rad);M11 = costheta;M12 = -sintheta;M21 = sintheta;M22 = costheta;f[ixc].object.style.filter="progid:DXImageTransform.Microsoft.Matrix(sizingMethod='auto expand',M11=" + M11 + ", M12=" + M12 + ", M21=" + M21 + ", M22=" + M22 + ")"}};break}}}
function xdimensions(theob,width,height){ofound=-1;for(ilx=0; ilx<f.length; ilx++){if(f[ilx].objectname.toLowerCase()==theob.toLowerCase()){ofound=ilx;break}};if(ofound==-1){return};setdimensionx(ofound,width,height)}
function movecyclex(delay,theob,time,interval,startpx,startpy,finalpx,finalpy){if(delay>0){tfdelay=z8("movecyclex(0,'" + theob + "'," + time + "," + interval + "," + startpx + "," + startpy + "," + finalpx + "," + finalpy + ")",delay);return}else{ofound=-1;for(ilx=0; ilx<f.length; ilx++){if(f[ilx].objectname.toLowerCase()==theob.toLowerCase()){ofound=ilx;break}}if(ofound==-1){return};f[ofound].pcounter=0;y2(f[ofound].pcounterv);f[ofound].pcounterv=z9("movecyclexx(" + ofound + "," + time + "," + interval + "," + startpx + "," + startpy + "," + finalpx + "," + finalpy + ")",interval)}}
function wobblex(delay,theob,xy,time,interval){ofound=xgetref(theob);if(ofound==-1){return};sx=parseInt(f[ofound].object.style.left);sy=parseInt(f[ofound].object.style.top);if(delay>0){tfdelay=z8("wobblex(0,'" + theob + "'," + xy + "," + time + "," + interval + "," + sx + "," + sy + ")",delay);return}else{y2(f[ofound].wcounter);f[ofound].wcounter=0;f[ofound].wcounterv=z9("wobblexx(" + ofound + "," + xy + "," + time + "," + interval + "," + sx + "," + sy + ")",interval)}}
function zoomcyclex(delay,theob,time,interval,startpercentx,startpercenty,finalpercentx,finalpercenty){if(delay>0){tfdelay=z8("zoomcyclex(0,'" + theob + "'," + time + "," + interval + "," + startpercentx + "," + startpercenty + "," + finalpercentx + "," + finalpercenty + ")",delay);return}else{ofound=-1;for(ilx=0; ilx<f.length; ilx++){if(f[ilx].objectname.toLowerCase()==theob.toLowerCase()){ofound=ilx;break}};if(ofound==-1){return};f[ofound].scounter=0;y2(f[ofound].scounterv);startpercentx=f[ofound].wwidth * (startpercentx/100);startpercenty=f[ofound].hheight * (startpercenty/100);finalpercentx=f[ofound].wwidth * (finalpercentx/100);finalpercenty=f[ofound].hheight * (finalpercenty/100);f[ofound].tx=parseInt(f[ofound].object.style.left)+(parseInt(f[ofound].object.style.width)/2);f[ofound].ty=parseInt(f[ofound].object.style.top)+(parseInt(f[ofound].object.style.height)/2);f[ofound].scounterv=z9("zoomcyclexx(" + ofound + "," + time + "," + interval + "," + startpercentx + "," + startpercenty + "," + finalpercentx + "," + finalpercenty + ")",interval)}}
function zoomcyclex2(delay,theob,time,interval,startpercentx,startpercenty,finalpercentx,finalpercenty){if(delay>0){tfdelay=z8("zoomcyclex2(0,'" + theob + "'," + time + "," + interval + "," + startpercentx + "," + startpercenty + "," + finalpercentx + "," + finalpercenty + ")",delay);return}else{ofound=-1;for(ilx=0; ilx<f.length; ilx++){if(f[ilx].objectname.toLowerCase()==theob.toLowerCase()){ofound=ilx;break}};if(ofound==-1){return};f[ofound].scounter=0;y2(f[ofound].scounterv);startpercentx=f[ofound].wwidth * (startpercentx/100);startpercenty=f[ofound].hheight * (startpercenty/100);finalpercentx=f[ofound].wwidth * (finalpercentx/100);finalpercenty=f[ofound].hheight * (finalpercenty/100);f[ofound].tx=parseInt(f[ofound].object.style.left)+(parseInt(f[ofound].object.style.width)/2);f[ofound].ty=parseInt(f[ofound].object.style.top)+(parseInt(f[ofound].object.style.height)/2);f[ofound].scounterv=z9("zoomcyclexx2(" + ofound + "," + time + "," + interval + "," + startpercentx + "," + startpercenty + "," + finalpercentx + "," + finalpercenty + ")",interval)}}
function opacitycyclex(delay,theob,time,interval,starta,enda){if(delay>0){tfdelay=z8("opacitycyclex(0,'" + theob + "'," + time + "," + interval + "," + starta + "," + enda + ")",delay);return}else{ofound=-1;for(ilx=0; ilx<f.length; ilx++){if(f[ilx].objectname.toLowerCase()==theob.toLowerCase()){ofound=ilx;break}}if(ofound==-1){return};f[ofound].ocounter=0;y2(f[ofound].ocounterv);f[ofound].ocounterv=z9("opacitycyclexx(" + ofound + "," + time + "," + interval + "," + starta + "," + enda + ")",interval)}}
</SCRIPT>
<SCRIPT>
function rotatecyclex(delay,theob,time,interval,starta,enda){if(delay>0){tfdelay=z8("rotatecyclex(0,'" + theob + "'," + time + "," + interval + "," + starta + "," + enda + ")",delay);return}else{ofound=-1;for(ilx=0; ilx<f.length; ilx++){if(f[ilx].objectname.toLowerCase()==theob.toLowerCase()){ofound=ilx;break}}if(ofound==-1){return};f[ofound].rcounter=0;y2(f[ofound].rcounterv);f[ofound].rcounterv=z9("rotatecyclexx(" + ofound + "," + time + "," + interval + "," + starta + "," + enda + ")",interval)}}
function flashcyclex(delay,theob,times,offtime,ontime,israndom){if(delay>0){tfdelay=z8("flashcyclex(0,'" + theob + "'," + times + "," + offtime + "," + ontime + "," + israndom + ")",delay);return}else{ofound=-1;for(ilx=0; ilx<f.length; ilx++){if(f[ilx].objectname.toLowerCase()==theob.toLowerCase()){ofound=ilx;break}};if(ofound==-1){return};f[ofound].fcounter=0;y1(f[ofound].fcounterv);f[ofound].fcounterv=z8("flashcyclexx(" + ofound + "," + (times*2) + "," + offtime + "," + ontime + "," + israndom + ")",1)}}
function transformxx(ofound,startpercentx,startpercenty,finalpercentx,finalpercenty,time,interval, xmoves, ymoves, xmovee, ymovee, starto, endo, starta, enda){obname=f[ofound].objectname;f[ofound].icounter=f[ofound].icounter+1;if(f[ofound].icounter>=(time/interval)+1){_kpxwidth=finalpercentx;_kpxheight=finalpercenty;setdimensionx(ofound,_kpxwidth, _kpxheight);_kpcenterx=xmovee + (_kpxwidth)/2;_kpcentery=ymovee + (_kpxheight)/2;_kpxtran=endo/100;_kpxrotate=enda;opacityxx(ofound,_kpxtran);rotatexx(ofound, (_kpxrotate));centerx(obname,_kpcenterx, _kpcentery);y2(f[ofound].icounterv);f[ofound].icounterv=0;return};_kpxperc=(finalpercentx-startpercentx) / (time/interval);_kpxwidth=startpercentx + f[ofound].icounter * _kpxperc;_kpyperc=(finalpercenty-startpercenty) / (time/interval)
_kpxheight=startpercentx + f[ofound].icounter * _kpyperc;_kpxlefti=(xmovee-xmoves) / (time/interval);_kpxleft=xmoves + f[ofound].icounter * _kpxlefti;_kpxtopi=(ymovee-ymoves) / (time/interval);
_kpxtop=ymoves + f[ofound].icounter * _kpxtopi;_kpxtrani=(endo-starto) / (time/interval);_kpxtran=starto + (f[ofound].icounter * _kpxtrani)/100;if(_kpxtran>100){_kpxtran=100};_kpxrotatei=(enda-starta) / (time/interval);_kpxrotate=(f[ofound].icounter * _kpxrotatei);setdimensionx(ofound,_kpxwidth, _kpxheight);_kpcenterx=(_kpxwidth)/2 + _kpxleft;_kpcentery=(_kpxheight)/2 + _kpxtop;centerx(obname,_kpcenterx, _kpcentery);opacityxx(ofound,_kpxtran);rotatexx(ofound, (_kpxrotate));if(f[ofound].object.style.visibility=="hidden"){hideifws(ofound)}}
function transformx(delay, theob,startpercentx,startpercenty,finalpercentx,finalpercenty,time,interval, xmove1, ymove1, xmove2, ymove2, starto, endo, starta, enda){if(delay>0){tfdelay=z8("transformx(0,'" + theob + "'," + startpercentx + "," + startpercenty + "," + finalpercentx + "," + finalpercenty + "," + time + "," + interval + "," + xmove1 + "," + ymove1 + "," + xmove2 + "," + ymove2 + "," + starto + "," + endo + "," + starta + "," + enda + ")",delay);return}else{ofound=-1;for(ilx=0; ilx<f.length; ilx++){if(f[ilx].objectname.toLowerCase()==theob.toLowerCase()){ofound=ilx;break}};if(ofound==-1){return};f[ofound].icounter=0;y2(f[ofound].icounterv);startpercentx=f[ofound].wwidth * (startpercentx/100);startpercenty=f[ofound].hheight * (startpercenty/100);finalpercentx=f[ofound].wwidth * (finalpercentx/100);finalpercenty=f[ofound].hheight * (finalpercenty/100);xmoves=xmove1;ymoves=ymove1;xmovee=xmove2;ymovee=ymove2;
f[ofound].icounterv=z9("transformxx(" + ofound + "," + startpercentx + "," + startpercenty + "," + finalpercentx + "," + finalpercenty + "," + time + "," + interval + "," + xmoves + "," + ymoves + "," + xmovee + "," + ymovee + "," + starto + "," + endo + "," + starta + "," + enda + ")",interval)}}
function xgettext(t){rval='';for (i=0; i<f.length; i++){if(f[i].objectname==t){if(f[i].ke=='freeform'){tbo=getObject( + i);rval= tbo.value}}};return rval}
function dragstart(theob){}
function dragended(theob){}
function _dragended(theob){thetob=f[theob].objectname
tex=1,texy=1
for(ixcf=0; ixcf<f.length; ixcf++){if(f[ixcf].pb1==theob){theaob=f[ixcf].objectname
thedp = getdragpercent(thetob)
theaudioduration = document.getElementById(theaob).duration
if(isNaN(theaudioduration)==false){document.getElementById(theaob).currentTime = document.getElementById(theaob).duration * thedp}else{f[theob].object.style.left=f[theob].rdragleft};break}}}
function xrandompos(theob,dileft,ditop,diright,dibottom){tdo=xgetref(theob)
if(tdo==-1){return}
newx=randomx(dileft,diright-(parseInt(f[tdo].object.style.width) * f[tdo].scale))
newy=randomx(ditop,dibottom-(parseInt(f[tdo].object.style.height) * f[tdo].scale))
f[tdo].object.style.left=newx,f[tdo].object.style.top=newy}
function xsetdragcoords(theob,dileft,ditop,diright,dibottom){tdo=xgetref(theob)
if(tdo==-1){return}
f[tdo].rdragleft=dileft,f[tdo].rdragtop=ditop,f[tdo].rdragright=diright+parseInt(f[tdo].object.style.width),f[tdo].rdragbottom=dibottom+parseInt(f[tdo].object.style.height)}
function resetxsetdragcoords(theob){xsetdragcoords(theob,-1,-1,-1,-1)}
function _dragging(theob){tdo=theob
f[tdo].isd=true
if(f[tdo].rdragbottom!=-1){olf=parseInt(f[tdo].object.style.left)
otf=parseInt(f[tdo].object.style.top)
owf=parseInt(f[tdo].object.style.width) * f[tdo].scale
ohf=parseInt(f[tdo].object.style.height) * f[tdo].scale
if(olf<f[tdo].rdragleft){f[tdo].object.style.left=f[tdo].rdragleft}
if(otf<f[tdo].rdragtop){f[tdo].object.style.top=f[tdo].rdragtop}
if(olf+owf>f[tdo].rdragright){f[tdo].object.style.left=f[tdo].rdragright-owf}
if(otf+ohf>f[tdo].rdragbottom){f[tdo].object.style.top=f[tdo].rdragbottom-ohf}
totaldragwidth=f[tdo].rdragright-f[tdo].rdragleft-owf
currentpos=parseInt(f[tdo].object.style.left)-f[tdo].rdragleft
percentpos = (parseInt((currentpos / totaldragwidth) * 100)) / 100
dragpercent(f[theob].objectname,percentpos)
dragpercentx(f[theob].objectname,percentpos)}
dragging(theob)}
function dragging(theob){}
function dragpercent(theob,perc){}
function dragpercentx(theob,perc){dragpercent(theob,perc)}
function getdragpercent(theob){tdo=xgetref(theob)
if(f[tdo].rdragbottom!=-1){owf=parseInt(f[tdo].object.style.width) * f[tdo].scale
totaldragwidth=f[tdo].rdragright-f[tdo].rdragleft-getxwidth(theob)
currentpos=parseInt(f[tdo].object.style.left)-f[tdo].rdragleft
percentpos = (parseInt((currentpos / totaldragwidth) * 100)) / 100
return percentpos}else{return -1}}
function setdragpercent(theob,percent){tdo=xgetref(theob)
if(f[tdo].rdragbottom!=-1){owf=parseInt(f[tdo].object.style.width) * f[tdo].scale
totaldragwidth=f[tdo].rdragright-f[tdo].rdragleft
percentpos = parseInt(totaldragwidth * percent)
f[tdo].object.style.left = f[tdo].rdragleft + percentpos}}
</SCRIPT>
<SCRIPT>
if(isie10){document.addEventListener('MSGestureHold',function(e){e.preventDefault();},false);}
try{document.addEventListener('contextmenu',function(e){if(showcontextmenu==false){e.preventDefault()};},false);}catch(err){}
</SCRIPT>
<SCRIPT>
if(isiphone==1||isitouch==1||isblackberry){document.addEventListener('touchmove', function(e) {if(e.preventDefault&&amo==false){asx=false
for (j=0; j<currentobjects.length; j++){i=currentobjects[j]
if(f[i].ke=='freeform'){asx=true;break}}
if(asx==false){e.preventDefault()}}})}
if(ishoney==1){document.addEventListener('touchmove', function(e) {if(e.preventDefault){asx=false
for (j=0; j<currentobjects.length; j++){i=currentobjects[j]
if(f[i].ke=='freeform'){asx=true;break}}
if(asx==false){e.preventDefault()}}})}
</SCRIPT>
<SCRIPT>
if(isiphone==1||isitouch==1||isblackberry||ishoney==1){document.body.style.webkitTouchCallout='none'}
</SCRIPT>
<SCRIPT>
function drawlinex(subject,returnnumber, rowheight, color1, color2, textcolor, fontfamily, textsize, subject2,textcolor2,textsize2,theimage,imageheight){linemessage= '<TABLE WIDTH=100% cellspacing=0 cellpadding=0 style="padding:0px;" border=0><TR>'
if(theimage!=''){linemessage=linemessage+'<TD class="listview" valign=middle style="height:' + rowheight + 'px;background-color:' + color1 + '"><IMG SRC="' + theimage + '" height=' + imageheight + '></TD>'}
linemessage=linemessage+'<TD class="listview" width=100% valign=middle style="height:' + rowheight + 'px;background-color:' + color1 + '" ontouchstart="this.style.backgroundColor=\'' + color1 + '\'" ontouchend="this.style.backgroundColor=\'' + color1 + '\'" onmouseout="this.style.backgroundColor=\'' + color1 + '\'" onmouseover="this.style.backgroundColor=\'' + color2 + '\'" onmouseup="this.style.backgroundColor=\'' + color2 + '\'" onmousedown="this.style.backgroundColor=\'' + color1 + '\'"><P style="color:' + textcolor + ';font-size:' + textsize + ';font-family:' + fontfamily + ';">' + subject + '</P>'
if(subject2!=''){linemessage=linemessage+'<P style="color:' + textcolor2 + ';font-size:' + textsize2 + ';font-family:' + fontfamily + ';">' + subject2 + '</P>'}
linemessage=linemessage+'</TD></TR></TABLE>';return linemessage}
function drawline(subject,returnnumber){return '<TABLE class=listviewx WIDTH=100% cellspacing=0 cellpadding=0><TR><TD width=* valign=middle><P class=subindextextx>' + subject + '</P></TD><TD width=100 align=center valign=middle><IMG width=90 height=40 onMouseUp="listselected(' + returnnumber + ');" ontouchstart="this.src=\'loaditbuttond.png\'" ontouchend="this.src=\'loaditbutton.png\'" SRC="loaditbutton.png"></TD><TD width=100 align=center valign=middle><IMG width=90 height=40 ontouchstart="this.src=\'rubbishd.png\'" ontouchend="this.src=\'rubbish.png\'" onMouseUp="listdeleted(' + returnnumber + ');" SRC="rubbish.png"></TD><TD width=10></TD></TR></TABLE>'}
function drawline2(subject,returnnumber){return '<TABLE class=listview ontouchmove="tim=true;this.className=\'listview\'" ontouchstart="tim=false;dxg=this;sig()" onMouseUp="tim=true;this.className=\'listview\';listselected(' + returnnumber + ');" onMouseDown="this.className=\'listview2\'" WIDTH=100% cellspacing=0 cellpadding=0><TR><TD width=* valign=middle><P class=subindextext><B>' + subject + '</B></P></TD></TR></TABLE>'}
</SCRIPT>
<SCRIPT>
function snipw(){}
</SCRIPT>
<SCRIPT>
</SCRIPT>
<SCRIPT>
function ocw(){if(ishoney==0&&navigator.userAgent.indexOf('IEMobile')==-1&&ietouch==false){return}
if(isdesktop){return}
if(window.innerWidth>window.innerHeight){showgroupp('rotated')}else{hidegroupp('rotated')
hidexobject('owarning')}}
top.window.onorientationchange = oc
function oc(){if(iswebos==1){return}
resizeit()
ohc()
if(isiphone==0&&isitouch==0&&isblackberry==false&&ishoney==0){return}
if(ishoney==0&&isandroid){return}
if(ishoney==1){ocw();return}
two = top.window.orientation
if(ishoney==1){if(two==0||two==180){two = 90}else{two = 0}}
if(two==180){two=0}
if(two!=0){resiz=false
if(isios==1){for(ixcf=0; ixcf<f.length; ixcf++){if(f[ixcf].hint.indexOf('moveup')>-1){resiz=true;f[ixcf].ttop=f[ixcf].hortop,f[ixcf].xtop=f[ixcf].hortop,f[ixcf].object.style.top=f[ixcf].ttop}
if(f[ixcf].hint.indexOf('sizeup')>-1){resiz=true;f[ixcf].hheight=f[ixcf].horheight,f[ixcf].xheight=f[ixcf].horheight,f[ixcf].object.style.height=f[ixcf].hheight}}
for (i=0; i<f.length; i++){f[i].maxscroll=f[i].object.scrollHeight - f[i].hheight
f[i].maxscrolly=f[i].object.scrollWidth - f[i].wwidth
if(f[i].maxscroll>1||f[i].maxscrolly>1){f[i].hasevent=true}}}
showgroupp('rotated')
resizeit()}else{hidexobject('owarning')
hidegroupp('rotated')
if(isios==1){for(ixcf=0; ixcf<f.length; ixcf++){if(f[ixcf].hint.indexOf('moveup')>-1){f[ixcf].ttop=f[ixcf].vertop,f[ixcf].xtop=f[ixcf].vertop,f[ixcf].object.style.top=f[ixcf].ttop}
if(f[ixcf].hint.indexOf('sizeup')>-1){f[ixcf].hheight=f[ixcf].verheight,f[ixcf].xheight=f[ixcf].verheight,f[ixcf].object.style.height=f[ixcf].hheight}}
for (i=0; i<f.length; i++){f[i].maxscroll=f[i].object.scrollHeight - f[i].hheight
f[i].maxscrolly=f[i].object.scrollWidth - f[i].wwidth
if(f[i].maxscroll>1||f[i].maxscrolly>1){f[i].hasevent=true}}}
resizeit()}}
</SCRIPT>
<SCRIPT>
for(ixcf=0; ixcf<f.length; ixcf++){if(f[ixcf].objectname=='notapp'||f[ixcf].objectname=='owarning'||f[ixcf].objectname=='dragbar'||f[ixcf].objectname=='dragthumb'){f[ixcf].timeon=0,f[ixcf].timeoff=0,f[ixcf].timeon=0,f[ixcf].timeoff=0,f[ixcf].mo_timeon=0,f[ixcf].mo_timeoff=0}}
</SCRIPT>
<SCRIPT>
var initialTouchPositiony=0, scrollleftright=false, scrollupdown=false, startscrolly=0, startscrollyy, mobs=0, hastouched=false, monkey=-1, monkeyswipe=false, mwv=false, initialPositionx = 0, lastPositionx = 0, lastPositiony = 0, dragbar = -1, dragthumb = -1, superswipelx=-1, superswipestart=-1, superswipeend=-1, superswipe=false, allowswipe=false, allowswiperight=false, allowswipeleft=false
for(ixc=0; ixc<f.length; ixc++){if(f[ixc].objectname=='monkeyswipe'){monkey=ixc}}
for(ixc=0; ixc<f.length; ixc++){f[ixc].scrollinfo='', f[ixc].scrollstep=0
if(f[ixc].objectname.substring(0,7)=='scrolll'||f[ixc].objectname.substring(0,7)=='scrollr'||f[ixc].objectname.substring(0,7)=='scrollu'||f[ixc].objectname.substring(0,7)=='scrolld'){steptgt = parseInt(f[ixc].objectname.substring(8,12))
if(isNaN(steptgt)==false){f[ixc].scrollinfo=f[ixc].objectname.substring(0,7)
f[ixc].scrollstep = steptgt * 5}}}
var scrollu=false, scrolld=false, scrolll=false, scrollr=false
var scrollui=0, scrolldi=0, scrollli=0, scrollri=0
function setupmovelrup(){cstep = (getstepnumber() - 1) * 5
scrollu=false, scrolld=false, scrolll=false, scrollr=false
scrollui=0, scrolldi=0, scrollli=0, scrollri=0
wildswipelr=false,wildswipeud=false
for (j=0; j<currentobjects.length; j++){i=currentobjects[j]
if(f[i].scrollinfo=='scrollu'){if(thepos-f[i].scrollstep>=0){wildswipeud=true, scrollu=true
scrollui=f[i].scrollstep}}
if(f[i].scrollinfo=='scrolld'){if(thepos+f[i].scrollstep<=duration-5){wildswipeud=true, scrolld=true
scrolldi=f[i].scrollstep}}
if(f[i].scrollinfo=='scrolll'){if(thepos-f[i].scrollstep>=0){wildswipelr=true, scrolll=true
scrollli=f[i].scrollstep}}
if(f[i].scrollinfo=='scrollr'){if(thepos+f[i].scrollstep<=duration-5){wildswipelr=true, scrollr=true
scrollri=f[i].scrollstep}}}
if(wildswipelr==true&&wildswipeud==true){if(xmlr==true){wildswipeup=false}
if(xmud==true){wildswipelr=false}}
if(wildswipeud===false&&wildswipelr==false){wildswipe=false
mods=0
return}
for (j=0; j<f.length; j++){f[j].ogg='',f[j].oggg=0
if(f[j].timeon==f[j].timeoff||f[j].hint.indexOf('nomove')>-1){}else{if(wildswipelr){if(f[j].timeon<=cstep&&f[j].timeoff>cstep){f[j].ogg='swiperlr'
f[j].ojleft=f[j].lleft}
if(f[j].ogg!='swiperlr'&&f[j].timeon==cstep+scrollri&&f[j].timeoff>cstep+scrollri&&scrollr==true&&f[j].z1==0){f[j].ogg='swiperlr'
f[j].ojleft=f[j].lleft+cwidth
f[j].object.style.opacity=f[j].tval, f[j].object.style.visibility = 'visible';oivxx(j);f[j].onflag = '1'}
if(f[j].ogg!='swiperlr'&&f[j].timeon<=cstep-scrollli&&f[j].timeoff>cstep-scrollli&&scrolll==true&&f[j].z1==0){f[j].ogg='swiperlr'
f[j].ojleft=f[j].lleft-cwidth
f[j].object.style.opacity=f[j].tval, f[j].object.style.visibility = 'visible';oivxx(j);f[j].onflag = '1'}}else{if(wildswipeud){if(f[j].timeon<=cstep&&f[j].timeoff>cstep){f[j].ogg='swiperup'
f[j].ojtop=f[j].ttop}
if(f[j].ogg!='swiperup'&&f[j].timeon==cstep+scrolldi&&f[j].timeoff>cstep+scrolldi&&scrolld==true&&f[j].z1==0){f[j].ogg='swiperup'
f[j].ojtop=f[j].ttop+cheight
f[j].object.style.opacity=f[j].tval, f[j].object.style.visibility = 'visible';oivxx(j);f[j].onflag = '1'}
if(f[j].ogg!='swiperup'&&f[j].timeon<=cstep-scrollui&&f[j].timeoff>cstep-scrollui&&scrollu==true&&f[j].z1==0){f[j].ogg='swiperup'
f[j].ojtop=f[j].ttop-cheight
f[j].object.style.opacity=f[j].tval, f[j].object.style.visibility = 'visible';oivxx(j);f[j].onflag = '1'}}}}}}
function setupmove(){cstep = (getstepnumber() - 1) * 5
for (j=0; j<f.length; j++){if(f[j].og=='swiper'){if(f[j].timeon==cstep+5){f[j].object.style.left=f[j].lleft+cwidth
f[j].ojleft=f[j].lleft+cwidth
showobject (j)}else{if(f[j].timeon==cstep-5){f[j].object.style.left=f[j].lleft-cwidth
f[j].ojleft=f[j].lleft-cwidth
showobject (j)}else{if(f[j].timeon==cstep){f[j].object.style.left=f[j].lleft
f[j].ojleft=f[j].lleft}}}}}}
var initialTouchPositionx=-1, initialTouchPositiony=-1
function checkformobs(event){mobs = 0
xnewpos = initialTouchPositionx - lastPositionx
xnewpos = xnewpos * 1.5
if(xnewpos>cwidth){xnewpos=cwidth}
if(xnewpos<-cwidth){xnewpos=-cwidth}
ynewpos = initialTouchPositiony - lastPositiony
ynewpos = ynewpos * 1.5
if(ynewpos>cheight){ynewpos=cheight}
if(ynewpos<-cheight){ynewpos=-cheight}
for (j=0; j<f.length; j++){if(f[j].ogg=='swiperup'){cl=f[j].object.style.posTop
newtoppos=f[j].ojtop-ynewpos
if(scrolld==true&&newtoppos<f[j].ttop){thepos2 = thepos + (scrolldi)
if(f[j].timeon<=thepos&&f[j].timeoff>thepos&&f[j].timeon<=thepos2&&f[j].timeoff>thepos2){newtoppos=f[j].ttop}}
if(scrollu==true&&newtoppos>f[j].ttop){thepos2 = thepos - (scrollui)
if(f[j].timeon<=thepos&&f[j].timeoff>thepos&&f[j].timeon<=thepos2&&f[j].timeoff>thepos2){newtoppos=f[j].ttop}}
if(scrollu==false&&ynewpos<0){newtoppos=f[j].ojtop}
if(scrolld==false&&ynewpos>0){newtoppos=f[j].ojtop}
xdo = 1
if(newtoppos+f[j].hheight<0||newtoppos>cheight){if(cl+f[j].hheight<0||cl>cheight){xdo=0}}
if(xdo==1){if(cl!=newtoppos){f[j].object.style.top=newtoppos}}
mobs = mobs + 1}
if(f[j].ogg=='swiperlr'){cl=f[j].object.style.posLeft
newtoppos=f[j].ojleft-xnewpos
if(scrollr==true&&newtoppos<f[j].lleft){thepos2 = thepos + (scrollri)
if(f[j].timeon<=thepos&&f[j].timeoff>thepos&&f[j].timeon<=thepos2&&f[j].timeoff>thepos2){newtoppos=f[j].lleft}}
if(scrolll==true&&newtoppos>f[j].lleft){thepos2 = thepos - (scrollli)
if(f[j].timeon<=thepos&&f[j].timeoff>thepos&&f[j].timeon<=thepos2&&f[j].timeoff>thepos2){newtoppos=f[j].lleft}}
if(scrolll==false&&xnewpos<0){newtoppos=f[j].ojleft}
if(scrollr==false&&xnewpos>0){newtoppos=f[j].ojleft}
xdo = 1
if(newtoppos+f[j].wwidth<0||newtoppos>cwidth){if(cl+f[j].wwidth<0||cl>cwidth){xdo=0}}
if(xdo==1){if(cl!=newtoppos){f[j].object.style.left=newtoppos}}
mobs = mobs + 1}
if(mobs>0){allowswiperight=true,allowswipeleft=true}}
if(mobs>0){return}
for (j=0; j<f.length; j++){if(f[j].og=='swiper'){if(f[j].object.style.visibility=='visible'){if(getstepnumber()==1&&f[j].timeon==0&&xnewpos<0){}else{if(getstepnumber()*5==getduration()&&f[j].timeon==getduration()-5&&xnewpos>0){}else{f[j].object.style.left=f[j].ojleft-xnewpos
mobs = mobs + 1}}}}}
if(mobs>0){allowswiperight=true,allowswipeleft=true}}
function getswipedetails(){nswipe=false
for (j=0; j<currentobjects.length; j++){i=currentobjects[j]
if(f[i].objectname=='noswipe'){allowswiperight = false
allowswipeleft = false
nswipe=true;break}}
if(nswipe==true){return}
for (j=0; j<currentobjects.length; j++){i=currentobjects[j]
if(f[i].scrollinfo=='scrolllr'||f[i].scrollinfo=='scrollud'||f[i].scrollinfo=='scrolld'||f[i].scrollinfo=='scrollu'||f[i].scrollinfo=='scrolll'||f[i].scrollinfo=='scrollr'){wildswipe = true
return}}
monkeyswipe=false, mvw=false, allowswipe=false, allowswiperight=false, allowswipeleft=false, superswipe=false, superswipelx=-1, superswipestart=-1, superswipeend=-1
if(monkey>-1){if(f[monkey].hatimeon<=thepos&&f[i].hatimeoff>thepos){monkeyswipe = true
if(f[i].object.style.visibility=='visible'){mvw=true}}}
for (j=0; j<currentobjects.length; j++){i=currentobjects[j]
if(f[i].objectname=='swipe'){allowswiperight = true
allowswipeleft = true}
if(f[i].objectname=='swipeleft'){allowswiperight = false
allowswipeleft = true}
if(f[i].objectname=='swiperight'){allowswiperight = true
allowswipeleft = false}
if(f[i].objectname=='superswipe'){superswipelx=i
superswipestart=(f[i].timeon/5)+1
superswipeend=(f[i].timeoff/5)+1
superswipe = true
allowswiperight = true
allowswipeleft = true}
if(monkeyswipe==false){if(f[i].objectname=='monkeyswipe'){monkeyswipe = true
if(f[i].object.style.visibility=='visible'){mvw=true}}}
if(f[i].objectname=='noswipe'){allowswiperight = false
allowswipeleft = false;break}}
for (j=0; j<currentobjects.length; j++){i=currentobjects[j]
if(f[i].objectname=='noswiperight'){allowswiperight = false}
if(f[i].objectname=='noswipeleft'){allowswipeleft = false}}}
var amo=false, dblob = -1, removedouble = 0, lx=-1, touch=0, pim=false
</SCRIPT>
<SCRIPT>
function dblit(){dblob=-1}
longtouchtimer=0, ltti=0, ltto=-1, lttd=-1
function ltt(){cmisD = new Date();
longtouchtimer = cmisD.getTime();
y2(ltti)
ltti=z9('cltt()',100)}
function cltt(){cmisD = new Date();
longtouchtimer2 = cmisD.getTime();
if(longtouchtimer2-longtouchtimer>500){y2(ltti)
if(istouchdevice){tev=f[ltto].downevent;if(tev==''){tev=f[ltto].upevent};if(tev==''){tev=f[ltto].xevent}
if(f[ltto].metro==1){xscaleliteral(ltto,1)}
if(f[ltto].imagedown!=''){try{object=getObject('mainiii' + ltto)
object.style.display='none'}catch(err){}}
processEvent (tev,ltto)}
longtouchx(f[ltto].objectname)}}
var tempsig=0, initialTouchPositionyie=-1,initialTouchPositionxie=-1,dragx=-1, dragy=-1, dragsx=-1, dragsy=-1, touchdown='',stopie=false, dpmt=-1
if(ietouch){document.addEventListener("MSPointerMove",touchmoveie,false);document.addEventListener("MSPointerDown",touchstartie,false);document.addEventListener("MSPointerUp",touchendie,false);document.addEventListener("MSGestureEnd",touchendie,false)}
function touchendie(event){touchend(event);stopie=false}
function touchstartie(event){if(stopie){return};dpmt=thepos;initialTouchPositionx = event.clientX,initialTouchPositiony = event.clientY,initialTouchPositionxie = event.clientX,initialTouchPositionyie = event.clientY;touchstart(event);stopie=true}
function touchmoveie(event){if(dpmt!=thepos){return};lastPositionx = event.clientX;lastPositiony = event.clientY;touchmove(event)}
function touchstart(event){if(gstarted==1){return}
if(isandroid&&androidsteptimer2==true){return}
y2(scroller);y1(stimer)
amo=false,xmoveby=0,ymoveby=0,cactevent=true,touchdown=''
if(ietouch==false){touch = event.touches[0]
initialTouchPositionx = touch.pageX
initialTouchPositiony = touch.pageY
var touch2 = event.touches[1]}
wildswipelr=false, wildswipeud = false, wildswipe = false
wildswipe=false, wildswipeud=false, wildswipelr=false, scrolll=false, scrollr=false, scrollu=false, scrolld=false
lttod=-1, ltto=-1, lx=-9, startscrolly=-1, startscrollyy=-1
tpix=initialTouchPositionx, tpiy=initialTouchPositiony
lx = getLayer(initialTouchPositionx, initialTouchPositiony)
if(menuup&&l==-1){ow=parseInt(tmentos.style.width),oh=parseInt(tmentos.style.height),ox=parseInt(tmentos.style.left),oy=parseInt(tmentos.style.top)
if(x<ox||x>ox+ow||y<oy||y>oy+oh){hidecreatedmenus()}}
if(lx>-1){_mousedownx(lx);hidemoo(lx);}
if(lx>-1&&f[lx].hascevent){canvasnum=lx,canvason=true
canvasdrawstart(initialTouchPositionx, initialTouchPositiony,l)
return}
if(lx>-1){if(f[lx].downevent=='dragtarget'){pix=tpix,piy=tpiy}
lttod=lx
if(f[lx].mod==4){y2(ltti)
ltt()
ltto=lx}
if(f[lx].text.indexOf("'acss")>-1){amo=true
if(isandroid){clearandroidtimer()
androidsteptimer2=true
androidsteptimer=z8('clearandroidtimer()',500)}
if(f[lx].downevent!=''){processEvent(f[lx].downevent,lx, false)}
if(f[lx].xevent!=''){processEvent(f[lx].xevent,lx, false)}
return}else{if(menuup==false&&f[lx].nohide==''&&cactevent&&f[lx].hint!='range'){if(f[lx].downevent!=''){processEvent(f[lx].downevent,lx, false)}
if(f[lx].xevent!=''){processEvent(f[lx].xevent,lx, false)}}}
if(f[lx].hint=='range'){amo=true;return}
if(f[lx].nohide!=''){if(cactevent==true){amo=false
f[lx].performed++
checkxcustom(lx)
xo=f[lx].nohide
xo=fur(xo,"(x)",f[lx].objectname)
xo=fur(xo,"(r)",f[lx].rotate)
xo=fur(xo,"(o)",f[lx].tval)
xo=fur(xo,"(lx)",parseInt(f[lx].object.style.left))
xo=fur(xo,"(t)",parseInt(f[lx].object.style.top))
eval (xo)
if(f[lx].mds!=''){playSoundd(f[lx].mds, lx)}}
return}
if(f[lx].drag==true){dragobject = lx
dragstart(lx)
dragx=initialTouchPositionx, dragy=initialTouchPositiony,dragsx=parseInt(f[lx].object.style.left),dragsy=parseInt(f[lx].object.style.top)
if(f[lx].mds==''){return}}}
lxs = getmd(initialTouchPositionx, initialTouchPositiony)
if(lx>-1){if(f[lx].mds!=''){playSound (f[lx].mds, lx)}
if(f[lx].text.indexOf('<audio')>-1){f[lx].maxscroll=0
f[lx].maxscrolly=0}
if(f[lx].maxscroll>0){startscrolly = f[lx].object.scrollTop}
if(f[lx].maxscrolly>0){startscrollyy = f[lx].object.scrollLeft}
if((f[lx].maxscroll>1||f[lx].maxscrolly>1)&&ishoney==1){amo = true
return}}
if(lxs>-1){pde=true;if(lx>-1){if(f[lx].downevent=='block'){pde=false}}
if(f[lxs].imagedown!=''&&pde==true){touchdown=lxs+1
if(f[lxs].hint=='state'){if(tbro=='ie'&&istouchdevice==false){}else{swapstate (lxs)}}else{xcr=.92;if(f[i].wwidth>=200){xcr=.94};if(f[i].wwidth>=300){xcr=.96};if(f[i].wwidth>=400){xcr=.97};if(f[i].wwidth>=600){xcr=.989}
if(f[lxs].metro==1){xscaleliteral(lxs,xcr)}
try{object=getObject('mainiii' + lxs)
object.style.display='inline'}catch(err){}}
if(f[lxs].xevent!=''){return}}
if(f[lxs].tdclass!=''){object=getObject('main' + lxs);object.className='';fredx=z8("z7(" + lxs + ",'" + f[lxs].tdclass + "')",1)}}
if(ietouch==false){var touch2 = event.touches[1]}
firsttouchstart(initialTouchPositionx,initialTouchPositiony)
if(ietouch==false){if(typeof touch2!='undefined'){secondtouchstart(touch2.pageX,touch2.pageY)}}
getswipedetails()
if(startscrolly>-1||startscrollyy>-1){wildswipe=false}}
var wildswipe=false, wildswipelr=false, wildswipeud=false, stimer=0, xmoveby=0, ymoveby=0, xmovedir=0, oldx1=0, oldx2=0, oldy1=0, oldy2=0
function keepmoving(){y1 (stimer)
if(xmovedir==0){f[lx].object.scrollTop = f[lx].object.scrollTop + xmoveby}else{f[lx].object.scrollTop = f[lx].object.scrollTop - xmoveby}
if(f[lx].maxscrolly>0){if(ymovedir==0){f[lx].object.scrollLeft = f[lx].object.scrollLeft + ymoveby}else{f[lx].object.scrollLeft = f[lx].object.scrollLeft - ymoveby}}
stimer = z8('keepmoving()', 20)
xmoveby = xmoveby - 4
ymoveby = ymoveby - 4
if(xmoveby<0&&ymoveby<0){y1(stimer)}
cactevent=false
y1(cacteventt)
cacteventt=z8('cactevent=true',250)}
var xmlr=false, xmud=false
function touchmove(event){if(gstarted==1){return}
if(pim==true){return}
if(ietouch==false){touch = event.touches[0]
lastPositionx = touch.pageX
lastPositiony = touch.pageY}
if(canvason){canvasdraw(touch.pageX, touch.pageY)
return}
if(mix>-1){pue=true,tobj=f[mio].object,touch=event.touches[0],nl=touch.pageX-mix,nt=touch.pageY-miy
if(f[mio].downevent!='dragtarget'){minxd=f[mio].lleft,maxxd=f[mio].lleft+f[mio].xdistance
if(f[mio].xdistance<0){minxd=f[mio].lleft+f[mio].xdistance,maxxd=f[mio].lleft}
minyd=f[mio].ttop,maxyd=f[mio].ttop+f[mio].ydistance
if(f[mio].ydistance<0){minyd=f[mio].ttop+f[mio].ydistance,maxyd=f[mio].ttop}
if(nl<minxd){nl=minxd};if(nt<minyd){nt=minyd};if(nl>maxxd){nl=maxxd};if(nt>maxyd){nt=maxyd}}
if(nl<0){nl=0};if(nt<0){nt=0};if(nl+f[mio].wwidth>cwidth){nl=cwidth-f[mio].wwidth};if(nt+f[mio].hheight>cheight){nt=cheight-f[mio].hheight}
cspos=-1
if(f[mio].sequence){for(j=0; j<currentobjects.length; j++){i=currentobjects[j]
if(f[i].sequence&&f[i].seqid==f[mio].seqid&&i!=mio){tobj2=f[i].object,tobj2.style.zIndex=600+i}}
tobj.style.zIndex=700+i
seqdets=f[mio].seqdet.split('|'),nl=f[mio].lleft
if(nt<seqdets[0]){nt=new Number(seqdets[0]),cspos=1}
csqh=new Number(seqdets[0])+new Number(seqdets[1]-1)+f[mio].hheight
if(f[mio].dts){csqh=csqh/2+60}else{csqh=csqh-30}
if(nt+f[mio].hheight>csqh){nt=csqh-30;cspos=f[mio].seqc}}
tobj.style.left=nl,tobj.style.top=nt
if(f[mio].sequence){if(cspos!=1&&cspos!=f[mio].seqc){cspos=1
for(j=0; j<currentobjects.length; j++){i=currentobjects[j]
if(f[i].sequence&&f[i].seqid==f[mio].seqid){tobj2=f[i].object
tot=parseInt(tobj2.style.top)
nt = parseInt(tobj.style.top)
if(tot<nt*1){cspos=cspos + 1}}}}
if((cspos)!=f[mio].eseqid){for(j=0; j<currentobjects.length; j++){i=currentobjects[j]
if(f[i].sequence&&f[i].seqid==f[mio].seqid&&i!=mio){if(f[i].eseqid==cspos){f[i].eseqid=f[mio].eseqid;break}}}
f[mio].eseqid=cspos,ldata=f[mio].seqdet.split('|'),thetop=ldata[0]
for(jj=1; jj<f[mio].seqc+1; jj++){for(jjj=0; jjj<currentobjects.length; jjj++){i=currentobjects[jjj]
if(f[i].sequence&&f[i].seqid==f[mio].seqid&&f[i].eseqid==jj){if(i!=mio){tobj2=f[i].object
tobj2.style.top=thetop}
dts=3;if(f[i].dts){dts=1}
thetop=new Number(thetop)+new Number(f[i].hheight)+new Number(ldata[2])-dts;break}}}}}
if(f[mio].sequence==false){hamarker=false
for (j=0; j<currentobjects.length; j++){i=currentobjects[j]
if(f[i].og!=''&&f[i].og==f[mio].og){if(f[i].ismarker==true){hamarker=true;break}}}                        
if(hamarker==false){for (j=0; j<currentobjects.length; j++){i=currentobjects[j]
if(f[i].og!=''&&f[i].og==f[mio].og&&f[i].ismarker==false){tobj=f[i].object
xoffset=f[i].lleft-f[mio].lleft
yoffset=f[i].ttop-f[mio].ttop
tobj.style.left = nl + xoffset
tobj.style.top = nt + yoffset}}}}}
if(dragobject>-1){newleft=dragsx+lastPositionx/zratio-dragx/zratio,newtop=dragsy+lastPositiony/zratio-dragy/zratio,f[dragobject].object.style.left=newleft,f[dragobject].object.style.top=newtop
smidx=parseInt(parseInt(f[dragobject].object.style.left) + parseInt(f[dragobject].object.style.width)/2), smidy=parseInt(parseInt(f[dragobject].object.style.top) + parseInt(f[dragobject].object.style.height)/2)
_dragging(dragobject)
return}
if(ltto>-1){if(Math.abs(initialTouchPositiony - lastPositiony)>10||Math.abs(initialTouchPositionx - lastPositionx)>10){y2(ltti)
if(f[ltto].metro==1){xscaleliteral(ltto,1)}
if(f[ltto].imagedown!=''){try{object=getObject('mainiii' + ltto)
object.style.display='none'}catch(err){}}
ltto=-1}}
if(lttod>-1){if(Math.abs(initialTouchPositiony - lastPositiony)>10||Math.abs(initialTouchPositionx - lastPositionx)>10){if(f[lttod].metro==1){xscaleliteral(lttod,1)}
if(f[lttod].imagedown!=''){try{object=getObject('mainiii' + lttod)
object.style.display='none'}catch(err){}}
lttod=-1}}
if((startscrolly!=-1||startscrollyy!=-1)&&ietouch){return}
if(startscrolly!=-1||startscrollyy!=-1){ynewpos = initialTouchPositiony - lastPositiony
oldx2 = oldx1
oldx1 = ynewpos
xmoveby = Math.abs(oldx1) - Math.abs(oldx2)
xmovedir = 0
if(oldx1<0){xmovedir=1}
f[lx].object.scrollTop = startscrolly + ynewpos
if(f[lx].maxscrolly>0){ynewpos = initialTouchPositionx - lastPositionx
oldy2 = oldy1
oldy1 = ynewpos
ymoveby = Math.abs(oldy1) - Math.abs(oldy2)
ymovedir = 0
if(oldy1<0){ymovedir=1}
f[lx].object.scrollLeft = startscrollyy + ynewpos}
cactevent=false
y1(cacteventt)
cacteventt=z8('cactevent=true',250)
return}
if(wildswipe==true){xmlr=false, xmud=false
if(wildswipelr==false&&wildswipeud==false){xnewpos = initialTouchPositionx - lastPositionx
ynewpos = initialTouchPositiony - lastPositiony
if(Math.abs(xnewpos)>Math.abs(ynewpos)){wildswipelr=true,xmlr=true}else{wildswipeud=true,xmud=true}
setupmovelrup()}
checkformobs(event)
return}
if(ietouch==false){var touch2 = event.touches[1]}
firsttouch(lastPositionx,lastPositiony)
checkformobs(event)
if(hasstarted==false){return}
if(ietouch==false){if(typeof touch2!='undefined'){secondtouch(touch2.pageX,touch2.pageY)}}
if(monkeyswipe){xcwidth=f[monkey].wwidth/2
ycwidth=f[monkey].hheight/2
f[monkey].object.style.left = lastPositionx - xcwidth
f[monkey].object.style.top = lastPositiony - ycwidth
if(f[monkey].object.style.visibility=='hidden'){showobject(monkey)}
return}
if(superswipe==false){return}
if(superswipe==false&&allowswiperight==false&&allowswipeleft==false){return}
if(superswipe==true){if((initialTouchPositionx-lastPositionx) < -15){initialTouchPositionx=lastPositionx
if(getstepnumber()>superswipestart){gotoprevious()
getswipedetails()
return}else{gotoiTime(superswipeend-1)
return}}
if((initialTouchPositionx-lastPositionx)>15){initialTouchPositionx=lastPositionx
if(getstepnumber()<superswipeend-1){gotonext()
getswipedetails()
return}else{gotoiTime(superswipestart-1)
return}}
return}
hastouched = true
if(mobs==0){xnewpos = initialTouchPositionx - lastPositionx}}
var cactevent=true,lttod=-1
</SCRIPT>
<SCRIPT>
function touchend(event){if(isandroid&&androidsteptimer2==true){return}
if(ietouch){initialTouchPositiony=initialTouchPositionyie;initialTouchPositionx=initialTouchPositionxie}
pim=false, amo=false
if(mio!=-1){ti=ltto
if(f[mio].sequence){ldata=f[mio].seqdet.split('|'),thetop=ldata[0]
for(jj=1; jj<f[mio].seqc+1; jj++){for(jjj=0; jjj<currentobjects.length; jjj++){i=currentobjects[jjj]
if(f[i].sequence&&f[i].seqid==f[mio].seqid&&f[i].eseqid==jj){tobj2=f[i].object,tobj2.style.top=thetop,tobj2.style.zIndex=i,dts=3;if(f[i].dts){dts=1}
thetop=new Number(thetop)+new Number(f[i].hheight)+new Number(ldata[2])-dts;break}}}}
tobj=f[mio].object,nl=parseInt(tobj.style.left),nt=parseInt(tobj.style.top),mix=-1, miy=-1, pix=-1, piy=-1, ti=mio, mio=-1
processEvent(f[ti].downevent,ti)
return}
if(ltto>-1){y2(ltti)
if(f[ltto].metro==1){xscaleliteral(ltto,1)}
if(f[ltto].imagedown!=''){try{object=getObject('mainiii' + ltto)
object.style.display='none'}catch(err){}}
ltto=-1}
if(canvason){canvasdrawend()
canvasnum=-1,canvason=false
return}
if(dragobject>-1){nleft=parseInt(f[dragobject].object.style.left),ntop=parseInt(f[dragobject].object.style.top)
if(f[dragobject].xdistance!=f[dragobject].xleft||f[dragobject].ydistance!=f[dragobject].xtop){if(Math.abs(nleft-f[dragobject].xdistance)<20&&Math.abs(ntop-f[dragobject].ydistance)<20){nleft=f[dragobject].xdistance,ntop=f[dragobject].ydistance,f[dragobject].object.style.left=nleft,f[dragobject].object.style.top=ntop}}
f[dragobject].lleft=nleft,f[dragobject].ttop=ntop,f[dragobject].isd=false
_dragended(dragobject)
dragended(dragobject)
dragobject = -1}
y2(scroller)
if(xmoveby!=0||ymoveby!=0){keepmoving()}
if(touchdown!=''&&lttod!=-1){if(f[touchdown-1].metro==1){xscaleliteral(touchdown-1,1)}
try{object=getObject('mainiii' + (touchdown-1))
object.style.display='none'}catch(err){}
if(f[touchdown-1].mod!=4){processEvent (f[touchdown-1].upevent,touchdown-1)
if(isandroid){clearandroidtimer()
androidsteptimer2=true
androidsteptimer=z8('clearandroidtimer()',100)}}}
firsttouchend(lastPositionx,lastPositiony)
if(ietouch==false){if(typeof touch2!='undefined'){secondtouchend(touch2.pageX,touch2.pageY)}}
if(hasstarted==false){hastouched=false;return false}
if(monkeyswipe){monkeydone()}
if(monkeyswipe&&mvw){f[monkey].object.style.visibility='hidden'}
if(hastouched==false&&wildswipe==false){return false}
if(exclusivegroup){return false}
hastouched=false;theoldpos=thepos
if(wildswipe==true){swipewidth=150
if(isios==1){swipewidth = zratio * swipewidth}
shoving=true
sch = false
if((initialTouchPositiony-lastPositiony) < -swipewidth&&allowswipeleft&&scrollu){gotoTime(thepos-scrollui);sch=true}
if((initialTouchPositiony-lastPositiony) > swipewidth&&allowswiperight&&scrolld&&sch==false){gotoTime(thepos+scrolldi);sch=true}
if((initialTouchPositionx-lastPositionx) < -swipewidth&&allowswipeleft&&scrolll&&sch==false){gotoTime(thepos-scrollli);sch=true}
if((initialTouchPositionx-lastPositionx) > swipewidth&&allowswiperight&&scrollr&&sch==false){gotoTime (thepos + scrollri)}}else{swipewidth=100
if(isios==1){swipewidth = zratio * swipewidth}
if((initialTouchPositionx-lastPositionx) < -swipewidth&&allowswipeleft){if(getstepnumber()>1){gotoprevious();return}
if(getstepnumber()==1){jumpPause(getduration()-1)}}
if((initialTouchPositionx-lastPositionx) > swipewidth&&allowswiperight){if(parseInt(getstepnumber())<getduration()){gotonext()}
if(getstepnumber()==getduration()){backPause(getduration()-1)}}}
if(wildswipe==true){for (xj=0; xj<f.length; xj++){if(f[xj].timeon>thepos||f[xj].timeoff<=thepos){hideobject (xj)}}
updateobs()}
if(theoldpos!=thepos){hidem()
stepchangex((thepos / 5)+1)
stepchangex2((thepos / 5)+1)}
sipww()
setupmove()
wildswipe=false, wildswipeud=false, wildswipelr=false, scrolll=false, scrollr=false, scrollu=false, scrolld=false
shoving=false
for (j=0; j<f.length; j++){f[j].ogg=''}}
for (j=0; j<f.length; j++){if(f[j].theclass=='null'&&f[j].object.className!='null'){f[j].theclass=f[j].object.className}}
</SCRIPT>
<SCRIPT>
var gstarted=0, srotateit = 0, smidx = 0, smidy = 0, smidxx = 0, smidyy = 0, tobxy = 0, tobxym = 0, tobid=-1
if(isiphone==1||isitouch==1||isblackberry||ishoney==1){document.addEventListener('touchstart', touchstart, false)
document.addEventListener('touchmove', touchmove, false)
document.addEventListener('touchend', touchend, false)
function gestureChange(event) {for (j=0; j<currentobjects.length; j++){i=currentobjects[j]
if('maini' + i==event.target.id){if(f[i].canrotate){rotatex(0,f[i].objectname,new Number(event.rotation) + new Number(srotateit))}
if(f[i].canscale){f[i].object.style.width=smidxx*event.scale, f[i].object.style.height=smidyy*event.scale
tobxy.style.width=smidxx*event.scale, tobxy.style.height=smidyy*event.scale
centerx(f[i].objectname,smidx,smidy)};break}}}
function gestureStart(event) {srotateit = 0, gstarted=1
for (j=0; j<currentobjects.length; j++){i=currentobjects[j]
if('maini' + i==event.target.id){tobxy=getObject(event.target.id),tobid=i, tobxym=f[i].object
srotateit=f[i].rotate
smidx=parseInt(parseInt(f[i].object.style.left) + parseInt(f[i].object.style.width)/2), smidy=parseInt(parseInt(f[i].object.style.top) + parseInt(f[i].object.style.height)/2)
smidxx=parseInt(f[i].object.style.width), smidyy=parseInt(f[i].object.style.height);break}}}
function gestureendx(object,objectleft,objecttop,objectwidth,objectheight,objectrotate){}
function noscalex(t){for (j=0; j<f.length; j++){if(t==f[j].objectname){f[j].canscale=false}}}
function canscalex(t){for (j=0; j<f.length; j++){if(t==f[j].objectname){f[j].canscale=true}}}
function norotatex(t){for (j=0; j<f.length; j++){if(t==f[j].objectname){f[j].canrotate=false}}}
function canrotatex(t){for (j=0; j<f.length; j++){if(t==f[j].objectname){f[j].canrotate=true}}}
function gestureEnd(event) {gstarted=0
if(tobid!=-1){gestureendx(f[tobid].objectname, parseInt(tobxym.style.left), parseInt(tobxym.style.top), parseInt(tobxym.style.width), parseInt(tobxym.style.height),f[tobid].rotate)
if(f[tobid].parameter.substring(0,7)=='_kpslio'){xvb = tobid
srotateit = 0, smidx = 0, smidy = 0, smidxx = 0, smidyy = 0, tobxy = 0, tobxym = 0, tobid=-1
xvbb = z8('processEvent(f[xvb].downevent,xvb)', 100)}}
srotateit = 0, smidx = 0, smidy = 0, smidxx = 0, smidyy = 0, tobxy = 0, tobxym = 0, tobid=-1}
document.addEventListener('gesturestart', gestureStart, false)
document.addEventListener('gesturechange', gestureChange, false)
document.addEventListener('gestureend', gestureEnd, false)}
</SCRIPT>
<SCRIPT>
for (j=0; j<f.length; j++){f[j].ism=false
if(f[j].theclass.indexOf('kpmarquee2')>-1){f[j].ism=true,f[j].theclass='',f[j].object.className='';if(f[j].photo!=''){xf=f[j].photo,xffull="<DIV width=100% height=100% id='mainms" + j + "'><TABLE WIDTH=100% height=100% cellspacing=0 cellpadding=0><TR><TD><IMG SRC='" + xf + "' width=" + f[j].wwidth + " height=" + f[j].hheight + "></TD></TR><TR><TD><IMG SRC='" + xf + "' width=" + f[j].wwidth + " height=" + f[j].hheight + "></TD></TR></TABLE></DIV>", f[j].object.innerHTML=xffull,zobject=getObject('mainms'+j),zobject.className='marquee' + f[j].oid,f[j].photo=''}}
if(f[j].theclass.indexOf('kpmarquee')>-1){f[j].ism=true,f[j].theclass='',f[j].object.className='';if(f[j].photo!=''){xf=f[j].photo,xffull="<DIV width=100% height=100% id='mainms" + j + "'><TABLE WIDTH=100% height=100% cellspacing=0 cellpadding=0><TD><IMG SRC='" + xf + "' width=" + f[j].wwidth + " height=" + f[j].hheight + "></TD><TD><IMG SRC='" + xf + "' width=" + f[j].wwidth + " height=" + f[j].hheight + "></TD></TABLE></DIV>", f[j].object.innerHTML=xffull,zobject=getObject('mainms'+j),zobject.className='marquee' + f[j].oid,f[j].photo=''}}}
</SCRIPT>
<SCRIPT>
var uv=0
var ap=false
if(getArg("us")=='no'){for(i=0; i<f.length; i++){if((f[i].timeon/5)+3==(duration/5)){hidexpermanent(f[i].objectname)}
if((f[i].timeon/5)+0==(duration/5)-3){setonoffx((f[i].timeon/5)-1,(f[i].timeoff/5)-1)}}
duration=duration-5}
var cb=true
var sn=false
var bm=false
var fb=false
var pdf=false
var ib=false
var pb=false
var rl=true
var farright=getxleft("closebutton")
var butwidth=getxwidth("closebutton")
var thegap=5
if(getArg("logo")=='yes'){loadnewpicture("logo","../logo.png",getxwidth("logo"),getxheight("logo"))
showxpermanent("logo")}else{hidexpermanent("logo")}
if(parent.window.opener==null||typeof(parent.window.opener)=='undefined'){hidexpermanent("closebutton")
hidexpermanent("closebutton2")
for(oix=0; oix<f.length; oix++){peit=false
if(f[oix].ke=='closeconfirm'||f[oix].overevent=='closeconfirm'||f[oix].xevent=='closeconfirm'||f[oix].upevent=='closeconfirm'||f[oix].downevent=='closeconfirm'||f[oix].dblevent=='closeconfirm'){peit=true}
if(f[oix].ke=='close'||f[oix].overevent=='close'||f[oix].upevent=='close'||f[oix].xevent=='close'||f[oix].downevent=='close'||f[oix].dblevent=='close'){peit=true}
if(peit==true){hidexpermanent(f[oix].objectname);f[oix].og=''}}
cb=false}
if(getArg("fb")!='yes'||APIOK()==false){fb=false;hidexpermanent("feedback")}
if(cb){farright=farright-butwidth-thegap}
moveitpermanent("feedback",farright,getxtop("closebutton"))
if(fb){farright=farright-butwidth-thegap}
if(getArg("cgf")=='no'){cangofull=false}
warningcol=getArg("warningcol")
if(warningcol!=''){for (j=0; j<f.length; j++){if(f[j].og.toLowerCase()=="audio"&&f[j].alt!=''){if(warningcol=="grayscale"){f[j].object.style.webkitFilter='grayscale(100%)';f[j].object.style.filter='grayscale(100%)'}else{if(warningcol=="sepia"){f[j].object.style.webkitFilter='sepia(100%)';f[j].object.style.filter='sepia(100%)'}else{f[j].object.style.webkitFilter='hue-rotate(' + warningcol + 'deg)';f[j].object.style.filter='hue-rotate(' + warningcol + 'deg)'}}}}}
butcol=getArg("butcol")
if(butcol!=''){for (j=0; j<f.length; j++){if(f[j].og.toLowerCase()=="navigationbuttons"){if(butcol=="grayscale"){f[j].object.style.webkitFilter='grayscale(100%)';f[j].object.style.filter='grayscale(100%)'}else{if(butcol=="sepia"){f[j].object.style.webkitFilter='sepia(100%)';f[j].object.style.filter='sepia(100%)'}else{f[j].object.style.webkitFilter='hue-rotate(' + butcol + 'deg)';f[j].object.style.filter='hue-rotate(' + butcol + 'deg)'}}}}}
rectcol=getArg("rectcol")
if(rectcol!=''){for (j=0; j<f.length; j++){if(f[j].og.toLowerCase()=="navigationrectangles"){if(rectcol=="grayscale"){f[j].object.style.webkitFilter='grayscale(100%)';f[j].object.style.filter='grayscale(100%)'}else{if(rectcol=="sepia"){f[j].object.style.webkitFilter='sepia(100%)';f[j].object.style.filter='sepia(100%)'}else{f[j].object.style.webkitFilter='hue-rotate(' + rectcol + 'deg)';f[j].object.style.filter='hue-rotate(' + rectcol + 'deg)'}}}}}
function rafs(){if('webkitRequestFullScreen' in document.documentElement){document.body.webkitRequestFullScreen()}
if('mozRequestFullScreen' in document.documentElement){document.body.mozRequestFullScreen()}
if('msRequestFullScreen' in document.documentElement){document.body.msRequestFullScreen()}}
function moveitpermanent(theob,cxoffset,cyoffset){tbf=theob;newl=cxoffset;newt=cyoffset;ijh=xgetref(tbf);f[ijh].xleft=newl;f[ijh].lleft=newl;positionx(tbf,newl,newt)}
function offsetitpermanent(theob,cxoffset,cyoffset){tbf=theob;newl=getxleft(tbf)+cxoffset;newt=getxtop(tbf)+cyoffset;ijh=xgetref(tbf);f[ijh].xleft=newl;f[ijh].lleft=newl;positionx(tbf,newl,newt)}
function xswappedonoff(object,state){if(object=="audio"){if(state=="up"){swapsound(true)}else{swapsound(false)};watchstepagain()}}
function xupstate(l){ll=xgetref(l);if(ll==-1){return};if(hasstarted==false&&getArg("audio")=='no'){return};upstate(ll)}
</SCRIPT>
<SCRIPT>
</SCRIPT>
<SCRIPT>
if(typeof indexheader=='undefined'){indexheader='Contents'}
_kpindextitle=indexheader
updatexobject('_kpindextitle')
if(typeof noteheader=='undefined'){noteheader='Notes'}
_kpnotetitle=noteheader
updatexobject('_kpnotetitle')
if(typeof scoreheader=='undefined'){scoreheader='Current Score'}
_kpscoretitle=scoreheader
updatexobject('_kpscoretitle')
</SCRIPT>
<SCRIPT>
for(i=0; i<f.length; i++){if(f[i].xrotate>0){rotatex (0,f[i].objectname,f[i].xrotate)}
f[i].tdclass=''
f[i].iclass=''
if(f[i].theclass.indexOf('_touch')>-1){f[i].object.className = ''
cname=f[i].theclass
f[i].theclass = ''
f[i].tdclass = cname}
if(f[i].theclass.indexOf('_image')>-1||f[i].theclass.indexOf('_imagx')>-1){f[i].object.className = ''
cname=f[i].theclass
f[i].theclass = ''
f[i].iclass = cname}}
var processme=1
</SCRIPT>
<IMG id='tempimage' style='visibility:hidden;overflow:hidden;position:absolute;top:-100px;left:-100px;width:1px;height:1px;'>
<CANVAS id='tempcanvas' style='visibility:hidden;overflow:hidden;position:absolute;top:0px;left:0px;width:100px;height:25px;'></CANVAS>
<DIV id='subdata' style='visibility:hidden;overflow:hidden;position:absolute;top:0px;left:0px;width:100px;height:25px;'></DIV>
<DIV id='iloaderdiv' style='opacity:0;visibility:hidden;overflow:hidden;position:absolute;top:0px;left:0px;width:200px;height:25px;'><input id='iloader' style='width:200px;' type='file'><BR><input id='iloader2' style='width:200px;' type='file'><BR><input id='iloader3' style='width:200px;' type='file'><BR><input id='iloader4' style='width:200px;' type='file'></DIV>
<DIV id='idragdiv' style='background-color:white;opacity:.001;visibility:hidden;visibility:hidden;position:absolute;top:0px;left:0px;width:1px;height:1px;'></DIV>
<SCRIPT>
var signaturedata='',signatureobject=-1,signaturecanvas=-1,signaturecontext=-1
for(jk=0; jk<f.length;jk++){if(f[jk].hint=='signature'){signatureobject=jk,signaturecanvas=document.getElementById('mainc' + jk),signaturecontext=signaturecanvas.getContext('2d')
ctxwidth=2,ctxcolor='#000000';break}}
var fileloaddiv=document.getElementById('iloaderdiv')
var filedragdiv=document.getElementById('idragdiv')
var usercanvas=document.getElementById('idragdiv')
try{document.getElementById('iloader').addEventListener('change', loadfromfile, false);
document.getElementById('iloader2').addEventListener('change', loadfromfile, false);
document.getElementById('iloader3').addEventListener('change', loadfromfile, false);
document.getElementById('iloader4').addEventListener('change', loadfromfile, false);}catch(err){}
try{filedragdiv.addEventListener('dragenter', noProp, false)
filedragdiv.addEventListener('dragover', noProp, false)
filedragdiv.addEventListener('dragleave', noProp, false)
filedragdiv.addEventListener('drop', getImage, false)}catch(err){}
if(cangofull==false){for(oix=1; oix<f.length; oix++){if(f[oix].ke=='rafs'||f[oix].overevent=='rafs'||f[oix].upevent=='rafs'||f[oix].downevent=='rafs'||f[oix].dblevent=='rafs'){hidexpermanent(f[oix].objectname)
f[oix].og=''}}}
if(isios==1){if(window.opener==null||typeof(window.opener)=='undefined'){for(oix=1; oix<f.length; oix++){peit=false
if(f[oix].ke=='closeconfirm'||f[oix].overevent=='closeconfirm'||f[oix].upevent=='closeconfirm'||f[oix].downevent=='closeconfirm'||f[oix].dblevent=='closeconfirm'){peit=true}
if(f[oix].ke=='close'||f[oix].overevent=='close'||f[oix].upevent=='close'||f[oix].downevent=='close'||f[oix].dblevent=='close'){peit=true}
if(peit==true){hidexpermanent(f[oix].objectname)
f[oix].og=''}}}}
for(ixcf=0; ixcf<f.length; ixcf++){f[ixcf].pb1=-1,f[ixcf].pb2=-1,f[ixcf].isd=false
if(f[ixcf].hint=='auto'){loadimagelocal(f[ixcf].objectname,f[ixcf].objectname)}
if(f[ixcf].text.indexOf('<audio')>-1){f[ixcf].pb1=xgetref(f[ixcf].objectname + 'pb1'),f[ixcf].pb2=xgetref(f[ixcf].objectname + 'pb2')
if(f[ixcf].pb1>-1&&f[ixcf].pb2>-1){pb1=f[ixcf].pb1,pb2=f[ixcf].pb2
allowdragx(f[pb1].objectname)
xsetdragcoords(f[pb1].objectname,getxleft(f[pb2].objectname)+1-10,getxtop(f[pb2].objectname)+1,getxleft(f[pb2].objectname) + getxwidth(f[pb2].objectname)-getxwidth(f[pb1].objectname)-1+10,getxtop(f[pb2].objectname)+1)}}}
for(i=0; i<f.length; i++){f[i].soo=0
switch (f[i].oid){}}
for(i=0; i<f.length; i++){if(f[i].ii==1){f[i].object.setAttribute('role', 'navigation')}else{if(f[i].timeon==0&&f[i].timeoff==duration){f[i].object.setAttribute('role', 'banner')}else{if(f[i].downevent=='launchwindow'||f[i].upevent=='launchwindow'||f[i].xevent=='launchwindow'){f[i].object.setAttribute('role', 'complementary')}else{f[i].object.setAttribute('role', 'main')}}}
if(f[i].hoto==false){if(f[i].photo!=''){f[i].photo='_kpinvis.gif'}
f[i].og='';f[i].timeon=0;f[i].timeoff=0;f[i].mo_timeon=0;f[i].mo_timeoff=0;}}
for(i=0; i<f.length; i++){f[i].sprites='',f[i].sno=0,f[i].ir='',f[i].spto=0,f[i].sptoe=0;if(f[i].objectname.indexOf('sprite01')>-1){for(ic=1; ic<100;ic++){frex=xgetref(f[i].objectname.substring(0,f[i].objectname.length-1)+ic);if(frex>-1){if(ic>1){hidexpermanent(f[frex].objectname)};f[i].sprites=f[i].sprites+'|'+frex}else{break}};if(f[i].sprites!=''){f[i].sprites=f[i].sprites.substring(1,f[i].sprites.length);f[i].ir=getObject('maini'+i);if(f[i].timeout==''){f[i].hasevent=true;f[i].downevent='sprite'}else{f[i].spto=1;f[i].timeout=''}}}}
for (oix=0; oix<f.length; oix++){if(f[oix].ftext.indexOf('graph.htm')>-1){f[oix].gtext=f[oix].ftext}else{f[oix].gtext=''}}
for(i=0; i<f.length; i++){switch (f[i].oid){case 50:
if(f[i].photo!=''){getObject('maini' + i).title = 'Close'}else{f[i].object.title = 'Close'};break
case 40:
if(f[i].photo!=''){getObject('maini' + i).title = 'Close'}else{f[i].object.title = 'Close'};break
case 11:
if(f[i].photo!=''){getObject('maini' + i).title = 'Provide Feedback...'}else{f[i].object.title = 'Provide Feedback...'};break
case 10:
if(f[i].photo!=''){getObject('maini' + i).title = 'Close'}else{f[i].object.title = 'Close'};break
case 9:
if(f[i].photo!=''){getObject('maini' + i).title = 'Run at Full Screen'}else{f[i].object.title = 'Run at Full Screen'};break}}
</SCRIPT>
</BODY></HTML>


